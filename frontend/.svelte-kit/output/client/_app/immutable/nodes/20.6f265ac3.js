import{s as ol,f as c,g as u,h as m,d,j as i,i as I,G as Ie,L as vl,E as ot,F as A,a as y,l as ke,c as C,m as ge,A as o,B as R,n as Pe,e as pt,W as kt,k as Nt,P as Pt,I as He,M as ml,J as Se,K as ee,S as kl,C as gt,D as gl,o as xl,Q as wl,R as At,p as yl,T as Cl}from"../chunks/scheduler.cc6cbc02.js";import{S as dl,i as cl,a as $e,t as nt,c as ul,b as fl,d as hl,m as _l,g as pl,e as bl}from"../chunks/index.cf161fb4.js";import{e as ze}from"../chunks/each.61c71743.js";import{g as jt,P as Bt}from"../chunks/paths.f059e082.js";import"../chunks/runtime.d95da1ca.js";import{a as mt,E as Ot,g as El}from"../chunks/api.ecdb55f2.js";import{user as Tl}from"../chunks/auth.9aaca404.js";import{L as Dl}from"../chunks/Loading.1b4bc8d5.js";/* empty css                                                                     */function Ht(s,e,t){const l=s.slice();return l[14]=e[t],l}function St(s,e,t){const l=s.slice();return l[17]=e[t],l}function zt(s,e,t){const l=s.slice();return l[20]=e[t],l}function Il(s){let e,t=ze(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Wt(Ht(s,t,r));return{c(){e=c("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=u(r,"DIV",{class:!0});var n=m(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(d),this.h()},h(){i(e,"class","max-h-64 overflow-y-auto border border-slate-200/70 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 shadow-sm")},m(r,n){I(r,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(r,n){if(n&61){t=ze(r[2]);let a;for(a=0;a<t.length;a+=1){const f=Ht(r,t,a);l[a]?l[a].p(f,n):(l[a]=Wt(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&d(e),ot(l,r)}}}function Ll(s){let e,t='<p class="text-sm text-slate-500 dark:text-slate-400">暂无分类数据</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-oc2uv1"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-center py-4")},m(l,r){I(l,e,r)},p:Ie,d(l){l&&d(e)}}}function Vl(s){let e,t='<div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"></div> <span class="ml-2 text-sm text-slate-500 dark:text-slate-400">加载分类中...</span>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-f2d0lz"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex items-center justify-center py-4")},m(l,r){I(l,e,r)},p:Ie,d(l){l&&d(e)}}}function Ml(s){let e;return{c(){e=c("div"),this.h()},l(t){e=u(t,"DIV",{class:!0}),m(e).forEach(d),this.h()},h(){i(e,"class","w-6 h-6 mr-2")},m(t,l){I(t,e,l)},p:Ie,d(t){t&&d(e)}}}function Nl(s){let e,t,l,r;function n(h,p){return p&12&&(t=null),t==null&&(t=!!h[3](h[14].id)),t?Al:Pl}let a=n(s,-1),f=a(s);function _(){return s[8](s[14])}return{c(){e=c("button"),f.c(),this.h()},l(h){e=u(h,"BUTTON",{type:!0,class:!0});var p=m(e);f.l(p),p.forEach(d),this.h()},h(){i(e,"type","button"),i(e,"class","mr-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded flex items-center justify-center w-6 h-6")},m(h,p){I(h,e,p),f.m(e,null),l||(r=R(e,"click",kt(_)),l=!0)},p(h,p){s=h,a!==(a=n(s,p))&&(f.d(1),f=a(s),f&&(f.c(),f.m(e,null)))},d(h){h&&d(e),f.d(),l=!1,r()}}}function Pl(s){let e,t="▶";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1f66a3h"&&(e.textContent=t),this.h()},h(){i(e,"class","text-sm")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function Al(s){let e,t="▼";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-11a4sbr"&&(e.textContent=t),this.h()},h(){i(e,"class","text-sm")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function Ut(s){let e,t="(可选择或展开查看子分类)";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-yp1nqz"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs text-slate-400 ml-1")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function Ft(s){let e,t=ze(s[14].children),l=[];for(let r=0;r<t.length;r+=1)l[r]=Kt(St(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=pt()},l(r){for(let n=0;n<l.length;n+=1)l[n].l(r);e=pt()},m(r,n){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,n);I(r,e,n)},p(r,n){if(n&61){t=ze(r[14].children);let a;for(a=0;a<t.length;a+=1){const f=St(r,t,a);l[a]?l[a].p(f,n):(l[a]=Kt(f),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&d(e),ot(l,r)}}}function jl(s){let e;return{c(){e=c("div"),this.h()},l(t){e=u(t,"DIV",{class:!0}),m(e).forEach(d),this.h()},h(){i(e,"class","w-6 h-6 mr-2")},m(t,l){I(t,e,l)},p:Ie,d(t){t&&d(e)}}}function Bl(s){let e,t,l,r;function n(h,p){return p&12&&(t=null),t==null&&(t=!!h[3](h[17].id)),t?Hl:Ol}let a=n(s,-1),f=a(s);function _(){return s[10](s[17])}return{c(){e=c("button"),f.c(),this.h()},l(h){e=u(h,"BUTTON",{type:!0,class:!0,style:!0});var p=m(e);f.l(p),p.forEach(d),this.h()},h(){i(e,"type","button"),i(e,"class","mr-2 p-1 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded flex items-center justify-center w-6 h-6"),Nt(e,"z-index","10"),Nt(e,"position","relative")},m(h,p){I(h,e,p),f.m(e,null),l||(r=R(e,"click",kt(_)),l=!0)},p(h,p){s=h,a!==(a=n(s,p))&&(f.d(1),f=a(s),f&&(f.c(),f.m(e,null)))},d(h){h&&d(e),f.d(),l=!1,r()}}}function Ol(s){let e,t="▶";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-8z391g"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function Hl(s){let e,t="▼";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1bxfonq"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function Rt(s){let e,t="(可选择或展开查看三级分类)";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1nt1s2j"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs text-slate-400 ml-1")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function qt(s){let e,t=ze(s[17].children),l=[];for(let r=0;r<t.length;r+=1)l[r]=Gt(zt(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=pt()},l(r){for(let n=0;n<l.length;n+=1)l[n].l(r);e=pt()},m(r,n){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,n);I(r,e,n)},p(r,n){if(n&37){t=ze(r[17].children);let a;for(a=0;a<t.length;a+=1){const f=zt(r,t,a);l[a]?l[a].p(f,n):(l[a]=Gt(f),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&d(e),ot(l,r)}}}function Gt(s){let e,t,l,r,n,a,f,_,h,p,v=s[20].name+"",x,b,D,g,O;function k(){return s[12](s[20])}return{c(){e=c("div"),t=c("div"),l=c("div"),r=y(),n=c("label"),a=c("input"),h=y(),p=c("span"),x=ke(v),D=y(),this.h()},l(S){e=u(S,"DIV",{class:!0});var N=m(e);t=u(N,"DIV",{class:!0});var te=m(t);l=u(te,"DIV",{class:!0}),m(l).forEach(d),r=C(te),n=u(te,"LABEL",{class:!0});var H=m(n);a=u(H,"INPUT",{type:!0,name:!0,class:!0}),h=C(H),p=u(H,"SPAN",{class:!0});var U=m(p);x=ge(U,v),U.forEach(d),H.forEach(d),te.forEach(d),D=C(N),N.forEach(d),this.h()},h(){i(l,"class","w-6 h-6 mr-2"),i(a,"type","radio"),i(a,"name","classification"),a.value=f=s[20].id,a.checked=_=s[0]===s[20].id,i(a,"class","mr-2 text-blue-600 focus:ring-blue-500"),i(p,"class","text-sm text-slate-600 dark:text-slate-400"),i(n,"class","flex-1 cursor-pointer flex items-center"),i(t,"class",b="flex items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer "+(s[0]===s[20].id?"bg-blue-50 dark:bg-blue-900/20":"")),i(e,"class","ml-4")},m(S,N){I(S,e,N),o(e,t),o(t,l),o(t,r),o(t,n),o(n,a),o(n,h),o(n,p),o(p,x),o(e,D),g||(O=R(a,"change",k),g=!0)},p(S,N){s=S,N&4&&f!==(f=s[20].id)&&(a.value=f),N&5&&_!==(_=s[0]===s[20].id)&&(a.checked=_),N&4&&v!==(v=s[20].name+"")&&Pe(x,v),N&5&&b!==(b="flex items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer "+(s[0]===s[20].id?"bg-blue-50 dark:bg-blue-900/20":""))&&i(t,"class",b)},d(S){S&&d(e),g=!1,O()}}}function Kt(s){let e,t,l,r,n,a,f,_,h,p,v=s[17].name+"",x,b,D=Oe(s[17]),g,O,k=Oe(s[17])&&s[3](s[17].id),S,N,te;function H(P,E){return E&4&&(l=null),l==null&&(l=!!Oe(P[17])),l?Bl:jl}let U=H(s,-1),T=U(s);function ne(){return s[11](s[17])}let L=D&&Rt(),V=k&&qt(s);return{c(){e=c("div"),t=c("div"),T.c(),r=y(),n=c("label"),a=c("input"),h=y(),p=c("span"),x=ke(v),b=y(),L&&L.c(),O=y(),V&&V.c(),S=y(),this.h()},l(P){e=u(P,"DIV",{class:!0});var E=m(e);t=u(E,"DIV",{class:!0});var ie=m(t);T.l(ie),r=C(ie),n=u(ie,"LABEL",{class:!0});var G=m(n);a=u(G,"INPUT",{type:!0,name:!0,class:!0}),h=C(G),p=u(G,"SPAN",{class:!0});var q=m(p);x=ge(q,v),q.forEach(d),b=C(G),L&&L.l(G),G.forEach(d),ie.forEach(d),O=C(E),V&&V.l(E),S=C(E),E.forEach(d),this.h()},h(){i(a,"type","radio"),i(a,"name","classification"),a.value=f=s[17].id,a.checked=_=s[0]===s[17].id,i(a,"class","mr-2 text-blue-600 focus:ring-blue-500"),i(p,"class","text-sm font-medium text-slate-700 dark:text-slate-300"),i(n,"class","flex-1 cursor-pointer flex items-center"),i(t,"class",g="flex items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-700 "+(s[0]===s[17].id?"bg-blue-50 dark:bg-blue-900/20":"")),i(e,"class","ml-4")},m(P,E){I(P,e,E),o(e,t),T.m(t,null),o(t,r),o(t,n),o(n,a),o(n,h),o(n,p),o(p,x),o(n,b),L&&L.m(n,null),o(e,O),V&&V.m(e,null),o(e,S),N||(te=R(a,"change",ne),N=!0)},p(P,E){s=P,U===(U=H(s,E))&&T?T.p(s,E):(T.d(1),T=U(s),T&&(T.c(),T.m(t,r))),E&4&&f!==(f=s[17].id)&&(a.value=f),E&5&&_!==(_=s[0]===s[17].id)&&(a.checked=_),E&4&&v!==(v=s[17].name+"")&&Pe(x,v),E&4&&(D=Oe(s[17])),D?L||(L=Rt(),L.c(),L.m(n,null)):L&&(L.d(1),L=null),E&5&&g!==(g="flex items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-700 "+(s[0]===s[17].id?"bg-blue-50 dark:bg-blue-900/20":""))&&i(t,"class",g),E&12&&(k=Oe(s[17])&&s[3](s[17].id)),k?V?V.p(s,E):(V=qt(s),V.c(),V.m(e,S)):V&&(V.d(1),V=null)},d(P){P&&d(e),T.d(),L&&L.d(),V&&V.d(),N=!1,te()}}}function Wt(s){let e,t,l,r,n,a,f,_,h,p,v=s[14].name+"",x,b,D=Oe(s[14]),g,O,k=Oe(s[14])&&s[3](s[14].id),S,N,te;function H(P,E){return E&4&&(l=null),l==null&&(l=!!Oe(P[14])),l?Nl:Ml}let U=H(s,-1),T=U(s);function ne(){return s[9](s[14])}let L=D&&Ut(),V=k&&Ft(s);return{c(){e=c("div"),t=c("div"),T.c(),r=y(),n=c("label"),a=c("input"),h=y(),p=c("span"),x=ke(v),b=y(),L&&L.c(),O=y(),V&&V.c(),S=y(),this.h()},l(P){e=u(P,"DIV",{class:!0});var E=m(e);t=u(E,"DIV",{class:!0});var ie=m(t);T.l(ie),r=C(ie),n=u(ie,"LABEL",{class:!0});var G=m(n);a=u(G,"INPUT",{type:!0,name:!0,class:!0}),h=C(G),p=u(G,"SPAN",{class:!0});var q=m(p);x=ge(q,v),q.forEach(d),b=C(G),L&&L.l(G),G.forEach(d),ie.forEach(d),O=C(E),V&&V.l(E),S=C(E),E.forEach(d),this.h()},h(){i(a,"type","radio"),i(a,"name","classification"),a.value=f=s[14].id,a.checked=_=s[0]===s[14].id,i(a,"class","mr-2 text-blue-600 focus:ring-blue-500"),i(p,"class","text-sm font-medium text-slate-900 dark:text-white"),i(n,"class","flex-1 cursor-pointer flex items-center"),i(t,"class",g="flex items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-700 "+(s[0]===s[14].id?"bg-blue-50 dark:bg-blue-900/20":"")),i(e,"class","classification-node")},m(P,E){I(P,e,E),o(e,t),T.m(t,null),o(t,r),o(t,n),o(n,a),o(n,h),o(n,p),o(p,x),o(n,b),L&&L.m(n,null),o(e,O),V&&V.m(e,null),o(e,S),N||(te=R(a,"change",ne),N=!0)},p(P,E){s=P,U===(U=H(s,E))&&T?T.p(s,E):(T.d(1),T=U(s),T&&(T.c(),T.m(t,r))),E&4&&f!==(f=s[14].id)&&(a.value=f),E&5&&_!==(_=s[0]===s[14].id)&&(a.checked=_),E&4&&v!==(v=s[14].name+"")&&Pe(x,v),E&4&&(D=Oe(s[14])),D?L||(L=Ut(),L.c(),L.m(n,null)):L&&(L.d(1),L=null),E&5&&g!==(g="flex items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-700 "+(s[0]===s[14].id?"bg-blue-50 dark:bg-blue-900/20":""))&&i(t,"class",g),E&12&&(k=Oe(s[14])&&s[3](s[14].id)),k?V?V.p(s,E):(V=Ft(s),V.c(),V.m(e,S)):V&&(V.d(1),V=null)},d(P){P&&d(e),T.d(),L&&L.d(),V&&V.d(),N=!1,te()}}}function Sl(s){let e;function t(n,a){return n[1]?Vl:n[2].length===0?Ll:Il}let l=t(s),r=l(s);return{c(){e=c("div"),r.c(),this.h()},l(n){e=u(n,"DIV",{class:!0});var a=m(e);r.l(a),a.forEach(d),this.h()},h(){i(e,"class","classification-selector svelte-1ho3etc")},m(n,a){I(n,e,a),r.m(e,null)},p(n,[a]){l===(l=t(n))&&r?r.p(n,a):(r.d(1),r=l(n),r&&(r.c(),r.m(e,null)))},i:Ie,o:Ie,d(n){n&&d(e),r.d()}}}function zl(s){return s&&s.classifications&&Array.isArray(s.classifications)?s.classifications:Array.isArray(s)?s:[]}function Oe(s){return s.children&&s.children.length>0}function Ul(s,e,t){let l,r,{classifications:n=[]}=e,{selectedClassificationId:a=null}=e,{loading:f=!1}=e;const _=vl();let h=new Set;function p(k){const S=new Set(h);S.has(k)?S.delete(k):S.add(k),t(7,h=S)}function v(k){t(0,a=k.id),_("select",k)}const x=k=>p(k.id),b=k=>v(k),D=k=>p(k.id),g=k=>v(k),O=k=>v(k);return s.$$set=k=>{"classifications"in k&&t(6,n=k.classifications),"selectedClassificationId"in k&&t(0,a=k.selectedClassificationId),"loading"in k&&t(1,f=k.loading)},s.$$.update=()=>{s.$$.dirty&64&&t(2,l=zl(n)),s.$$.dirty&68&&(console.log("Classifications data:",n),console.log("Classification tree:",l)),s.$$.dirty&128&&t(3,r=k=>h.has(k))},[a,f,l,r,p,v,n,h,x,b,D,g,O]}class Fl extends dl{constructor(e){super(),cl(this,e,Ul,Sl,ol,{classifications:6,selectedClassificationId:0,loading:1})}}const Rl=!1,ql=!1,us=Object.freeze(Object.defineProperty({__proto__:null,prerender:Rl,ssr:ql},Symbol.toStringTag,{value:"Module"}));function Zt(s,e,t){const l=s.slice();return l[47]=e[t],l}function Jt(s,e,t){const l=s.slice();return l[50]=e[t],l}function Yt(s){let e,t=s[10].name+"",l;return{c(){e=c("p"),l=ke(t),this.h()},l(r){e=u(r,"P",{class:!0});var n=m(e);l=ge(n,t),n.forEach(d),this.h()},h(){i(e,"class","text-red-500 text-sm mt-2 ml-1 font-medium")},m(r,n){I(r,e,n),o(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].name+"")&&Pe(l,t)},d(r){r&&d(e)}}}function Qt(s){let e,t=s[10].description+"",l;return{c(){e=c("p"),l=ke(t),this.h()},l(r){e=u(r,"P",{class:!0});var n=m(e);l=ge(n,t),n.forEach(d),this.h()},h(){i(e,"class","text-red-500 text-sm mt-1")},m(r,n){I(r,e,n),o(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].description+"")&&Pe(l,t)},d(r){r&&d(e)}}}function Xt(s){let e,t,l='README.md 文件 <span class="text-red-500">*</span>',r,n;function a(p,v){return p[7]?Gl:Kl}let f=a(s),_=f(s),h=s[10].readme&&$t(s);return{c(){e=c("div"),t=c("label"),t.innerHTML=l,r=y(),_.c(),n=y(),h&&h.c(),this.h()},l(p){e=u(p,"DIV",{});var v=m(e);t=u(v,"LABEL",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-13oml67"&&(t.innerHTML=l),r=C(v),_.l(v),n=C(v),h&&h.l(v),v.forEach(d),this.h()},h(){i(t,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2")},m(p,v){I(p,e,v),o(e,t),o(e,r),_.m(e,null),o(e,n),h&&h.m(e,null)},p(p,v){f===(f=a(p))&&_?_.p(p,v):(_.d(1),_=f(p),_&&(_.c(),_.m(e,n))),p[10].readme?h?h.p(p,v):(h=$t(p),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(p){p&&d(e),_.d(),h&&h.d()}}}function Gl(s){let e,t,l,r,n,a,f,_,h=s[7].name+"",p,v,x,b=Math.round(s[7].size/1024)+"",D,g,O,k,S='<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',N,te;return{c(){e=c("div"),t=c("div"),l=c("div"),r=He("svg"),n=He("path"),a=y(),f=c("div"),_=c("div"),p=ke(h),v=y(),x=c("div"),D=ke(b),g=ke(" KB"),O=y(),k=c("button"),k.innerHTML=S,this.h()},l(H){e=u(H,"DIV",{class:!0});var U=m(e);t=u(U,"DIV",{class:!0});var T=m(t);l=u(T,"DIV",{class:!0});var ne=m(l);r=Se(ne,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var L=m(r);n=Se(L,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(n).forEach(d),L.forEach(d),a=C(ne),f=u(ne,"DIV",{class:!0});var V=m(f);_=u(V,"DIV",{class:!0});var P=m(_);p=ge(P,h),P.forEach(d),v=C(V),x=u(V,"DIV",{class:!0});var E=m(x);D=ge(E,b),g=ge(E," KB"),E.forEach(d),V.forEach(d),ne.forEach(d),O=C(T),k=u(T,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(k)!=="svelte-ssx13i"&&(k.innerHTML=S),T.forEach(d),U.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"stroke-width","2"),i(n,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),i(r,"class","h-8 w-8 text-blue-500"),i(r,"fill","none"),i(r,"stroke","currentColor"),i(r,"viewBox","0 0 24 24"),i(_,"class","text-sm font-medium text-gray-900 dark:text-white"),i(x,"class","text-xs text-gray-500 dark:text-gray-400"),i(f,"class","ml-3"),i(l,"class","flex items-center"),i(k,"type","button"),i(k,"class","text-red-500 hover:text-red-700 dark:hover:text-red-400"),i(t,"class","flex items-center justify-between"),i(e,"class","border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700")},m(H,U){I(H,e,U),o(e,t),o(t,l),o(l,r),o(r,n),o(l,a),o(l,f),o(f,_),o(_,p),o(f,v),o(f,x),o(x,D),o(x,g),o(t,O),o(t,k),N||(te=R(k,"click",s[15]),N=!0)},p(H,U){U[0]&128&&h!==(h=H[7].name+"")&&Pe(p,h),U[0]&128&&b!==(b=Math.round(H[7].size/1024)+"")&&Pe(D,b)},d(H){H&&d(e),N=!1,te()}}}function Kl(s){let e,t,l,r,n,a;function f(p,v){return p[12]?Zl:Wl}let _=f(s),h=_(s);return{c(){e=c("div"),t=c("input"),l=y(),h.c(),this.h()},l(p){e=u(p,"DIV",{class:!0,role:!0,tabindex:!0});var v=m(e);t=u(v,"INPUT",{type:!0,accept:!0,class:!0}),l=C(v),h.l(v),v.forEach(d),this.h()},h(){i(t,"type","file"),i(t,"accept",".md"),i(t,"class","hidden"),i(e,"class",r="border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 cursor-pointer "+(s[12]?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-950/30":"border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400")),i(e,"role","button"),i(e,"tabindex","0")},m(p,v){I(p,e,v),o(e,t),s[29](t),o(e,l),h.m(e,null),n||(a=[R(t,"change",s[14]),R(e,"dragenter",s[16]),R(e,"dragleave",s[17]),R(e,"dragover",es),R(e,"drop",s[18]),R(e,"click",s[31]),R(e,"keydown",s[32])],n=!0)},p(p,v){_===(_=f(p))&&h?h.p(p,v):(h.d(1),h=_(p),h&&(h.c(),h.m(e,null))),v[0]&4096&&r!==(r="border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 cursor-pointer "+(p[12]?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-950/30":"border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400"))&&i(e,"class",r)},d(p){p&&d(e),s[29](null),h.d(),n=!1,gt(a)}}}function Wl(s){let e,t,l,r,n,a="选择 README.md 文件",f,_,h="支持 .md 格式，可点击选择或拖拽文件到此处上传",p,v,x="系统将自动解析 YAML 前言获取配置信息",b,D;return{c(){e=He("svg"),t=He("path"),l=y(),r=c("div"),n=c("button"),n.textContent=a,f=y(),_=c("p"),_.textContent=h,p=y(),v=c("p"),v.textContent=x,this.h()},l(g){e=Se(g,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var O=m(e);t=Se(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(t).forEach(d),O.forEach(d),l=C(g),r=u(g,"DIV",{class:!0});var k=m(r);n=u(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(n)!=="svelte-5n4817"&&(n.textContent=a),k.forEach(d),f=C(g),_=u(g,"P",{class:!0,"data-svelte-h":!0}),A(_)!=="svelte-5kz4lb"&&(_.textContent=h),p=C(g),v=u(g,"P",{class:!0,"data-svelte-h":!0}),A(v)!=="svelte-1tu63mk"&&(v.textContent=x),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","2"),i(t,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),i(e,"class","mx-auto h-12 w-12 text-slate-400"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"viewBox","0 0 24 24"),i(n,"type","button"),i(n,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-400 dark:hover:bg-blue-800 transition-colors"),i(r,"class","mt-4"),i(_,"class","mt-2 text-xs text-gray-500 dark:text-gray-400"),i(v,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(g,O){I(g,e,O),o(e,t),I(g,l,O),I(g,r,O),o(r,n),I(g,f,O),I(g,_,O),I(g,p,O),I(g,v,O),b||(D=R(n,"click",kt(s[30])),b=!0)},p:Ie,d(g){g&&(d(e),d(l),d(r),d(f),d(_),d(p),d(v)),b=!1,D()}}}function Zl(s){let e,t,l,r,n='<p class="text-blue-600 dark:text-blue-400 font-medium">松开鼠标上传文件</p>';return{c(){e=He("svg"),t=He("path"),l=y(),r=c("div"),r.innerHTML=n,this.h()},l(a){e=Se(a,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var f=m(e);t=Se(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(t).forEach(d),f.forEach(d),l=C(a),r=u(a,"DIV",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-tq59cl"&&(r.innerHTML=n),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","2"),i(t,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),i(e,"class","mx-auto h-12 w-12 text-blue-500 dark:text-blue-400"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"viewBox","0 0 24 24"),i(r,"class","mt-4")},m(a,f){I(a,e,f),o(e,t),I(a,l,f),I(a,r,f)},p:Ie,d(a){a&&(d(e),d(l),d(r))}}}function $t(s){let e,t=s[10].readme+"",l;return{c(){e=c("p"),l=ke(t),this.h()},l(r){e=u(r,"P",{class:!0});var n=m(e);l=ge(n,t),n.forEach(d),this.h()},h(){i(e,"class","text-red-500 text-sm mt-1")},m(r,n){I(r,e,n),o(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].readme+"")&&Pe(l,t)},d(r){r&&d(e)}}}function el(s){let e,t,l,r="许可证 (可选)",n,a,f,_="选择许可证...",h,p="MIT",v,x="Apache 2.0",b,D="GPL 3.0",g,O="BSD 3-Clause",k,S="LGPL 2.1",N,te="MPL 2.0",H,U="CC0 1.0",T,ne="CC BY 4.0",L,V="Unlicense",P,E="其他",ie,G,q,Ue="基础模型 (可选)",Fe,de,Le,Z,J,Ke="标签 (可选)",ve,oe,X,Re,Ae,xe,W,Ce,we="分类 (可选)",me,Ee,w,B,Q,ce,Ve,We="任务分类 (可选)",Me,Ne,K,ue,Te,et,tt,Y=s[9].tags.length>0&&tl(s),F=s[9].classification_id!==null&&sl(s);w=new Fl({props:{classifications:s[2],selectedClassificationId:s[9].classification_id,loading:s[3]}}),w.$on("select",s[21]);let le=s[9].task_classification_ids.length>0&&rl(s);const je=[Yl,Jl],Be=[];function lt(M,z){return M[5]?0:1}return K=lt(s),ue=Be[K]=je[K](s),{c(){e=c("div"),t=c("div"),l=c("label"),l.textContent=r,n=y(),a=c("select"),f=c("option"),f.textContent=_,h=c("option"),h.textContent=p,v=c("option"),v.textContent=x,b=c("option"),b.textContent=D,g=c("option"),g.textContent=O,k=c("option"),k.textContent=S,N=c("option"),N.textContent=te,H=c("option"),H.textContent=U,T=c("option"),T.textContent=ne,L=c("option"),L.textContent=V,P=c("option"),P.textContent=E,ie=y(),G=c("div"),q=c("label"),q.textContent=Ue,Fe=y(),de=c("input"),Le=y(),Z=c("div"),J=c("label"),J.textContent=Ke,ve=y(),oe=c("div"),X=c("input"),Re=y(),Y&&Y.c(),Ae=y(),xe=c("div"),W=c("div"),Ce=c("label"),Ce.textContent=we,me=y(),F&&F.c(),Ee=y(),fl(w.$$.fragment),B=y(),Q=c("div"),ce=c("div"),Ve=c("label"),Ve.textContent=We,Me=y(),le&&le.c(),Ne=y(),ue.c(),this.h()},l(M){e=u(M,"DIV",{class:!0});var z=m(e);t=u(z,"DIV",{class:!0});var se=m(t);l=u(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(l)!=="svelte-1pzawkd"&&(l.textContent=r),n=C(se),a=u(se,"SELECT",{id:!0,class:!0});var re=m(a);f=u(re,"OPTION",{"data-svelte-h":!0}),A(f)!=="svelte-g9wbxm"&&(f.textContent=_),h=u(re,"OPTION",{"data-svelte-h":!0}),A(h)!=="svelte-2rnjty"&&(h.textContent=p),v=u(re,"OPTION",{"data-svelte-h":!0}),A(v)!=="svelte-1af3bwp"&&(v.textContent=x),b=u(re,"OPTION",{"data-svelte-h":!0}),A(b)!=="svelte-6zvm53"&&(b.textContent=D),g=u(re,"OPTION",{"data-svelte-h":!0}),A(g)!=="svelte-vxo5tn"&&(g.textContent=O),k=u(re,"OPTION",{"data-svelte-h":!0}),A(k)!=="svelte-1bszy19"&&(k.textContent=S),N=u(re,"OPTION",{"data-svelte-h":!0}),A(N)!=="svelte-1p7bryd"&&(N.textContent=te),H=u(re,"OPTION",{"data-svelte-h":!0}),A(H)!=="svelte-2krpsp"&&(H.textContent=U),T=u(re,"OPTION",{"data-svelte-h":!0}),A(T)!=="svelte-1kf18hu"&&(T.textContent=ne),L=u(re,"OPTION",{"data-svelte-h":!0}),A(L)!=="svelte-6f2u"&&(L.textContent=V),P=u(re,"OPTION",{"data-svelte-h":!0}),A(P)!=="svelte-dk3oti"&&(P.textContent=E),re.forEach(d),se.forEach(d),ie=C(z),G=u(z,"DIV",{class:!0});var ye=m(G);q=u(ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(q)!=="svelte-1sjc51x"&&(q.textContent=Ue),Fe=C(ye),de=u(ye,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),ye.forEach(d),Le=C(z),Z=u(z,"DIV",{class:!0});var qe=m(Z);J=u(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(J)!=="svelte-1fbw3sy"&&(J.textContent=Ke),ve=C(qe),oe=u(qe,"DIV",{class:!0});var De=m(oe);X=u(De,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),De.forEach(d),Re=C(qe),Y&&Y.l(qe),qe.forEach(d),z.forEach(d),Ae=C(M),xe=u(M,"DIV",{});var Ze=m(xe);W=u(Ze,"DIV",{class:!0});var Je=m(W);Ce=u(Je,"LABEL",{class:!0,"data-svelte-h":!0}),A(Ce)!=="svelte-1w2wwjd"&&(Ce.textContent=we),me=C(Je),F&&F.l(Je),Je.forEach(d),Ee=C(Ze),hl(w.$$.fragment,Ze),Ze.forEach(d),B=C(M),Q=u(M,"DIV",{});var Ye=m(Q);ce=u(Ye,"DIV",{class:!0});var Xe=m(ce);Ve=u(Xe,"LABEL",{class:!0,"data-svelte-h":!0}),A(Ve)!=="svelte-5dpr99"&&(Ve.textContent=We),Me=C(Xe),le&&le.l(Xe),Xe.forEach(d),Ne=C(Ye),ue.l(Ye),Ye.forEach(d),this.h()},h(){i(l,"for","license-select"),i(l,"class","block text-sm ml-2 font-semibold text-slate-700 dark:text-slate-300 mb-1"),f.__value="",ee(f,f.__value),h.__value="mit",ee(h,h.__value),v.__value="apache-2.0",ee(v,v.__value),b.__value="gpl-3.0",ee(b,b.__value),g.__value="bsd-3-clause",ee(g,g.__value),k.__value="lgpl-2.1",ee(k,k.__value),N.__value="mpl-2.0",ee(N,N.__value),H.__value="cc0-1.0",ee(H,H.__value),T.__value="cc-by-4.0",ee(T,T.__value),L.__value="unlicense",ee(L,L.__value),P.__value="other",ee(P,P.__value),i(a,"id","license-select"),i(a,"class","w-full px-4 py-2 border border-slate-200/70 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-400 transition-all duration-200"),s[9].license===void 0&&wl(()=>s[33].call(a)),i(t,"class","md:col-span-2"),i(q,"for","base-model-input"),i(q,"class","block text-sm ml-2 font-semibold text-slate-700 dark:text-slate-300 mb-1"),i(de,"id","base-model-input"),i(de,"type","text"),i(de,"class","w-full px-4 py-2 border border-slate-200/70 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-400 transition-all duration-200"),i(de,"placeholder","例如: bert-base-uncased"),i(G,"class","md:col-span-3"),i(J,"for","tags-input"),i(J,"class","block text-sm ml-2 font-semibold text-slate-700 dark:text-slate-300 mb-1"),i(X,"id","tags-input"),i(X,"type","text"),i(X,"class","w-full px-4 py-2 border border-slate-200/70 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-400 transition-all duration-200"),i(X,"placeholder","输入标签按回车"),i(oe,"class","relative"),i(Z,"class","md:col-span-3"),i(e,"class","grid grid-cols-1 md:grid-cols-8 gap-4"),i(Ce,"class","text-sm font-semibold text-slate-700 dark:text-slate-300"),i(W,"class","flex items-center space-x-2 mb-1"),i(Ve,"class","text-sm font-semibold text-slate-700 dark:text-slate-300"),i(ce,"class","flex items-center space-x-2 mb-1")},m(M,z){I(M,e,z),o(e,t),o(t,l),o(t,n),o(t,a),o(a,f),o(a,h),o(a,v),o(a,b),o(a,g),o(a,k),o(a,N),o(a,H),o(a,T),o(a,L),o(a,P),At(a,s[9].license,!0),o(e,ie),o(e,G),o(G,q),o(G,Fe),o(G,de),ee(de,s[9].base_model),o(e,Le),o(e,Z),o(Z,J),o(Z,ve),o(Z,oe),o(oe,X),ee(X,s[11]),o(Z,Re),Y&&Y.m(Z,null),I(M,Ae,z),I(M,xe,z),o(xe,W),o(W,Ce),o(W,me),F&&F.m(W,null),o(xe,Ee),_l(w,xe,null),I(M,B,z),I(M,Q,z),o(Q,ce),o(ce,Ve),o(ce,Me),le&&le.m(ce,null),o(Q,Ne),Be[K].m(Q,null),Te=!0,et||(tt=[R(a,"change",s[33]),R(de,"input",s[34]),R(X,"input",s[35]),R(X,"keydown",s[20])],et=!0)},p(M,z){z[0]&512&&At(a,M[9].license),z[0]&512&&de.value!==M[9].base_model&&ee(de,M[9].base_model),z[0]&2048&&X.value!==M[11]&&ee(X,M[11]),M[9].tags.length>0?Y?Y.p(M,z):(Y=tl(M),Y.c(),Y.m(Z,null)):Y&&(Y.d(1),Y=null),M[9].classification_id!==null?F?F.p(M,z):(F=sl(M),F.c(),F.m(W,null)):F&&(F.d(1),F=null);const se={};z[0]&4&&(se.classifications=M[2]),z[0]&512&&(se.selectedClassificationId=M[9].classification_id),z[0]&8&&(se.loading=M[3]),w.$set(se),M[9].task_classification_ids.length>0?le?le.p(M,z):(le=rl(M),le.c(),le.m(ce,null)):le&&(le.d(1),le=null);let re=K;K=lt(M),K===re?Be[K].p(M,z):(pl(),nt(Be[re],1,1,()=>{Be[re]=null}),ul(),ue=Be[K],ue?ue.p(M,z):(ue=Be[K]=je[K](M),ue.c()),$e(ue,1),ue.m(Q,null))},i(M){Te||($e(w.$$.fragment,M),$e(ue),Te=!0)},o(M){nt(w.$$.fragment,M),nt(ue),Te=!1},d(M){M&&(d(e),d(Ae),d(xe),d(B),d(Q)),Y&&Y.d(),F&&F.d(),bl(w),le&&le.d(),Be[K].d(),et=!1,gt(tt)}}}function tl(s){let e,t=ze(s[9].tags),l=[];for(let r=0;r<t.length;r+=1)l[r]=ll(Jt(s,t,r));return{c(){e=c("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=u(r,"DIV",{class:!0});var n=m(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(d),this.h()},h(){i(e,"class","flex flex-wrap gap-1 mt-2")},m(r,n){I(r,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(r,n){if(n[0]&524800){t=ze(r[9].tags);let a;for(a=0;a<t.length;a+=1){const f=Jt(r,t,a);l[a]?l[a].p(f,n):(l[a]=ll(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&d(e),ot(l,r)}}}function ll(s){let e,t=s[50]+"",l,r,n,a='<svg class="h-2 w-2" fill="currentColor" viewBox="0 0 8 8"><path d="M1.41 0l-1.41 1.41.72.72 1.78 1.81-1.78 1.78-.72.69 1.41 1.44.72-.72 1.81-1.81 1.78 1.81.69.72 1.44-1.44-.72-.69-1.81-1.78 1.81-1.81.72-.72-1.44-1.41-.69.72-1.78 1.78-1.81-1.78-.72-.72z"></path></svg>',f,_,h;function p(){return s[36](s[50])}return{c(){e=c("span"),l=ke(t),r=y(),n=c("button"),n.innerHTML=a,f=y(),this.h()},l(v){e=u(v,"SPAN",{class:!0});var x=m(e);l=ge(x,t),r=C(x),n=u(x,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(n)!=="svelte-1skdv2h"&&(n.innerHTML=a),f=C(x),x.forEach(d),this.h()},h(){i(n,"type","button"),i(n,"class","ml-1 h-3 w-3 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800 flex items-center justify-center"),i(e,"class","inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200")},m(v,x){I(v,e,x),o(e,l),o(e,r),o(e,n),o(e,f),_||(h=R(n,"click",p),_=!0)},p(v,x){s=v,x[0]&512&&t!==(t=s[50]+"")&&Pe(l,t)},d(v){v&&d(e),_=!1,h()}}}function sl(s){let e,t=`<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
									清除选择`,l,r;return{c(){e=c("button"),e.innerHTML=t,this.h()},l(n){e=u(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(e)!=="svelte-190ntvd"&&(e.innerHTML=t),this.h()},h(){i(e,"type","button"),i(e,"class","inline-flex items-center px-2 py-1 text-xs font-medium text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-300 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg transition-all duration-200")},m(n,a){I(n,e,a),l||(r=R(e,"click",s[37]),l=!0)},p:Ie,d(n){n&&d(e),l=!1,r()}}}function rl(s){let e,t=`<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
									清除选择`,l,r;return{c(){e=c("button"),e.innerHTML=t,this.h()},l(n){e=u(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(e)!=="svelte-jis3x5"&&(e.innerHTML=t),this.h()},h(){i(e,"type","button"),i(e,"class","inline-flex items-center px-2 py-1 text-xs font-medium text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-300 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg transition-all duration-200")},m(n,a){I(n,e,a),l||(r=R(e,"click",s[38]),l=!0)},p:Ie,d(n){n&&d(e),l=!1,r()}}}function Jl(s){let e,t,l=ze(s[4]),r=[];for(let a=0;a<l.length;a+=1)r[a]=al(Zt(s,l,a));let n=s[4].length===0&&nl();return{c(){e=c("div");for(let a=0;a<r.length;a+=1)r[a].c();t=y(),n&&n.c(),this.h()},l(a){e=u(a,"DIV",{class:!0});var f=m(e);for(let _=0;_<r.length;_+=1)r[_].l(f);t=C(f),n&&n.l(f),f.forEach(d),this.h()},h(){i(e,"class","flex flex-wrap gap-2")},m(a,f){I(a,e,f);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(e,null);o(e,t),n&&n.m(e,null)},p(a,f){if(f[0]&4194832){l=ze(a[4]);let _;for(_=0;_<l.length;_+=1){const h=Zt(a,l,_);r[_]?r[_].p(h,f):(r[_]=al(h),r[_].c(),r[_].m(e,t))}for(;_<r.length;_+=1)r[_].d(1);r.length=l.length}a[4].length===0?n||(n=nl(),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:Ie,o:Ie,d(a){a&&d(e),ot(r,a),n&&n.d()}}}function Yl(s){let e,t,l;return t=new Dl({}),{c(){e=c("div"),fl(t.$$.fragment),this.h()},l(r){e=u(r,"DIV",{class:!0});var n=m(e);hl(t.$$.fragment,n),n.forEach(d),this.h()},h(){i(e,"class","flex items-center justify-center py-8")},m(r,n){I(r,e,n),_l(t,e,null),l=!0},p:Ie,i(r){l||($e(t.$$.fragment,r),l=!0)},o(r){nt(t.$$.fragment,r),l=!1},d(r){r&&d(e),bl(t)}}}function al(s){let e,t,l=s[47].name+"",r,n,a,f;function _(){return s[39](s[47])}return{c(){e=c("button"),t=c("span"),r=ke(l),this.h()},l(h){e=u(h,"BUTTON",{type:!0,class:!0});var p=m(e);t=u(p,"SPAN",{});var v=m(t);r=ge(v,l),v.forEach(d),p.forEach(d),this.h()},h(){i(e,"type","button"),i(e,"class",n="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 border "+(s[9].task_classification_ids.includes(s[47].id)?"bg-purple-50 text-purple-700 border-purple-300 hover:bg-purple-100 dark:bg-purple-900 dark:text-purple-300 dark:border-purple-700 dark:hover:bg-purple-800":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700"))},m(h,p){I(h,e,p),o(e,t),o(t,r),a||(f=R(e,"click",_),a=!0)},p(h,p){s=h,p[0]&16&&l!==(l=s[47].name+"")&&Pe(r,l),p[0]&528&&n!==(n="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 border "+(s[9].task_classification_ids.includes(s[47].id)?"bg-purple-50 text-purple-700 border-purple-300 hover:bg-purple-100 dark:bg-purple-900 dark:text-purple-300 dark:border-purple-700 dark:hover:bg-purple-800":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700"))&&i(e,"class",n)},d(h){h&&d(e),a=!1,f()}}}function nl(s){let e,t="暂无任务分类";return{c(){e=c("p"),e.textContent=t,this.h()},l(l){e=u(l,"P",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1gfuxc3"&&(e.textContent=t),this.h()},h(){i(e,"class","text-sm text-slate-500 dark:text-slate-400")},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function il(s){let e,t,l;return{c(){e=c("div"),t=c("p"),l=ke(s[1]),this.h()},l(r){e=u(r,"DIV",{class:!0});var n=m(e);t=u(n,"P",{class:!0});var a=m(t);l=ge(a,s[1]),a.forEach(d),n.forEach(d),this.h()},h(){i(t,"class","text-red-700 dark:text-red-400 font-medium"),i(e,"class","bg-red-50/80 dark:bg-red-900/30 border border-red-200/70 dark:border-red-800/70 rounded-2xl p-4 backdrop-blur-sm")},m(r,n){I(r,e,n),o(e,t),o(t,l)},p(r,n){n[0]&2&&Pe(l,r[1])},d(r){r&&d(e)}}}function Ql(s){let e,t="创建仓库";return{c(){e=c("span"),e.textContent=t},l(l){e=u(l,"SPAN",{"data-svelte-h":!0}),A(e)!=="svelte-1oyca1l"&&(e.textContent=t)},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function Xl(s){let e,t="创建中...";return{c(){e=c("span"),e.textContent=t},l(l){e=u(l,"SPAN",{"data-svelte-h":!0}),A(e)!=="svelte-11q1ejk"&&(e.textContent=t)},m(l,r){I(l,e,r)},d(l){l&&d(e)}}}function $l(s){var wt;let e,t,l,r,n='<div class="mx-auto w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-2 shadow-xl border border-white/20"><svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 16 16"><path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path></svg></div> <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-0.5 tracking-tight">创建新仓库</h1> <p class="text-slate-600 dark:text-slate-400 text-base">支持模型、数据集和相关资源的版本控制与协作开发</p>',a,f,_,h,p,v='<label class="block text-sm font-semibold text-slate-800 dark:text-slate-200 mb-1">所有者</label> <label class="block text-sm font-semibold text-slate-800 dark:text-slate-200 mb-1">仓库名</label>',x,b,D,g,O=(((wt=s[13])==null?void 0:wt.username)||"loading...")+"",k,S,N,te="/",H,U,T,ne,L,V,P,E,ie=`<span class="flex items-center">描述
							<span class="text-xs text-slate-500 ml-1">(可选)</span></span>`,G,q,Ue,Fe,de,Le,Z,J,Ke,ve,oe,X,Re,Ae,xe,W,Ce,we,me,Ee,w,B,Q,ce,Ve,We,Me,Ne,K,ue,Te,et='<div class="w-6 h-6 bg-emerald-100 dark:bg-emerald-900/50 rounded-lg flex items-center justify-center mr-2"><svg class="w-3 h-3 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <span class="text-sm font-medium text-slate-700 dark:text-slate-300">公开仓库</span>',tt,Y,F,le,je,Be='<div class="w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center mr-2"><svg class="w-3 h-3 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div> <span class="text-sm font-medium text-slate-700 dark:text-slate-300">私有仓库</span>',lt,M,z,se,re,ye,qe="取消",De,Ze,Je,Ye,Xe,fe=s[10].name&&Yt(s),he=s[10].description&&Qt(s),_e=s[6]==="readme"&&Xt(s),ae=s[6]==="config"&&el(s),pe=s[1]&&il(s);function xt(j,$){return j[0]?Xl:Ql}let dt=xt(s),Ge=dt(s);return Ze=Pt(s[27][0]),Je=Pt(s[27][1]),{c(){e=y(),t=c("div"),l=c("div"),r=c("div"),r.innerHTML=n,a=y(),f=c("div"),_=c("form"),h=c("div"),p=c("div"),p.innerHTML=v,x=y(),b=c("div"),D=c("div"),g=c("span"),k=ke(O),S=y(),N=c("span"),N.textContent=te,H=y(),U=c("div"),T=c("input"),L=y(),fe&&fe.c(),V=y(),P=c("div"),E=c("label"),E.innerHTML=ie,G=y(),q=c("textarea"),Fe=y(),he&&he.c(),de=y(),Le=c("div"),Z=c("div"),J=c("input"),Ke=y(),ve=c("label"),oe=He("svg"),X=He("path"),Re=ke(`
							手动配置信息`),xe=y(),W=c("input"),Ce=y(),we=c("label"),me=He("svg"),Ee=He("path"),w=ke(`
							上传 README`),Q=y(),_e&&_e.c(),ce=y(),ae&&ae.c(),Ve=y(),We=c("div"),Me=c("div"),Ne=c("div"),K=c("input"),ue=y(),Te=c("label"),Te.innerHTML=et,tt=y(),Y=c("div"),F=c("input"),le=y(),je=c("label"),je.innerHTML=Be,lt=y(),pe&&pe.c(),M=y(),z=c("div"),se=c("button"),Ge.c(),re=y(),ye=c("button"),ye.textContent=qe,this.h()},l(j){ml("svelte-zcnj9j",document.head).forEach(d),e=C(j),t=u(j,"DIV",{class:!0});var it=m(t);l=u(it,"DIV",{class:!0});var ct=m(l);r=u(ct,"DIV",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-e93uy4"&&(r.innerHTML=n),a=C(ct),f=u(ct,"DIV",{class:!0});var yt=m(f);_=u(yt,"FORM",{class:!0});var be=m(_);h=u(be,"DIV",{class:!0});var st=m(h);p=u(st,"DIV",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-pa6ddy"&&(p.innerHTML=v),x=C(st),b=u(st,"DIV",{class:!0});var rt=m(b);D=u(rt,"DIV",{class:!0});var Ct=m(D);g=u(Ct,"SPAN",{class:!0});var Et=m(g);k=ge(Et,O),Et.forEach(d),Ct.forEach(d),S=C(rt),N=u(rt,"SPAN",{class:!0,"data-svelte-h":!0}),A(N)!=="svelte-18qwzaq"&&(N.textContent=te),H=C(rt),U=u(rt,"DIV",{class:!0});var Tt=m(U);T=u(Tt,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),Tt.forEach(d),rt.forEach(d),L=C(st),fe&&fe.l(st),st.forEach(d),V=C(be),P=u(be,"DIV",{});var at=m(P);E=u(at,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(E)!=="svelte-1hw0zr7"&&(E.innerHTML=ie),G=C(at),q=u(at,"TEXTAREA",{id:!0,rows:!0,class:!0,placeholder:!0}),m(q).forEach(d),Fe=C(at),he&&he.l(at),at.forEach(d),de=C(be),Le=u(be,"DIV",{class:!0});var Dt=m(Le);Z=u(Dt,"DIV",{class:!0});var Qe=m(Z);J=u(Qe,"INPUT",{type:!0,id:!0,class:!0}),Ke=C(Qe),ve=u(Qe,"LABEL",{for:!0,class:!0});var bt=m(ve);oe=Se(bt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var It=m(oe);X=Se(It,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(X).forEach(d),It.forEach(d),Re=ge(bt,`
							手动配置信息`),bt.forEach(d),xe=C(Qe),W=u(Qe,"INPUT",{type:!0,id:!0,class:!0}),Ce=C(Qe),we=u(Qe,"LABEL",{for:!0,class:!0});var vt=m(we);me=Se(vt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Lt=m(me);Ee=Se(Lt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(Ee).forEach(d),Lt.forEach(d),w=ge(vt,`
							上传 README`),vt.forEach(d),Qe.forEach(d),Dt.forEach(d),Q=C(be),_e&&_e.l(be),ce=C(be),ae&&ae.l(be),Ve=C(be),We=u(be,"DIV",{});var Vt=m(We);Me=u(Vt,"DIV",{class:!0});var ut=m(Me);Ne=u(ut,"DIV",{class:!0});var ft=m(Ne);K=u(ft,"INPUT",{type:!0,id:!0,class:!0}),ue=C(ft),Te=u(ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(Te)!=="svelte-4px19g"&&(Te.innerHTML=et),ft.forEach(d),tt=C(ut),Y=u(ut,"DIV",{class:!0});var ht=m(Y);F=u(ht,"INPUT",{type:!0,id:!0,class:!0}),le=C(ht),je=u(ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(je)!=="svelte-1hiag7o"&&(je.innerHTML=Be),ht.forEach(d),ut.forEach(d),Vt.forEach(d),lt=C(be),pe&&pe.l(be),M=C(be),z=u(be,"DIV",{class:!0});var _t=m(z);se=u(_t,"BUTTON",{type:!0,class:!0});var Mt=m(se);Ge.l(Mt),Mt.forEach(d),re=C(_t),ye=u(_t,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(ye)!=="svelte-15b8fae"&&(ye.textContent=qe),_t.forEach(d),be.forEach(d),yt.forEach(d),ct.forEach(d),it.forEach(d),this.h()},h(){document.title="创建新仓库 - GeoML Hub",i(r,"class","text-center mb-4"),i(p,"class","flex items-center space-x-24 ml-2"),i(g,"class","text-m font-medium text-slate-700 dark:text-slate-300"),i(D,"class","flex items-center bg-white dark:bg-slate-800 rounded-xl px-4 py-2 border border-slate-200/70 dark:border-slate-600 shadow-sm"),i(N,"class","text-slate-800 text-lg font-medium"),i(T,"id","repo-name-input"),i(T,"type","text"),i(T,"class",ne="w-full px-4 py-2 border border-slate-200/70 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-400 transition-all duration-200 "+(s[10].name?"border-red-400 focus:ring-red-400/70":"")),i(T,"placeholder","my-awesome-model"),T.required=!0,i(U,"class","flex-1"),i(b,"class","flex items-center space-x-2"),i(h,"class","bg-slate-50/60 dark:bg-slate-700/40 rounded-2xl p-3 border border-slate-200/60 dark:border-slate-600/50"),i(E,"for","description-input"),i(E,"class","block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1"),i(q,"id","description-input"),i(q,"rows","2"),i(q,"class",Ue="w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none "+(s[10].description?"border-red-500 focus:ring-red-500":"")),i(q,"placeholder","简要描述您的模型或数据集..."),i(J,"type","radio"),i(J,"id","config-mode"),J.__value="config",ee(J,J.__value),i(J,"class","sr-only"),i(X,"stroke-linecap","round"),i(X,"stroke-linejoin","round"),i(X,"stroke-width","2"),i(X,"d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4a2 2 0 014 0m2-4a2 2 0 110 4m0-4a2 2 0 110 4m0 4v2m0-6V4"),i(oe,"class","w-4 h-4 mr-2"),i(oe,"fill","none"),i(oe,"stroke","currentColor"),i(oe,"viewBox","0 0 24 24"),i(ve,"for","config-mode"),i(ve,"class",Ae="flex items-center px-3 py-2 rounded-xl cursor-pointer transition-all duration-300 text-sm font-semibold min-w-[140px] justify-center "+(s[6]==="config"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-xl border border-white/60 dark:border-slate-600/60 transform scale-[1.02]":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 hover:bg-white/60 dark:hover:bg-slate-700/60")),i(W,"type","radio"),i(W,"id","readme-mode"),W.__value="readme",ee(W,W.__value),i(W,"class","sr-only"),i(Ee,"stroke-linecap","round"),i(Ee,"stroke-linejoin","round"),i(Ee,"stroke-width","2"),i(Ee,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),i(me,"class","w-4 h-4 mr-2"),i(me,"fill","none"),i(me,"stroke","currentColor"),i(me,"viewBox","0 0 24 24"),i(we,"for","readme-mode"),i(we,"class",B="flex items-center px-3 py-2 rounded-xl cursor-pointer transition-all duration-300 text-sm font-semibold min-w-[140px] justify-center "+(s[6]==="readme"?"bg-white dark:bg-slate-700 text-green-600 dark:text-green-400 shadow-xl border border-white/60 dark:border-slate-600/60 transform scale-[1.02]":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 hover:bg-white/60 dark:hover:bg-slate-700/60")),i(Z,"class","flex bg-gradient-to-r from-slate-100/80 mb-2 to-slate-50/60 dark:from-slate-800/70 dark:to-slate-700/60 rounded-2xl border border-slate-200/60 dark:border-slate-600/50 shadow-inner"),i(Le,"class","flex items-center justify-center"),i(K,"type","radio"),i(K,"id","public"),K.__value="public",ee(K,K.__value),i(K,"class","h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-slate-300 dark:border-slate-600"),i(Te,"for","public"),i(Te,"class","ml-3 flex items-center"),i(Ne,"class","flex items-center"),i(F,"type","radio"),i(F,"id","private"),F.__value="private",ee(F,F.__value),i(F,"class","h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:border-slate-600"),i(je,"for","private"),i(je,"class","ml-3 flex items-center"),i(Y,"class","flex items-center"),i(Me,"class","flex space-x-4"),i(se,"type","submit"),i(se,"class","w-full sm:w-auto px-5 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-slate-400 disabled:to-slate-500 text-white font-semibold rounded-2xl transition-all duration-200 flex items-center justify-center space-x-2 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] disabled:transform-none disabled:shadow-lg"),se.disabled=s[0],i(ye,"type","button"),i(ye,"class","w-full sm:w-auto px-5 py-2 border border-slate-300/70 dark:border-slate-600 rounded-2xl text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all duration-200 font-semibold shadow-sm hover:shadow-md"),i(z,"class","flex flex-col sm:flex-row justify-center sm:justify-end space-y-3 sm:space-y-0 sm:space-x-4"),i(_,"class","p-6 space-y-3"),i(f,"class","bg-white/90 dark:bg-slate-800/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-white/20 dark:border-slate-700/50"),i(l,"class","max-w-3xl mx-auto pt-4 px-4 pb-4"),i(t,"class","min-h-[70vh] bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"),Ze.p(K,F),Je.p(J,W)},m(j,$){I(j,e,$),I(j,t,$),o(t,l),o(l,r),o(l,a),o(l,f),o(f,_),o(_,h),o(h,p),o(h,x),o(h,b),o(b,D),o(D,g),o(g,k),o(b,S),o(b,N),o(b,H),o(b,U),o(U,T),ee(T,s[9].name),o(h,L),fe&&fe.m(h,null),o(_,V),o(_,P),o(P,E),o(P,G),o(P,q),ee(q,s[9].description),o(P,Fe),he&&he.m(P,null),o(_,de),o(_,Le),o(Le,Z),o(Z,J),J.checked=J.__value===s[6],o(Z,Ke),o(Z,ve),o(ve,oe),o(oe,X),o(ve,Re),o(Z,xe),o(Z,W),W.checked=W.__value===s[6],o(Z,Ce),o(Z,we),o(we,me),o(me,Ee),o(we,w),o(_,Q),_e&&_e.m(_,null),o(_,ce),ae&&ae.m(_,null),o(_,Ve),o(_,We),o(We,Me),o(Me,Ne),o(Ne,K),K.checked=K.__value===s[9].visibility,o(Ne,ue),o(Ne,Te),o(Me,tt),o(Me,Y),o(Y,F),F.checked=F.__value===s[9].visibility,o(Y,le),o(Y,je),o(_,lt),pe&&pe.m(_,null),o(_,M),o(_,z),o(z,se),Ge.m(se,null),o(z,re),o(z,ye),De=!0,Ye||(Xe=[R(T,"input",s[24]),R(q,"input",s[25]),R(J,"change",s[26]),R(W,"change",s[28]),R(K,"change",s[40]),R(F,"change",s[41]),R(ye,"click",s[42]),R(_,"submit",kl(s[23]))],Ye=!0)},p(j,$){var it;(!De||$[0]&8192)&&O!==(O=(((it=j[13])==null?void 0:it.username)||"loading...")+"")&&Pe(k,O),(!De||$[0]&1024&&ne!==(ne="w-full px-4 py-2 border border-slate-200/70 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-400 transition-all duration-200 "+(j[10].name?"border-red-400 focus:ring-red-400/70":"")))&&i(T,"class",ne),$[0]&512&&T.value!==j[9].name&&ee(T,j[9].name),j[10].name?fe?fe.p(j,$):(fe=Yt(j),fe.c(),fe.m(h,null)):fe&&(fe.d(1),fe=null),(!De||$[0]&1024&&Ue!==(Ue="w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none "+(j[10].description?"border-red-500 focus:ring-red-500":"")))&&i(q,"class",Ue),$[0]&512&&ee(q,j[9].description),j[10].description?he?he.p(j,$):(he=Qt(j),he.c(),he.m(P,null)):he&&(he.d(1),he=null),$[0]&64&&(J.checked=J.__value===j[6]),(!De||$[0]&64&&Ae!==(Ae="flex items-center px-3 py-2 rounded-xl cursor-pointer transition-all duration-300 text-sm font-semibold min-w-[140px] justify-center "+(j[6]==="config"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-xl border border-white/60 dark:border-slate-600/60 transform scale-[1.02]":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 hover:bg-white/60 dark:hover:bg-slate-700/60")))&&i(ve,"class",Ae),$[0]&64&&(W.checked=W.__value===j[6]),(!De||$[0]&64&&B!==(B="flex items-center px-3 py-2 rounded-xl cursor-pointer transition-all duration-300 text-sm font-semibold min-w-[140px] justify-center "+(j[6]==="readme"?"bg-white dark:bg-slate-700 text-green-600 dark:text-green-400 shadow-xl border border-white/60 dark:border-slate-600/60 transform scale-[1.02]":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 hover:bg-white/60 dark:hover:bg-slate-700/60")))&&i(we,"class",B),j[6]==="readme"?_e?_e.p(j,$):(_e=Xt(j),_e.c(),_e.m(_,ce)):_e&&(_e.d(1),_e=null),j[6]==="config"?ae?(ae.p(j,$),$[0]&64&&$e(ae,1)):(ae=el(j),ae.c(),$e(ae,1),ae.m(_,Ve)):ae&&(pl(),nt(ae,1,1,()=>{ae=null}),ul()),$[0]&512&&(K.checked=K.__value===j[9].visibility),$[0]&512&&(F.checked=F.__value===j[9].visibility),j[1]?pe?pe.p(j,$):(pe=il(j),pe.c(),pe.m(_,M)):pe&&(pe.d(1),pe=null),dt!==(dt=xt(j))&&(Ge.d(1),Ge=dt(j),Ge&&(Ge.c(),Ge.m(se,null))),(!De||$[0]&1)&&(se.disabled=j[0])},i(j){De||($e(ae),De=!0)},o(j){nt(ae),De=!1},d(j){j&&(d(e),d(t)),fe&&fe.d(),he&&he.d(),_e&&_e.d(),ae&&ae.d(),pe&&pe.d(),Ge.d(),Ze.r(),Je.r(),Ye=!1,gt(Xe)}}}function es(s){s.preventDefault()}function ts(s,e,t){let l;gl(s,Tl,w=>t(13,l=w));let r=!1,n=null,a=[],f=!1,_=[],h=!1,p="config",v=null,x=null,b={name:"",description:"",repo_type:"model",visibility:"public",license:"",tags:[],base_model:"",classification_id:null,task_classification_ids:[],readme_content:""},D={},g="";function O(){return t(10,D={}),b.name.trim()?/^[a-zA-Z0-9._-]+$/.test(b.name)||t(10,D.name="仓库名称只能包含字母、数字、点号、下划线和连字符",D):t(10,D.name="仓库名称不能为空",D),b.description&&b.description.length>500&&t(10,D.description="描述不能超过500个字符",D),p==="readme"&&!v&&t(10,D.readme="请选择README.md文件",D),Object.keys(D).length===0}function k(w){const B=w.target.files;if(B&&B.length>0){const Q=B[0];Q.name.toLowerCase().endsWith(".md")?(t(7,v=Q),t(10,D.readme=null,D)):(t(10,D.readme="请选择.md格式的文件",D),t(7,v=null))}}function S(){t(7,v=null),x&&t(8,x.value="",x)}let N=!1;function te(w){w.preventDefault(),t(12,N=!0)}function H(w){w.preventDefault(),t(12,N=!1)}function U(w){var Q;w.preventDefault(),t(12,N=!1);const B=(Q=w.dataTransfer)==null?void 0:Q.files;if(B&&B.length>0){const ce=B[0];ce.name.toLowerCase().endsWith(".md")?(t(7,v=ce),t(10,D.readme=null,D)):(t(10,D.readme="请选择.md格式的文件",D),t(7,v=null))}}function T(){g.trim()&&!b.tags.includes(g.trim())&&(t(9,b.tags=[...b.tags,g.trim()],b),t(11,g=""))}function ne(w){t(9,b.tags=b.tags.filter(B=>B!==w),b)}function L(w){w.key==="Enter"&&(w.preventDefault(),T())}async function V(){try{t(3,f=!0);const w=await mt.getClassificationTree();console.log("response:"),console.log(w),t(2,a=w)}catch(w){console.error("Failed to load classifications:",w)}finally{t(3,f=!1)}}async function P(){try{t(5,h=!0);const w=await fetch("/api/task-classifications/").then(B=>B.json()).catch(()=>({task_classifications:[]}));t(4,_=w.task_classifications||[])}catch(w){console.error("Failed to load task classifications:",w)}finally{t(5,h=!1)}}function E(w){const B=w.detail;t(9,b.classification_id=B.id,b)}function ie(w){const B=b.task_classification_ids.indexOf(w);B>-1?b.task_classification_ids.splice(B,1):b.task_classification_ids.push(w),t(9,b)}xl(()=>{V(),P()});async function G(){if(O()){if(t(0,r=!0),t(1,n=null),!l){t(1,n="请先登录"),t(0,r=!1);return}try{let w;if(p==="readme"&&v){const B=new FormData,Q={name:b.name.trim(),description:b.description.trim()||null,repo_type:b.repo_type,visibility:b.visibility};B.append("repo_data",JSON.stringify(Q)),B.append("readme_file",v),w=await mt.createRepositoryWithReadme(B)}else{const B={name:b.name.trim(),description:b.description.trim()||null,repo_type:b.repo_type,visibility:b.visibility,license:b.license||null,tags:b.tags,base_model:b.base_model||null,classification_id:b.classification_id||null,task_classification_ids:b.task_classification_ids.length>0?b.task_classification_ids:null,readme_content:b.readme_content||null};w=await mt.createRepository(B)}jt(Bt.repo(l.username,w.name))}catch(w){const B=Ot.handleApiError(w,{showNotification:!1,logError:!0}),Q=Ot.handleValidationError(B);Object.keys(Q).length>0&&t(10,D={...D,...Q}),t(1,n=El(B)),console.error("Failed to create repository:",{message:B.message,code:B.code,status:B.status,context:B.context})}finally{t(0,r=!1)}}}const q=[[],[]];function Ue(){b.name=this.value,t(9,b)}function Fe(){b.description=this.value,t(9,b)}function de(){p=this.__value,t(6,p)}function Le(){p=this.__value,t(6,p)}function Z(w){yl[w?"unshift":"push"](()=>{x=w,t(8,x)})}const J=()=>x==null?void 0:x.click(),Ke=()=>x==null?void 0:x.click(),ve=w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),x==null||x.click())};function oe(){b.license=Cl(this),t(9,b)}function X(){b.base_model=this.value,t(9,b)}function Re(){g=this.value,t(11,g)}const Ae=w=>ne(w),xe=()=>{t(9,b.classification_id=null,b)},W=()=>{t(9,b.task_classification_ids=[],b)},Ce=w=>ie(w.id);function we(){b.visibility=this.__value,t(9,b)}function me(){b.visibility=this.__value,t(9,b)}return[r,n,a,f,_,h,p,v,x,b,D,g,N,l,k,S,te,H,U,ne,L,E,ie,G,Ue,Fe,de,q,Le,Z,J,Ke,ve,oe,X,Re,Ae,xe,W,Ce,we,me,()=>jt(Bt.HOME)]}class fs extends dl{constructor(e){super(),cl(this,e,ts,$l,ol,{},null,[-1,-1])}}export{fs as component,us as universal};
