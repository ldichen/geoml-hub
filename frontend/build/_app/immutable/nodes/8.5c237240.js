import{s as qt,a as g,f as c,l as E,M as Gt,d as f,c as b,g as u,h,m as k,F as le,j as _,i as P,A as a,n as M,D as Kt,o as Ft,e as jt,E as Jt,G as Qt}from"../chunks/scheduler.cc6cbc02.js";import{S as Wt,i as Xt,b as ae,d as ne,m as re,a as x,t as N,c as mt,e as oe,g as pt}from"../chunks/index.cf161fb4.js";import{g as Yt}from"../chunks/globals.7f7f1b26.js";import{e as Rt}from"../chunks/each.61c71743.js";import{p as Zt}from"../chunks/stores.67836202.js";import{e as Et}from"../chunks/singletons.434e14c9.js";import{g as kt}from"../chunks/paths.f059e082.js";import{a as wt}from"../chunks/api.ecdb55f2.js";import{R as es}from"../chunks/RepositoryHeader.23a10d36.js";import{B as ze}from"../chunks/Button.a5ffc84f.js";import{L as ts}from"../chunks/Loading.1b4bc8d5.js";import{T as ss}from"../chunks/Toast.7c8dc121.js";const ls=!1,as=!1,js=Object.freeze(Object.defineProperty({__proto__:null,prerender:ls,ssr:as},Symbol.toStringTag,{value:"Module"}));const{document:It}=Yt;function Tt(l,t,e){const s=l.slice();return s[27]=t[e],s}function Lt(l){let t,e;return t=new ss({props:{type:l[5].type,message:l[5].message}}),t.$on("close",l[15]),{c(){ae(t.$$.fragment)},l(s){ne(t.$$.fragment,s)},m(s,n){re(t,s,n),e=!0},p(s,n){const r={};n&32&&(r.type=s[5].type),n&32&&(r.message=s[5].message),t.$set(r)},i(s){e||(x(t.$$.fragment,s),e=!0)},o(s){N(t.$$.fragment,s),e=!1},d(s){oe(t,s)}}}function Mt(l){let t,e;return t=new es({props:{repository:l[2],activeTab:"files"}}),{c(){ae(t.$$.fragment)},l(s){ne(t.$$.fragment,s)},m(s,n){re(t,s,n),e=!0},p(s,n){const r={};n&4&&(r.repository=s[2]),t.$set(r)},i(s){e||(x(t.$$.fragment,s),e=!0)},o(s){N(t.$$.fragment,s),e=!1},d(s){oe(t,s)}}}function ns(l){let t;return{c(){t=E("ğŸ”„ åˆ·æ–°")},l(e){t=k(e,"ğŸ”„ åˆ·æ–°")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function rs(l){let t;return{c(){t=E("ğŸ“¤ å¯¼å‡º")},l(e){t=k(e,"ğŸ“¤ å¯¼å‡º")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function os(l){let t;return{c(){t=E("ğŸ—‘ï¸ æ¸…ç†è‡ªåŠ¨è‰ç¨¿")},l(e){t=k(e,"ğŸ—‘ï¸ æ¸…ç†è‡ªåŠ¨è‰ç¨¿")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function is(l){let t,e=l[6].total+"",s,n;return{c(){t=E("å…¨éƒ¨ ("),s=E(e),n=E(")")},l(r){t=k(r,"å…¨éƒ¨ ("),s=k(r,e),n=k(r,")")},m(r,o){P(r,t,o),P(r,s,o),P(r,n,o)},p(r,o){o&64&&e!==(e=r[6].total+"")&&M(s,e)},d(r){r&&(f(t),f(s),f(n))}}}function fs(l){let t,e=l[6].auto+"",s,n;return{c(){t=E("è‡ªåŠ¨ä¿å­˜ ("),s=E(e),n=E(")")},l(r){t=k(r,"è‡ªåŠ¨ä¿å­˜ ("),s=k(r,e),n=k(r,")")},m(r,o){P(r,t,o),P(r,s,o),P(r,n,o)},p(r,o){o&64&&e!==(e=r[6].auto+"")&&M(s,e)},d(r){r&&(f(t),f(s),f(n))}}}function cs(l){let t,e=l[6].manual+"",s,n;return{c(){t=E("æ‰‹åŠ¨ä¿å­˜ ("),s=E(e),n=E(")")},l(r){t=k(r,"æ‰‹åŠ¨ä¿å­˜ ("),s=k(r,e),n=k(r,")")},m(r,o){P(r,t,o),P(r,s,o),P(r,n,o)},p(r,o){o&64&&e!==(e=r[6].manual+"")&&M(s,e)},d(r){r&&(f(t),f(s),f(n))}}}function us(l){let t,e,s,n,r=Rt(l[7]),o=[];for(let i=0;i<r.length;i+=1)o[i]=Ut(Tt(l,r,i));const w=i=>N(o[i],1,1,()=>{o[i]=null});let v=l[7].length>=50&&Ht(l);return{c(){t=c("div");for(let i=0;i<o.length;i+=1)o[i].c();e=g(),v&&v.c(),s=jt(),this.h()},l(i){t=u(i,"DIV",{class:!0});var m=h(t);for(let p=0;p<o.length;p+=1)o[p].l(m);m.forEach(f),e=b(i),v&&v.l(i),s=jt(),this.h()},h(){_(t,"class","space-y-4")},m(i,m){P(i,t,m);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(t,null);P(i,e,m),v&&v.m(i,m),P(i,s,m),n=!0},p(i,m){if(m&2944){r=Rt(i[7]);let p;for(p=0;p<r.length;p+=1){const C=Tt(i,r,p);o[p]?(o[p].p(C,m),x(o[p],1)):(o[p]=Ut(C),o[p].c(),x(o[p],1),o[p].m(t,null))}for(pt(),p=r.length;p<o.length;p+=1)w(p);mt()}i[7].length>=50?v?(v.p(i,m),m&128&&x(v,1)):(v=Ht(i),v.c(),x(v,1),v.m(s.parentNode,s)):v&&(pt(),N(v,1,1,()=>{v=null}),mt())},i(i){if(!n){for(let m=0;m<r.length;m+=1)x(o[m]);x(v),n=!0}},o(i){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)N(o[m]);N(v),n=!1},d(i){i&&(f(t),f(e),f(s)),Jt(o,i),v&&v.d(i)}}}function ds(l){let t,e,s="ğŸ“",n,r,o=l[1]==="all"?"æš‚æ— è‰ç¨¿":`æš‚æ— ${l[1]==="auto"?"è‡ªåŠ¨ä¿å­˜çš„":"æ‰‹åŠ¨ä¿å­˜çš„"}è‰ç¨¿`,w,v,i,m="å¼€å§‹ç¼–è¾‘æ–‡ä»¶æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºè‰ç¨¿ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¿å­˜è‰ç¨¿ã€‚",p,C,j;return C=new ze({props:{variant:"primary",$$slots:{default:[gs]},$$scope:{ctx:l}}}),C.$on("click",l[19]),{c(){t=c("div"),e=c("div"),e.textContent=s,n=g(),r=c("h3"),w=E(o),v=g(),i=c("p"),i.textContent=m,p=g(),ae(C.$$.fragment),this.h()},l(A){t=u(A,"DIV",{class:!0});var S=h(t);e=u(S,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-k66h5v"&&(e.textContent=s),n=b(S),r=u(S,"H3",{class:!0});var R=h(r);w=k(R,o),R.forEach(f),v=b(S),i=u(S,"P",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-1uvzyw3"&&(i.textContent=m),p=b(S),ne(C.$$.fragment,S),S.forEach(f),this.h()},h(){_(e,"class","text-gray-400 text-4xl mb-4"),_(r,"class","text-lg font-medium text-gray-900 mb-2"),_(i,"class","text-gray-600 mb-4"),_(t,"class","text-center py-12")},m(A,S){P(A,t,S),a(t,e),a(t,n),a(t,r),a(r,w),a(t,v),a(t,i),a(t,p),re(C,t,null),j=!0},p(A,S){(!j||S&2)&&o!==(o=A[1]==="all"?"æš‚æ— è‰ç¨¿":`æš‚æ— ${A[1]==="auto"?"è‡ªåŠ¨ä¿å­˜çš„":"æ‰‹åŠ¨ä¿å­˜çš„"}è‰ç¨¿`)&&M(w,o);const R={};S&1073741824&&(R.$$scope={dirty:S,ctx:A}),C.$set(R)},i(A){j||(x(C.$$.fragment,A),j=!0)},o(A){N(C.$$.fragment,A),j=!1},d(A){A&&f(t),oe(C)}}}function _s(l){let t,e,s,n,r,o,w;return o=new ze({props:{$$slots:{default:[bs]},$$scope:{ctx:l}}}),o.$on("click",l[10]),{c(){t=c("div"),e=c("div"),s=E("âŒ "),n=E(l[4]),r=g(),ae(o.$$.fragment),this.h()},l(v){t=u(v,"DIV",{class:!0});var i=h(t);e=u(i,"DIV",{class:!0});var m=h(e);s=k(m,"âŒ "),n=k(m,l[4]),m.forEach(f),r=b(i),ne(o.$$.fragment,i),i.forEach(f),this.h()},h(){_(e,"class","text-red-500 text-lg mb-4"),_(t,"class","text-center py-12")},m(v,i){P(v,t,i),a(t,e),a(e,s),a(e,n),a(t,r),re(o,t,null),w=!0},p(v,i){(!w||i&16)&&M(n,v[4]);const m={};i&1073741824&&(m.$$scope={dirty:i,ctx:v}),o.$set(m)},i(v){w||(x(o.$$.fragment,v),w=!0)},o(v){N(o.$$.fragment,v),w=!1},d(v){v&&f(t),oe(o)}}}function vs(l){let t,e;return t=new ts({props:{message:"åŠ è½½è‰ç¨¿ä¸­..."}}),{c(){ae(t.$$.fragment)},l(s){ne(t.$$.fragment,s)},m(s,n){re(t,s,n),e=!0},p:Qt,i(s){e||(x(t.$$.fragment,s),e=!0)},o(s){N(t.$$.fragment,s),e=!1},d(s){oe(t,s)}}}function ms(l){let t=l[27].is_auto_save?"è‡ªåŠ¨ä¿å­˜":"æ‰‹åŠ¨ä¿å­˜",e;return{c(){e=E(t)},l(s){e=k(s,t)},m(s,n){P(s,e,n)},p(s,n){n&128&&t!==(t=s[27].is_auto_save?"è‡ªåŠ¨ä¿å­˜":"æ‰‹åŠ¨ä¿å­˜")&&M(e,t)},d(s){s&&f(e)}}}function Bt(l){let t,e,s,n=l[27].draft_content.split(`
`).slice(0,3).join(`
`)+"",r,o=l[27].draft_content.split(`
`).length>3?`
...`:"",w,v;return{c(){t=c("div"),e=c("pre"),s=E(""),r=E(n),w=E(o),v=E(`
											`),this.h()},l(i){t=u(i,"DIV",{class:!0});var m=h(t);e=u(m,"PRE",{class:!0});var p=h(e);s=k(p,""),r=k(p,n),w=k(p,o),v=k(p,`
											`),p.forEach(f),m.forEach(f),this.h()},h(){_(e,"class","text-sm text-gray-700 font-mono whitespace-pre-wrap overflow-hidden max-h-20"),_(t,"class","bg-gray-50 rounded-lg p-3 mb-4")},m(i,m){P(i,t,m),a(t,e),a(e,s),a(e,r),a(e,w),a(e,v)},p(i,m){m&128&&n!==(n=i[27].draft_content.split(`
`).slice(0,3).join(`
`)+"")&&M(r,n),m&128&&o!==(o=i[27].draft_content.split(`
`).length>3?`
...`:"")&&M(w,o)},d(i){i&&f(t)}}}function ps(l){let t;return{c(){t=E("ğŸ“¤ æ¢å¤ç¼–è¾‘")},l(e){t=k(e,"ğŸ“¤ æ¢å¤ç¼–è¾‘")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function hs(l){let t;return{c(){t=E("ğŸ‘ æŸ¥çœ‹åŸæ–‡ä»¶")},l(e){t=k(e,"ğŸ‘ æŸ¥çœ‹åŸæ–‡ä»¶")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function Ut(l){var Pe,Le,_t;let t,e,s,n,r,o,w,v=l[27].is_auto_save?"ğŸ”„":"ğŸ’¾",i,m,p,C,j=(l[27].title||"æœªå‘½åè‰ç¨¿")+"",A,S,R,ge=(((Pe=l[27].file)==null?void 0:Pe.filename)||"æœªçŸ¥æ–‡ä»¶")+"",ie,Fe,Ie=Ot(l[27].created_at)+"",fe,Je,be,q,Qe,G,$,I,T="æ–‡ä»¶è·¯å¾„:",X,De,K=(((Le=l[27].file)==null?void 0:Le.file_path)||"N/A")+"",Ne,Ae,ce,B,ye="å¤§å°:",je,_e,Re=Math.round(new TextEncoder().encode(l[27].draft_content||"").length/1024*100)/100+"",We,Ce,ot,Ve,J,Ue="è¡Œæ•°:",He,Ee,Oe=(((_t=l[27].draft_content)==null?void 0:_t.split(`
`).length)||0)+"",ke,it,at,Q,ue,Xe="æè¿°:",Ye,Te,ve=(l[27].description||"æ— æè¿°")+"",nt,rt,me,Y,Z,Ze,pe,xe,ee;q=new Badge({props:{variant:l[27].is_auto_save?"secondary":"primary",size:"sm",$$slots:{default:[ms]},$$scope:{ctx:l}}});let U=l[27].draft_content&&Bt(l);function et(){return l[20](l[27])}Z=new ze({props:{variant:"primary",size:"sm",$$slots:{default:[ps]},$$scope:{ctx:l}}}),Z.$on("click",et);function tt(){return l[21](l[27])}return pe=new ze({props:{variant:"outline",size:"sm",$$slots:{default:[hs]},$$scope:{ctx:l}}}),pe.$on("click",tt),{c(){t=c("div"),e=c("div"),s=c("div"),n=c("div"),r=c("div"),o=c("div"),w=c("span"),i=E(v),m=g(),p=c("div"),C=c("h3"),A=E(j),S=g(),R=c("p"),ie=E(ge),Fe=E(" â€¢ "),fe=E(Ie),Je=g(),be=c("div"),ae(q.$$.fragment),Qe=g(),G=c("div"),$=c("div"),I=c("span"),I.textContent=T,X=g(),De=c("span"),Ne=E(K),Ae=g(),ce=c("div"),B=c("span"),B.textContent=ye,je=g(),_e=c("span"),We=E(Re),Ce=E(" KB"),ot=g(),Ve=c("div"),J=c("span"),J.textContent=Ue,He=g(),Ee=c("span"),ke=E(Oe),it=E(" è¡Œ"),at=g(),Q=c("div"),ue=c("span"),ue.textContent=Xe,Ye=g(),Te=c("span"),nt=E(ve),rt=g(),U&&U.c(),me=g(),Y=c("div"),ae(Z.$$.fragment),Ze=g(),ae(pe.$$.fragment),xe=g(),this.h()},l(H){t=u(H,"DIV",{class:!0});var y=h(t);e=u(y,"DIV",{class:!0});var W=h(e);s=u(W,"DIV",{class:!0});var qe=h(s);n=u(qe,"DIV",{class:!0});var L=h(n);r=u(L,"DIV",{class:!0});var he=h(r);o=u(he,"DIV",{class:!0});var te=h(o);w=u(te,"SPAN",{class:!0});var Ge=h(w);i=k(Ge,v),Ge.forEach(f),te.forEach(f),m=b(he),p=u(he,"DIV",{class:!0});var we=h(p);C=u(we,"H3",{class:!0});var se=h(C);A=k(se,j),se.forEach(f),S=b(we),R=u(we,"P",{class:!0});var F=h(R);ie=k(F,ge),Fe=k(F," â€¢ "),fe=k(F,Ie),F.forEach(f),we.forEach(f),Je=b(he),be=u(he,"DIV",{class:!0});var de=h(be);ne(q.$$.fragment,de),de.forEach(f),he.forEach(f),Qe=b(L),G=u(L,"DIV",{class:!0});var V=h(G);$=u(V,"DIV",{});var z=h($);I=u(z,"SPAN",{class:!0,"data-svelte-h":!0}),le(I)!=="svelte-14420lm"&&(I.textContent=T),X=b(z),De=u(z,"SPAN",{class:!0});var vt=h(De);Ne=k(vt,K),vt.forEach(f),z.forEach(f),Ae=b(V),ce=u(V,"DIV",{});var $e=h(ce);B=u($e,"SPAN",{class:!0,"data-svelte-h":!0}),le(B)!=="svelte-j1gghm"&&(B.textContent=ye),je=b($e),_e=u($e,"SPAN",{class:!0});var ft=h(_e);We=k(ft,Re),Ce=k(ft," KB"),ft.forEach(f),$e.forEach(f),ot=b(V),Ve=u(V,"DIV",{});var d=h(Ve);J=u(d,"SPAN",{class:!0,"data-svelte-h":!0}),le(J)!=="svelte-17clsuc"&&(J.textContent=Ue),He=b(d),Ee=u(d,"SPAN",{class:!0});var D=h(Ee);ke=k(D,Oe),it=k(D," è¡Œ"),D.forEach(f),d.forEach(f),at=b(V),Q=u(V,"DIV",{});var O=h(Q);ue=u(O,"SPAN",{class:!0,"data-svelte-h":!0}),le(ue)!=="svelte-14h1o7v"&&(ue.textContent=Xe),Ye=b(O),Te=u(O,"SPAN",{class:!0});var Ke=h(Te);nt=k(Ke,ve),Ke.forEach(f),O.forEach(f),V.forEach(f),rt=b(L),U&&U.l(L),me=b(L),Y=u(L,"DIV",{class:!0});var Se=h(Y);ne(Z.$$.fragment,Se),Ze=b(Se),ne(pe.$$.fragment,Se),Se.forEach(f),L.forEach(f),qe.forEach(f),W.forEach(f),xe=b(y),y.forEach(f),this.h()},h(){_(w,"class","text-lg"),_(o,"class","w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center"),_(C,"class","text-lg font-medium text-gray-900 truncate"),_(R,"class","text-sm text-gray-600"),_(p,"class","flex-1 min-w-0"),_(be,"class","flex items-center space-x-2"),_(r,"class","flex items-center space-x-3 mb-3"),_(I,"class","font-medium"),_(De,"class","block truncate"),_(B,"class","font-medium"),_(_e,"class","block"),_(J,"class","font-medium"),_(Ee,"class","block"),_(ue,"class","font-medium"),_(Te,"class","block truncate"),_(G,"class","grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-4"),_(Y,"class","flex items-center space-x-2"),_(n,"class","flex-1 min-w-0"),_(s,"class","flex items-start justify-between"),_(e,"class","p-6"),_(t,"class","bg-white rounded-lg border border-gray-200 hover:border-gray-300 transition-colors")},m(H,y){P(H,t,y),a(t,e),a(e,s),a(s,n),a(n,r),a(r,o),a(o,w),a(w,i),a(r,m),a(r,p),a(p,C),a(C,A),a(p,S),a(p,R),a(R,ie),a(R,Fe),a(R,fe),a(r,Je),a(r,be),re(q,be,null),a(n,Qe),a(n,G),a(G,$),a($,I),a($,X),a($,De),a(De,Ne),a(G,Ae),a(G,ce),a(ce,B),a(ce,je),a(ce,_e),a(_e,We),a(_e,Ce),a(G,ot),a(G,Ve),a(Ve,J),a(Ve,He),a(Ve,Ee),a(Ee,ke),a(Ee,it),a(G,at),a(G,Q),a(Q,ue),a(Q,Ye),a(Q,Te),a(Te,nt),a(n,rt),U&&U.m(n,null),a(n,me),a(n,Y),re(Z,Y,null),a(Y,Ze),re(pe,Y,null),a(t,xe),ee=!0},p(H,y){var he,te,Ge;l=H,(!ee||y&128)&&v!==(v=l[27].is_auto_save?"ğŸ”„":"ğŸ’¾")&&M(i,v),(!ee||y&128)&&j!==(j=(l[27].title||"æœªå‘½åè‰ç¨¿")+"")&&M(A,j),(!ee||y&128)&&ge!==(ge=(((he=l[27].file)==null?void 0:he.filename)||"æœªçŸ¥æ–‡ä»¶")+"")&&M(ie,ge),(!ee||y&128)&&Ie!==(Ie=Ot(l[27].created_at)+"")&&M(fe,Ie);const W={};y&128&&(W.variant=l[27].is_auto_save?"secondary":"primary"),y&1073741952&&(W.$$scope={dirty:y,ctx:l}),q.$set(W),(!ee||y&128)&&K!==(K=(((te=l[27].file)==null?void 0:te.file_path)||"N/A")+"")&&M(Ne,K),(!ee||y&128)&&Re!==(Re=Math.round(new TextEncoder().encode(l[27].draft_content||"").length/1024*100)/100+"")&&M(We,Re),(!ee||y&128)&&Oe!==(Oe=(((Ge=l[27].draft_content)==null?void 0:Ge.split(`
`).length)||0)+"")&&M(ke,Oe),(!ee||y&128)&&ve!==(ve=(l[27].description||"æ— æè¿°")+"")&&M(nt,ve),l[27].draft_content?U?U.p(l,y):(U=Bt(l),U.c(),U.m(n,me)):U&&(U.d(1),U=null);const qe={};y&1073741824&&(qe.$$scope={dirty:y,ctx:l}),Z.$set(qe);const L={};y&1073741824&&(L.$$scope={dirty:y,ctx:l}),pe.$set(L)},i(H){ee||(x(q.$$.fragment,H),x(Z.$$.fragment,H),x(pe.$$.fragment,H),ee=!0)},o(H){N(q.$$.fragment,H),N(Z.$$.fragment,H),N(pe.$$.fragment,H),ee=!1},d(H){H&&f(t),oe(q),U&&U.d(),oe(Z),oe(pe)}}}function Ht(l){let t,e,s;return e=new ze({props:{variant:"outline",$$slots:{default:[$s]},$$scope:{ctx:l}}}),e.$on("click",l[10]),{c(){t=c("div"),ae(e.$$.fragment),this.h()},l(n){t=u(n,"DIV",{class:!0});var r=h(t);ne(e.$$.fragment,r),r.forEach(f),this.h()},h(){_(t,"class","text-center mt-6")},m(n,r){P(n,t,r),re(e,t,null),s=!0},p(n,r){const o={};r&1073741824&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){s||(x(e.$$.fragment,n),s=!0)},o(n){N(e.$$.fragment,n),s=!1},d(n){n&&f(t),oe(e)}}}function $s(l){let t;return{c(){t=E("åŠ è½½æ›´å¤šè‰ç¨¿")},l(e){t=k(e,"åŠ è½½æ›´å¤šè‰ç¨¿")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function gs(l){let t;return{c(){t=E("æµè§ˆæ–‡ä»¶")},l(e){t=k(e,"æµè§ˆæ–‡ä»¶")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function bs(l){let t;return{c(){t=E("é‡è¯•")},l(e){t=k(e,"é‡è¯•")},m(e,s){P(e,t,s)},d(e){e&&f(t)}}}function Ds(l){let t,e,s,n,r,o,w,v,i,m,p,C,j,A,S,R="/",ge,ie,Fe="è‰ç¨¿ç®¡ç†",Ie,fe,Je="è‰ç¨¿ç®¡ç†",be,q,Qe="ç®¡ç†æ‚¨åœ¨æ­¤ä»“åº“ä¸­çš„æ‰€æœ‰è‰ç¨¿æ–‡ä»¶",G,$,I,T,X,De,K,Ne,Ae,ce,B,ye,je,_e=l[6].total+"",Re,We,Ce,ot="æ€»è‰ç¨¿æ•°",Ve,J,Ue,He=l[6].auto+"",Ee,Oe,ke,it="è‡ªåŠ¨ä¿å­˜",at,Q,ue,Xe=l[6].manual+"",Ye,Te,ve,nt="æ‰‹åŠ¨ä¿å­˜",rt,me,Y,Z=Math.round(l[6].totalSize/1024*100)/100+"",Ze,pe,xe,ee="æ€»å¤§å° (KB)",U,et,tt,Pe,Le,_t="ç­›é€‰:",H,y,W,qe,L,he,te,Ge,we,se,F,de;It.title=t="è‰ç¨¿ç®¡ç† - "+l[8]+" - GeoML-Hub";let V=l[5]&&Lt(l),z=l[2]&&Mt(l);I=new ze({props:{variant:"outline",size:"sm",disabled:l[3],$$slots:{default:[ns]},$$scope:{ctx:l}}}),I.$on("click",l[10]),X=new ze({props:{variant:"outline",size:"sm",disabled:l[0].length===0,$$slots:{default:[rs]},$$scope:{ctx:l}}}),X.$on("click",l[13]),K=new ze({props:{variant:"outline",size:"sm",disabled:l[6].auto===0,$$slots:{default:[os]},$$scope:{ctx:l}}}),K.$on("click",l[12]),W=new ze({props:{variant:l[1]==="all"?"primary":"ghost",size:"sm",$$slots:{default:[is]},$$scope:{ctx:l}}}),W.$on("click",l[16]),L=new ze({props:{variant:l[1]==="auto"?"primary":"ghost",size:"sm",$$slots:{default:[fs]},$$scope:{ctx:l}}}),L.$on("click",l[17]),te=new ze({props:{variant:l[1]==="manual"?"primary":"ghost",size:"sm",$$slots:{default:[cs]},$$scope:{ctx:l}}}),te.$on("click",l[18]);const vt=[vs,_s,ds,us],$e=[];function ft(d,D){return d[3]?0:d[4]?1:d[7].length===0?2:3}return se=ft(l),F=$e[se]=vt[se](l),{c(){e=g(),V&&V.c(),s=g(),n=c("div"),z&&z.c(),r=g(),o=c("div"),w=c("div"),v=c("div"),i=c("div"),m=c("nav"),p=c("a"),C=E(l[8]),A=g(),S=c("span"),S.textContent=R,ge=g(),ie=c("span"),ie.textContent=Fe,Ie=g(),fe=c("h1"),fe.textContent=Je,be=g(),q=c("p"),q.textContent=Qe,G=g(),$=c("div"),ae(I.$$.fragment),T=g(),ae(X.$$.fragment),De=g(),ae(K.$$.fragment),Ne=g(),Ae=c("div"),ce=c("div"),B=c("div"),ye=c("div"),je=c("div"),Re=E(_e),We=g(),Ce=c("div"),Ce.textContent=ot,Ve=g(),J=c("div"),Ue=c("div"),Ee=E(He),Oe=g(),ke=c("div"),ke.textContent=it,at=g(),Q=c("div"),ue=c("div"),Ye=E(Xe),Te=g(),ve=c("div"),ve.textContent=nt,rt=g(),me=c("div"),Y=c("div"),Ze=E(Z),pe=g(),xe=c("div"),xe.textContent=ee,U=g(),et=c("div"),tt=c("div"),Pe=c("div"),Le=c("span"),Le.textContent=_t,H=g(),y=c("div"),ae(W.$$.fragment),qe=g(),ae(L.$$.fragment),he=g(),ae(te.$$.fragment),Ge=g(),we=c("div"),F.c(),this.h()},l(d){Gt("svelte-1fc3bsc",It.head).forEach(f),e=b(d),V&&V.l(d),s=b(d),n=u(d,"DIV",{class:!0});var O=h(n);z&&z.l(O),r=b(O),o=u(O,"DIV",{class:!0});var Ke=h(o);w=u(Ke,"DIV",{class:!0});var Se=h(w);v=u(Se,"DIV",{class:!0});var st=h(v);i=u(st,"DIV",{});var Me=h(i);m=u(Me,"NAV",{class:!0});var Be=h(m);p=u(Be,"A",{href:!0,class:!0});var ct=h(p);C=k(ct,l[8]),ct.forEach(f),A=b(Be),S=u(Be,"SPAN",{"data-svelte-h":!0}),le(S)!=="svelte-ocknwt"&&(S.textContent=R),ge=b(Be),ie=u(Be,"SPAN",{class:!0,"data-svelte-h":!0}),le(ie)!=="svelte-1sqwzow"&&(ie.textContent=Fe),Be.forEach(f),Ie=b(Me),fe=u(Me,"H1",{class:!0,"data-svelte-h":!0}),le(fe)!=="svelte-1li02j4"&&(fe.textContent=Je),be=b(Me),q=u(Me,"P",{class:!0,"data-svelte-h":!0}),le(q)!=="svelte-713ivd"&&(q.textContent=Qe),Me.forEach(f),G=b(st),$=u(st,"DIV",{class:!0});var ut=h($);ne(I.$$.fragment,ut),T=b(ut),ne(X.$$.fragment,ut),De=b(ut),ne(K.$$.fragment,ut),ut.forEach(f),st.forEach(f),Se.forEach(f),Ke.forEach(f),Ne=b(O),Ae=u(O,"DIV",{class:!0});var yt=h(Ae);ce=u(yt,"DIV",{class:!0});var Ct=h(ce);B=u(Ct,"DIV",{class:!0});var lt=h(B);ye=u(lt,"DIV",{class:!0});var ht=h(ye);je=u(ht,"DIV",{class:!0});var Vt=h(je);Re=k(Vt,_e),Vt.forEach(f),We=b(ht),Ce=u(ht,"DIV",{class:!0,"data-svelte-h":!0}),le(Ce)!=="svelte-kulvng"&&(Ce.textContent=ot),ht.forEach(f),Ve=b(lt),J=u(lt,"DIV",{class:!0});var $t=h(J);Ue=u($t,"DIV",{class:!0});var xt=h(Ue);Ee=k(xt,He),xt.forEach(f),Oe=b($t),ke=u($t,"DIV",{class:!0,"data-svelte-h":!0}),le(ke)!=="svelte-1i9t1fk"&&(ke.textContent=it),$t.forEach(f),at=b(lt),Q=u(lt,"DIV",{class:!0});var gt=h(Q);ue=u(gt,"DIV",{class:!0});var Pt=h(ue);Ye=k(Pt,Xe),Pt.forEach(f),Te=b(gt),ve=u(gt,"DIV",{class:!0,"data-svelte-h":!0}),le(ve)!=="svelte-129ahk3"&&(ve.textContent=nt),gt.forEach(f),rt=b(lt),me=u(lt,"DIV",{class:!0});var bt=h(me);Y=u(bt,"DIV",{class:!0});var St=h(Y);Ze=k(St,Z),St.forEach(f),pe=b(bt),xe=u(bt,"DIV",{class:!0,"data-svelte-h":!0}),le(xe)!=="svelte-1uxg4v2"&&(xe.textContent=ee),bt.forEach(f),lt.forEach(f),Ct.forEach(f),yt.forEach(f),U=b(O),et=u(O,"DIV",{class:!0});var zt=h(et);tt=u(zt,"DIV",{class:!0});var Nt=h(tt);Pe=u(Nt,"DIV",{class:!0});var Dt=h(Pe);Le=u(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),le(Le)!=="svelte-5btotz"&&(Le.textContent=_t),H=b(Dt),y=u(Dt,"DIV",{class:!0});var dt=h(y);ne(W.$$.fragment,dt),qe=b(dt),ne(L.$$.fragment,dt),he=b(dt),ne(te.$$.fragment,dt),dt.forEach(f),Dt.forEach(f),Nt.forEach(f),zt.forEach(f),Ge=b(O),we=u(O,"DIV",{class:!0});var At=h(we);F.l(At),At.forEach(f),O.forEach(f),this.h()},h(){_(p,"href",j=Et+"/"+l[9]+"/"+l[8]),_(p,"class","hover:text-blue-600"),_(ie,"class","text-blue-600 font-medium"),_(m,"class","flex items-center space-x-2 text-sm text-gray-600 mb-2"),_(fe,"class","text-2xl font-bold text-gray-900"),_(q,"class","text-gray-600 mt-1"),_($,"class","flex items-center space-x-2"),_(v,"class","flex items-center justify-between"),_(w,"class","container mx-auto px-4 py-6"),_(o,"class","bg-white border-b border-gray-200"),_(je,"class","text-2xl font-bold text-gray-900"),_(Ce,"class","text-sm text-gray-600"),_(ye,"class","bg-white rounded-lg p-4 border border-gray-200"),_(Ue,"class","text-2xl font-bold text-blue-600"),_(ke,"class","text-sm text-gray-600"),_(J,"class","bg-white rounded-lg p-4 border border-gray-200"),_(ue,"class","text-2xl font-bold text-green-600"),_(ve,"class","text-sm text-gray-600"),_(Q,"class","bg-white rounded-lg p-4 border border-gray-200"),_(Y,"class","text-2xl font-bold text-purple-600"),_(xe,"class","text-sm text-gray-600"),_(me,"class","bg-white rounded-lg p-4 border border-gray-200"),_(B,"class","grid grid-cols-2 md:grid-cols-4 gap-4"),_(ce,"class","container mx-auto px-4 py-4"),_(Ae,"class","bg-gray-50 border-b border-gray-200"),_(Le,"class","text-sm font-medium text-gray-700"),_(y,"class","flex space-x-1"),_(Pe,"class","flex items-center space-x-4"),_(tt,"class","container mx-auto px-4 py-3"),_(et,"class","bg-white border-b border-gray-200"),_(we,"class","container mx-auto px-4 py-6"),_(n,"class","drafts-page svelte-pq7omz")},m(d,D){P(d,e,D),V&&V.m(d,D),P(d,s,D),P(d,n,D),z&&z.m(n,null),a(n,r),a(n,o),a(o,w),a(w,v),a(v,i),a(i,m),a(m,p),a(p,C),a(m,A),a(m,S),a(m,ge),a(m,ie),a(i,Ie),a(i,fe),a(i,be),a(i,q),a(v,G),a(v,$),re(I,$,null),a($,T),re(X,$,null),a($,De),re(K,$,null),a(n,Ne),a(n,Ae),a(Ae,ce),a(ce,B),a(B,ye),a(ye,je),a(je,Re),a(ye,We),a(ye,Ce),a(B,Ve),a(B,J),a(J,Ue),a(Ue,Ee),a(J,Oe),a(J,ke),a(B,at),a(B,Q),a(Q,ue),a(ue,Ye),a(Q,Te),a(Q,ve),a(B,rt),a(B,me),a(me,Y),a(Y,Ze),a(me,pe),a(me,xe),a(n,U),a(n,et),a(et,tt),a(tt,Pe),a(Pe,Le),a(Pe,H),a(Pe,y),re(W,y,null),a(y,qe),re(L,y,null),a(y,he),re(te,y,null),a(n,Ge),a(n,we),$e[se].m(we,null),de=!0},p(d,[D]){(!de||D&256)&&t!==(t="è‰ç¨¿ç®¡ç† - "+d[8]+" - GeoML-Hub")&&(It.title=t),d[5]?V?(V.p(d,D),D&32&&x(V,1)):(V=Lt(d),V.c(),x(V,1),V.m(s.parentNode,s)):V&&(pt(),N(V,1,1,()=>{V=null}),mt()),d[2]?z?(z.p(d,D),D&4&&x(z,1)):(z=Mt(d),z.c(),x(z,1),z.m(n,r)):z&&(pt(),N(z,1,1,()=>{z=null}),mt()),(!de||D&256)&&M(C,d[8]),(!de||D&768&&j!==(j=Et+"/"+d[9]+"/"+d[8]))&&_(p,"href",j);const O={};D&8&&(O.disabled=d[3]),D&1073741824&&(O.$$scope={dirty:D,ctx:d}),I.$set(O);const Ke={};D&1&&(Ke.disabled=d[0].length===0),D&1073741824&&(Ke.$$scope={dirty:D,ctx:d}),X.$set(Ke);const Se={};D&64&&(Se.disabled=d[6].auto===0),D&1073741824&&(Se.$$scope={dirty:D,ctx:d}),K.$set(Se),(!de||D&64)&&_e!==(_e=d[6].total+"")&&M(Re,_e),(!de||D&64)&&He!==(He=d[6].auto+"")&&M(Ee,He),(!de||D&64)&&Xe!==(Xe=d[6].manual+"")&&M(Ye,Xe),(!de||D&64)&&Z!==(Z=Math.round(d[6].totalSize/1024*100)/100+"")&&M(Ze,Z);const st={};D&2&&(st.variant=d[1]==="all"?"primary":"ghost"),D&1073741888&&(st.$$scope={dirty:D,ctx:d}),W.$set(st);const Me={};D&2&&(Me.variant=d[1]==="auto"?"primary":"ghost"),D&1073741888&&(Me.$$scope={dirty:D,ctx:d}),L.$set(Me);const Be={};D&2&&(Be.variant=d[1]==="manual"?"primary":"ghost"),D&1073741888&&(Be.$$scope={dirty:D,ctx:d}),te.$set(Be);let ct=se;se=ft(d),se===ct?$e[se].p(d,D):(pt(),N($e[ct],1,1,()=>{$e[ct]=null}),mt(),F=$e[se],F?F.p(d,D):(F=$e[se]=vt[se](d),F.c()),x(F,1),F.m(we,null))},i(d){de||(x(V),x(z),x(I.$$.fragment,d),x(X.$$.fragment,d),x(K.$$.fragment,d),x(W.$$.fragment,d),x(L.$$.fragment,d),x(te.$$.fragment,d),x(F),de=!0)},o(d){N(V),N(z),N(I.$$.fragment,d),N(X.$$.fragment,d),N(K.$$.fragment,d),N(W.$$.fragment,d),N(L.$$.fragment,d),N(te.$$.fragment,d),N(F),de=!1},d(d){d&&(f(e),f(s),f(n)),V&&V.d(d),z&&z.d(),oe(I),oe(X),oe(K),oe(W),oe(L),oe(te),$e[se].d()}}}function Ot(l){const t=new Date(l);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function Es(l,t,e){let s,n,r,o,w;Kt(l,Zt,$=>e(14,w=$));let v=null,i=[],m=!0,p=null,C=null,j="all";Ft(async()=>{await Promise.all([A(),S(),R()])});async function A(){var $,I;try{const T=await wt.getRepository(s,n);e(2,v=T)}catch(T){console.error("åŠ è½½ä»“åº“ä¿¡æ¯å¤±è´¥:",T),e(4,p=((I=($=T.response)==null?void 0:$.data)==null?void 0:I.detail)||"åŠ è½½ä»“åº“ä¿¡æ¯å¤±è´¥")}}async function S(){}async function R(){var $,I;e(3,m=!0),e(4,p=null);try{e(0,i=[])}catch(T){console.error("åŠ è½½è‰ç¨¿å¤±è´¥:",T),e(4,p=((I=($=T.response)==null?void 0:$.data)==null?void 0:I.detail)||"åŠ è½½è‰ç¨¿å¤±è´¥")}finally{e(3,m=!1)}}function ge($){const{content:I,cursorPosition:T,filePath:X,draftId:De}=$.detail,K=`/${s}/${n}/edit/${X}`,Ne=new URLSearchParams({draft_id:De,restore:"true"});kt(`${K}?${Ne.toString()}`)}async function ie(){if(confirm("ç¡®å®šè¦åˆ é™¤æ‰€æœ‰è‡ªåŠ¨ä¿å­˜çš„è‰ç¨¿å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚"))try{await wt.delete(`/api/repositories/${s}/${n}/drafts/cleanup`),e(5,C={type:"success",message:"è‰ç¨¿æ¸…ç†å®Œæˆ"}),await R()}catch($){console.error("æ‰¹é‡åˆ é™¤è‰ç¨¿å¤±è´¥:",$),e(5,C={type:"error",message:"æ‰¹é‡åˆ é™¤å¤±è´¥"})}}async function Fe(){try{const $=await wt.get(`/api/repositories/${s}/${n}/drafts/export`,{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([$.data])),T=document.createElement("a");T.href=I,T.setAttribute("download",`${n}_drafts_${new Date().toISOString().split("T")[0]}.zip`),document.body.appendChild(T),T.click(),T.remove(),window.URL.revokeObjectURL(I),e(5,C={type:"success",message:"è‰ç¨¿å¯¼å‡ºå®Œæˆ"})}catch($){console.error("å¯¼å‡ºè‰ç¨¿å¤±è´¥:",$),e(5,C={type:"error",message:"å¯¼å‡ºè‰ç¨¿å¤±è´¥"})}}const Ie=()=>e(5,C=null),fe=()=>e(1,j="all"),Je=()=>e(1,j="auto"),be=()=>e(1,j="manual"),q=()=>kt(`${Et}/${s}/${n}`),Qe=$=>{var I;return ge({detail:{content:$.draft_content,cursorPosition:$.cursor_position,filePath:(I=$.file)==null?void 0:I.file_path,draftId:$.id}})},G=$=>{var I;return kt(`${Et}/${s}/${n}/blob/${(I=$.file)==null?void 0:I.file_path}`)};return l.$$.update=()=>{l.$$.dirty&16384&&e(9,s=w.params.username),l.$$.dirty&16384&&e(8,n=w.params.repository),l.$$.dirty&3&&e(7,r=i.filter($=>j==="auto"?$.is_auto_save:j==="manual"?!$.is_auto_save:!0)),l.$$.dirty&1&&e(6,o={total:i.length,auto:i.filter($=>$.is_auto_save).length,manual:i.filter($=>!$.is_auto_save).length,totalSize:i.reduce(($,I)=>$+new TextEncoder().encode(I.draft_content||"").length,0)})},[i,j,v,m,p,C,o,r,n,s,R,ge,ie,Fe,w,Ie,fe,Je,be,q,Qe,G]}class Rs extends Wt{constructor(t){super(),Xt(this,t,Es,Ds,qt,{})}}export{Rs as component,js as universal};
