import{s as Ka,f as t,a as d,g as s,h as r,F as g,c as v,d as a,j as l,i as O,A as e,B as Oa,G as jl,o as Ra,l as b,m as C,n as y,E as Ua}from"../chunks/scheduler.cc6cbc02.js";import{e as Ba}from"../chunks/each.61c71743.js";import{S as Ja,i as Qa}from"../chunks/index.cf161fb4.js";import{a as Ta}from"../chunks/api.ecdb55f2.js";function za(i,n,c){const h=i.slice();return h[5]=n[c],h}function Wa(i){var $l,ea,ta,sa,la,aa,ra,na,ia,oa,da,va,ca,ua,fa,ha,_a,pa,ma,xa,ga,ba,Ca,wa,ya,Da,Ea,Va,Ia,ka,Pa,ja,Ma;let n,c,h="系统健康状态",w,u,x,_,p=Pe(($l=i[1])==null?void 0:$l.overall)+"",D,m,P,j,E="系统状态",V,I,H=(((ea=i[1])==null?void 0:ea.overall)||"unknown")+"",F,Q,N,G,S=Pe((la=(sa=(ta=i[1])==null?void 0:ta.services)==null?void 0:sa.database)==null?void 0:la.status)+"",M,W,Z,R,je="数据库",pt,mt,Ht=(na=(ra=(aa=i[1])==null?void 0:aa.services)==null?void 0:ra.database)!=null&&na.response_time_ms?`${i[1].services.database.response_time_ms}ms`:"N/A",xs,Js,U,Me,Lt=Pe((da=(oa=(ia=i[1])==null?void 0:ia.services)==null?void 0:oa.minio)!=null&&da.healthy?"healthy":"unhealthy")+"",gs,bs,Qs,Se,Ml="存储",Ws,Ae,Sl="MinIO",Xs,J,Ne,Bt=Pe((ua=(ca=(va=i[1])==null?void 0:va.services)==null?void 0:ca.disk)==null?void 0:ua.status)+"",Cs,ws,Ys,He,Al="文件系统",Zs,xt,Tt=(_a=(ha=(fa=i[1])==null?void 0:fa.services)==null?void 0:ha.disk)!=null&&_a.free_percentage?`${i[1].services.disk.free_percentage}%`:"N/A",ys,Ds,B,$,ee,Le,Nl='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path></svg>',$s,te,Be,Hl="总用户数",el,gt,zt=k(((pa=i[0].users)==null?void 0:pa.total)||0)+"",Es,tl,se,le,bt,Ll="活跃用户",sl,qt,Ft=k(((ma=i[0].users)==null?void 0:ma.active)||0)+"",Vs,ll,ae,Ct,Bl="验证用户",al,Gt,Kt=k(((xa=i[0].users)==null?void 0:xa.verified)||0)+"",Is,rl,re,ne,Te,Tl='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>',nl,ie,ze,zl="总仓库数",il,wt,Ot=k(((ga=i[0].repositories)==null?void 0:ga.total)||0)+"",ks,ol,oe,de,yt,ql="公开仓库",dl,Rt,Ut=k(((ba=i[0].repositories)==null?void 0:ba.public)||0)+"",Ps,vl,ve,Dt,Fl="私有仓库",cl,Jt,Qt=k(((Ca=i[0].repositories)==null?void 0:Ca.private)||0)+"",js,ul,ce,ue,qe,Gl='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path></svg>',fl,fe,Fe,Kl="总存储量",hl,Et,Wt=Ga(((wa=i[0].storage)==null?void 0:wa.total_size_bytes)||0)+"",Ms,_l,he,_e,Vt,Ol="总文件数",pl,Xt,Yt=k(((ya=i[0].storage)==null?void 0:ya.active_files)||0)+"",Ss,ml,pe,It,Rl="存储桶状态",xl,kt,Zt=(((Da=i[0].storage)==null?void 0:Da.bucket_status)||"unknown")+"",As,gl,me,xe,Ge,Ul='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>',bl,ge,Ke,Jl="7天活动",Cl,Pt,$t=k((((Ea=i[0].activity_7d)==null?void 0:Ea.uploads)||0)+(((Va=i[0].activity_7d)==null?void 0:Va.downloads)||0)+(((Ia=i[0].activity_7d)==null?void 0:Ia.views)||0))+"",Ns,wl,be,Ce,jt,Ql="上传次数",yl,es,ts=k(((ka=i[0].activity_7d)==null?void 0:ka.uploads)||0)+"",Hs,Dl,we,Mt,Wl="下载次数",El,ss,ls=k(((Pa=i[0].activity_7d)==null?void 0:Pa.downloads)||0)+"",Ls,Bs,St,X,Oe,Xl="系统信息",Vl,ye,Re,Ue,Yl="运行时间",Il,At,as=(((ja=i[1])==null?void 0:ja.uptime)||"N/A")+"",Ts,kl,Je,Qe,Zl="最后更新",Pl,Nt,rs=new Date(((Ma=i[1])==null?void 0:Ma.timestamp)||Date.now()).toLocaleString()+"",zs,A=i[0].recent_activities&&qa(i);return{c(){n=t("div"),c=t("h2"),c.textContent=h,w=d(),u=t("div"),x=t("div"),_=t("div"),D=b(p),P=d(),j=t("div"),j.textContent=E,V=d(),I=t("div"),F=b(H),Q=d(),N=t("div"),G=t("div"),M=b(S),Z=d(),R=t("div"),R.textContent=je,pt=d(),mt=t("div"),xs=b(Ht),Js=d(),U=t("div"),Me=t("div"),gs=b(Lt),Qs=d(),Se=t("div"),Se.textContent=Ml,Ws=d(),Ae=t("div"),Ae.textContent=Sl,Xs=d(),J=t("div"),Ne=t("div"),Cs=b(Bt),Ys=d(),He=t("div"),He.textContent=Al,Zs=d(),xt=t("div"),ys=b(Tt),Ds=d(),B=t("div"),$=t("div"),ee=t("div"),Le=t("div"),Le.innerHTML=Nl,$s=d(),te=t("div"),Be=t("p"),Be.textContent=Hl,el=d(),gt=t("p"),Es=b(zt),tl=d(),se=t("div"),le=t("div"),bt=t("span"),bt.textContent=Ll,sl=d(),qt=t("span"),Vs=b(Ft),ll=d(),ae=t("div"),Ct=t("span"),Ct.textContent=Bl,al=d(),Gt=t("span"),Is=b(Kt),rl=d(),re=t("div"),ne=t("div"),Te=t("div"),Te.innerHTML=Tl,nl=d(),ie=t("div"),ze=t("p"),ze.textContent=zl,il=d(),wt=t("p"),ks=b(Ot),ol=d(),oe=t("div"),de=t("div"),yt=t("span"),yt.textContent=ql,dl=d(),Rt=t("span"),Ps=b(Ut),vl=d(),ve=t("div"),Dt=t("span"),Dt.textContent=Fl,cl=d(),Jt=t("span"),js=b(Qt),ul=d(),ce=t("div"),ue=t("div"),qe=t("div"),qe.innerHTML=Gl,fl=d(),fe=t("div"),Fe=t("p"),Fe.textContent=Kl,hl=d(),Et=t("p"),Ms=b(Wt),_l=d(),he=t("div"),_e=t("div"),Vt=t("span"),Vt.textContent=Ol,pl=d(),Xt=t("span"),Ss=b(Yt),ml=d(),pe=t("div"),It=t("span"),It.textContent=Rl,xl=d(),kt=t("span"),As=b(Zt),gl=d(),me=t("div"),xe=t("div"),Ge=t("div"),Ge.innerHTML=Ul,bl=d(),ge=t("div"),Ke=t("p"),Ke.textContent=Jl,Cl=d(),Pt=t("p"),Ns=b($t),wl=d(),be=t("div"),Ce=t("div"),jt=t("span"),jt.textContent=Ql,yl=d(),es=t("span"),Hs=b(ts),Dl=d(),we=t("div"),Mt=t("span"),Mt.textContent=Wl,El=d(),ss=t("span"),Ls=b(ls),Bs=d(),A&&A.c(),St=d(),X=t("div"),Oe=t("h2"),Oe.textContent=Xl,Vl=d(),ye=t("div"),Re=t("div"),Ue=t("h3"),Ue.textContent=Yl,Il=d(),At=t("p"),Ts=b(as),kl=d(),Je=t("div"),Qe=t("h3"),Qe.textContent=Zl,Pl=d(),Nt=t("p"),zs=b(rs),this.h()},l(o){n=s(o,"DIV",{class:!0});var f=r(n);c=s(f,"H2",{class:!0,"data-svelte-h":!0}),g(c)!=="svelte-1d06635"&&(c.textContent=h),w=v(f),u=s(f,"DIV",{class:!0});var L=r(u);x=s(L,"DIV",{class:!0});var T=r(x);_=s(T,"DIV",{class:!0});var De=r(_);D=C(De,p),De.forEach(a),P=v(T),j=s(T,"DIV",{class:!0,"data-svelte-h":!0}),g(j)!=="svelte-1jsa7o0"&&(j.textContent=E),V=v(T),I=s(T,"DIV",{class:!0});var Ee=r(I);F=C(Ee,H),Ee.forEach(a),T.forEach(a),Q=v(L),N=s(L,"DIV",{class:!0});var z=r(N);G=s(z,"DIV",{class:!0});var Ve=r(G);M=C(Ve,S),Ve.forEach(a),Z=v(z),R=s(z,"DIV",{class:!0,"data-svelte-h":!0}),g(R)!=="svelte-1oxb9g0"&&(R.textContent=je),pt=v(z),mt=s(z,"DIV",{class:!0});var Ie=r(mt);xs=C(Ie,Ht),Ie.forEach(a),z.forEach(a),Js=v(L),U=s(L,"DIV",{class:!0});var q=r(U);Me=s(q,"DIV",{class:!0});var ns=r(Me);gs=C(ns,Lt),ns.forEach(a),Qs=v(q),Se=s(q,"DIV",{class:!0,"data-svelte-h":!0}),g(Se)!=="svelte-uphx0h"&&(Se.textContent=Ml),Ws=v(q),Ae=s(q,"DIV",{class:!0,"data-svelte-h":!0}),g(Ae)!=="svelte-115txm0"&&(Ae.textContent=Sl),q.forEach(a),Xs=v(L),J=s(L,"DIV",{class:!0});var Y=r(J);Ne=s(Y,"DIV",{class:!0});var is=r(Ne);Cs=C(is,Bt),is.forEach(a),Ys=v(Y),He=s(Y,"DIV",{class:!0,"data-svelte-h":!0}),g(He)!=="svelte-ww1qls"&&(He.textContent=Al),Zs=v(Y),xt=s(Y,"DIV",{class:!0});var os=r(xt);ys=C(os,Tt),os.forEach(a),Y.forEach(a),L.forEach(a),f.forEach(a),Ds=v(o),B=s(o,"DIV",{class:!0});var K=r(B);$=s(K,"DIV",{class:!0});var We=r($);ee=s(We,"DIV",{class:!0});var Xe=r(ee);Le=s(Xe,"DIV",{class:!0,"data-svelte-h":!0}),g(Le)!=="svelte-4a7sd8"&&(Le.innerHTML=Nl),$s=v(Xe),te=s(Xe,"DIV",{class:!0});var Ye=r(te);Be=s(Ye,"P",{class:!0,"data-svelte-h":!0}),g(Be)!=="svelte-r8y7r8"&&(Be.textContent=Hl),el=v(Ye),gt=s(Ye,"P",{class:!0});var ds=r(gt);Es=C(ds,zt),ds.forEach(a),Ye.forEach(a),Xe.forEach(a),tl=v(We),se=s(We,"DIV",{class:!0});var Ze=r(se);le=s(Ze,"DIV",{class:!0});var $e=r(le);bt=s($e,"SPAN",{"data-svelte-h":!0}),g(bt)!=="svelte-1y394md"&&(bt.textContent=Ll),sl=v($e),qt=s($e,"SPAN",{});var vs=r(qt);Vs=C(vs,Ft),vs.forEach(a),$e.forEach(a),ll=v(Ze),ae=s(Ze,"DIV",{class:!0});var et=r(ae);Ct=s(et,"SPAN",{"data-svelte-h":!0}),g(Ct)!=="svelte-1pg7fe4"&&(Ct.textContent=Bl),al=v(et),Gt=s(et,"SPAN",{});var cs=r(Gt);Is=C(cs,Kt),cs.forEach(a),et.forEach(a),Ze.forEach(a),We.forEach(a),rl=v(K),re=s(K,"DIV",{class:!0});var tt=r(re);ne=s(tt,"DIV",{class:!0});var st=r(ne);Te=s(st,"DIV",{class:!0,"data-svelte-h":!0}),g(Te)!=="svelte-1rrdfx5"&&(Te.innerHTML=Tl),nl=v(st),ie=s(st,"DIV",{class:!0});var lt=r(ie);ze=s(lt,"P",{class:!0,"data-svelte-h":!0}),g(ze)!=="svelte-izpupf"&&(ze.textContent=zl),il=v(lt),wt=s(lt,"P",{class:!0});var us=r(wt);ks=C(us,Ot),us.forEach(a),lt.forEach(a),st.forEach(a),ol=v(tt),oe=s(tt,"DIV",{class:!0});var at=r(oe);de=s(at,"DIV",{class:!0});var rt=r(de);yt=s(rt,"SPAN",{"data-svelte-h":!0}),g(yt)!=="svelte-1tuidn4"&&(yt.textContent=ql),dl=v(rt),Rt=s(rt,"SPAN",{});var fs=r(Rt);Ps=C(fs,Ut),fs.forEach(a),rt.forEach(a),vl=v(at),ve=s(at,"DIV",{class:!0});var nt=r(ve);Dt=s(nt,"SPAN",{"data-svelte-h":!0}),g(Dt)!=="svelte-1e6cx26"&&(Dt.textContent=Fl),cl=v(nt),Jt=s(nt,"SPAN",{});var hs=r(Jt);js=C(hs,Qt),hs.forEach(a),nt.forEach(a),at.forEach(a),tt.forEach(a),ul=v(K),ce=s(K,"DIV",{class:!0});var it=r(ce);ue=s(it,"DIV",{class:!0});var ot=r(ue);qe=s(ot,"DIV",{class:!0,"data-svelte-h":!0}),g(qe)!=="svelte-16dz90b"&&(qe.innerHTML=Gl),fl=v(ot),fe=s(ot,"DIV",{class:!0});var dt=r(fe);Fe=s(dt,"P",{class:!0,"data-svelte-h":!0}),g(Fe)!=="svelte-r7luze"&&(Fe.textContent=Kl),hl=v(dt),Et=s(dt,"P",{class:!0});var _s=r(Et);Ms=C(_s,Wt),_s.forEach(a),dt.forEach(a),ot.forEach(a),_l=v(it),he=s(it,"DIV",{class:!0});var vt=r(he);_e=s(vt,"DIV",{class:!0});var ct=r(_e);Vt=s(ct,"SPAN",{"data-svelte-h":!0}),g(Vt)!=="svelte-183nhu2"&&(Vt.textContent=Ol),pl=v(ct),Xt=s(ct,"SPAN",{});var ps=r(Xt);Ss=C(ps,Yt),ps.forEach(a),ct.forEach(a),ml=v(vt),pe=s(vt,"DIV",{class:!0});var ut=r(pe);It=s(ut,"SPAN",{"data-svelte-h":!0}),g(It)!=="svelte-nqtbkj"&&(It.textContent=Rl),xl=v(ut),kt=s(ut,"SPAN",{class:!0});var ms=r(kt);As=C(ms,Zt),ms.forEach(a),ut.forEach(a),vt.forEach(a),it.forEach(a),gl=v(K),me=s(K,"DIV",{class:!0});var ft=r(me);xe=s(ft,"DIV",{class:!0});var ht=r(xe);Ge=s(ht,"DIV",{class:!0,"data-svelte-h":!0}),g(Ge)!=="svelte-rvd8h0"&&(Ge.innerHTML=Ul),bl=v(ht),ge=s(ht,"DIV",{class:!0});var _t=r(ge);Ke=s(_t,"P",{class:!0,"data-svelte-h":!0}),g(Ke)!=="svelte-b0e9m9"&&(Ke.textContent=Jl),Cl=v(_t),Pt=s(_t,"P",{class:!0});var Sa=r(Pt);Ns=C(Sa,$t),Sa.forEach(a),_t.forEach(a),ht.forEach(a),wl=v(ft),be=s(ft,"DIV",{class:!0});var qs=r(be);Ce=s(qs,"DIV",{class:!0});var Fs=r(Ce);jt=s(Fs,"SPAN",{"data-svelte-h":!0}),g(jt)!=="svelte-1ob6dd"&&(jt.textContent=Ql),yl=v(Fs),es=s(Fs,"SPAN",{});var Aa=r(es);Hs=C(Aa,ts),Aa.forEach(a),Fs.forEach(a),Dl=v(qs),we=s(qs,"DIV",{class:!0});var Gs=r(we);Mt=s(Gs,"SPAN",{"data-svelte-h":!0}),g(Mt)!=="svelte-1lv6kpr"&&(Mt.textContent=Wl),El=v(Gs),ss=s(Gs,"SPAN",{});var Na=r(ss);Ls=C(Na,ls),Na.forEach(a),Gs.forEach(a),qs.forEach(a),ft.forEach(a),K.forEach(a),Bs=v(o),A&&A.l(o),St=v(o),X=s(o,"DIV",{class:!0});var Ks=r(X);Oe=s(Ks,"H2",{class:!0,"data-svelte-h":!0}),g(Oe)!=="svelte-65urhu"&&(Oe.textContent=Xl),Vl=v(Ks),ye=s(Ks,"DIV",{class:!0});var Os=r(ye);Re=s(Os,"DIV",{});var Rs=r(Re);Ue=s(Rs,"H3",{class:!0,"data-svelte-h":!0}),g(Ue)!=="svelte-qbbff"&&(Ue.textContent=Yl),Il=v(Rs),At=s(Rs,"P",{class:!0});var Ha=r(At);Ts=C(Ha,as),Ha.forEach(a),Rs.forEach(a),kl=v(Os),Je=s(Os,"DIV",{});var Us=r(Je);Qe=s(Us,"H3",{class:!0,"data-svelte-h":!0}),g(Qe)!=="svelte-buauk7"&&(Qe.textContent=Zl),Pl=v(Us),Nt=s(Us,"P",{class:!0});var La=r(Nt);zs=C(La,rs),La.forEach(a),Us.forEach(a),Os.forEach(a),Ks.forEach(a),this.h()},h(){var o,f,L,T,De,Ee,z,Ve,Ie,q;l(c,"class","text-xl font-semibold mb-4"),l(_,"class",m="text-2xl font-bold "+ke((o=i[1])==null?void 0:o.overall)+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2"),l(j,"class","text-sm text-gray-600"),l(I,"class","font-semibold capitalize"),l(x,"class","text-center"),l(G,"class",W="text-2xl font-bold "+ke((T=(L=(f=i[1])==null?void 0:f.services)==null?void 0:L.database)==null?void 0:T.status)+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2"),l(R,"class","text-sm text-gray-600"),l(mt,"class","font-semibold"),l(N,"class","text-center"),l(Me,"class",bs="text-2xl font-bold "+ke((z=(Ee=(De=i[1])==null?void 0:De.services)==null?void 0:Ee.minio)!=null&&z.healthy?"healthy":"unhealthy")+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2"),l(Se,"class","text-sm text-gray-600"),l(Ae,"class","font-semibold"),l(U,"class","text-center"),l(Ne,"class",ws="text-2xl font-bold "+ke((q=(Ie=(Ve=i[1])==null?void 0:Ve.services)==null?void 0:Ie.disk)==null?void 0:q.status)+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2"),l(He,"class","text-sm text-gray-600"),l(xt,"class","font-semibold"),l(J,"class","text-center"),l(u,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),l(n,"class","bg-white rounded-lg shadow p-6"),l(Le,"class","p-3 rounded-full bg-blue-100 text-blue-600"),l(Be,"class","text-sm font-medium text-gray-600"),l(gt,"class","text-2xl font-semibold text-gray-900"),l(te,"class","ml-4"),l(ee,"class","flex items-center"),l(le,"class","flex justify-between text-sm text-gray-600"),l(ae,"class","flex justify-between text-sm text-gray-600"),l(se,"class","mt-4"),l($,"class","bg-white rounded-lg shadow p-6"),l(Te,"class","p-3 rounded-full bg-green-100 text-green-600"),l(ze,"class","text-sm font-medium text-gray-600"),l(wt,"class","text-2xl font-semibold text-gray-900"),l(ie,"class","ml-4"),l(ne,"class","flex items-center"),l(de,"class","flex justify-between text-sm text-gray-600"),l(ve,"class","flex justify-between text-sm text-gray-600"),l(oe,"class","mt-4"),l(re,"class","bg-white rounded-lg shadow p-6"),l(qe,"class","p-3 rounded-full bg-yellow-100 text-yellow-600"),l(Fe,"class","text-sm font-medium text-gray-600"),l(Et,"class","text-2xl font-semibold text-gray-900"),l(fe,"class","ml-4"),l(ue,"class","flex items-center"),l(_e,"class","flex justify-between text-sm text-gray-600"),l(kt,"class","capitalize"),l(pe,"class","flex justify-between text-sm text-gray-600"),l(he,"class","mt-4"),l(ce,"class","bg-white rounded-lg shadow p-6"),l(Ge,"class","p-3 rounded-full bg-purple-100 text-purple-600"),l(Ke,"class","text-sm font-medium text-gray-600"),l(Pt,"class","text-2xl font-semibold text-gray-900"),l(ge,"class","ml-4"),l(xe,"class","flex items-center"),l(Ce,"class","flex justify-between text-sm text-gray-600"),l(we,"class","flex justify-between text-sm text-gray-600"),l(be,"class","mt-4"),l(me,"class","bg-white rounded-lg shadow p-6"),l(B,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"),l(Oe,"class","text-xl font-semibold mb-4"),l(Ue,"class","font-medium text-gray-900 mb-2"),l(At,"class","text-sm text-gray-600"),l(Qe,"class","font-medium text-gray-900 mb-2"),l(Nt,"class","text-sm text-gray-600"),l(ye,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),l(X,"class","bg-white rounded-lg shadow p-6")},m(o,f){O(o,n,f),e(n,c),e(n,w),e(n,u),e(u,x),e(x,_),e(_,D),e(x,P),e(x,j),e(x,V),e(x,I),e(I,F),e(u,Q),e(u,N),e(N,G),e(G,M),e(N,Z),e(N,R),e(N,pt),e(N,mt),e(mt,xs),e(u,Js),e(u,U),e(U,Me),e(Me,gs),e(U,Qs),e(U,Se),e(U,Ws),e(U,Ae),e(u,Xs),e(u,J),e(J,Ne),e(Ne,Cs),e(J,Ys),e(J,He),e(J,Zs),e(J,xt),e(xt,ys),O(o,Ds,f),O(o,B,f),e(B,$),e($,ee),e(ee,Le),e(ee,$s),e(ee,te),e(te,Be),e(te,el),e(te,gt),e(gt,Es),e($,tl),e($,se),e(se,le),e(le,bt),e(le,sl),e(le,qt),e(qt,Vs),e(se,ll),e(se,ae),e(ae,Ct),e(ae,al),e(ae,Gt),e(Gt,Is),e(B,rl),e(B,re),e(re,ne),e(ne,Te),e(ne,nl),e(ne,ie),e(ie,ze),e(ie,il),e(ie,wt),e(wt,ks),e(re,ol),e(re,oe),e(oe,de),e(de,yt),e(de,dl),e(de,Rt),e(Rt,Ps),e(oe,vl),e(oe,ve),e(ve,Dt),e(ve,cl),e(ve,Jt),e(Jt,js),e(B,ul),e(B,ce),e(ce,ue),e(ue,qe),e(ue,fl),e(ue,fe),e(fe,Fe),e(fe,hl),e(fe,Et),e(Et,Ms),e(ce,_l),e(ce,he),e(he,_e),e(_e,Vt),e(_e,pl),e(_e,Xt),e(Xt,Ss),e(he,ml),e(he,pe),e(pe,It),e(pe,xl),e(pe,kt),e(kt,As),e(B,gl),e(B,me),e(me,xe),e(xe,Ge),e(xe,bl),e(xe,ge),e(ge,Ke),e(ge,Cl),e(ge,Pt),e(Pt,Ns),e(me,wl),e(me,be),e(be,Ce),e(Ce,jt),e(Ce,yl),e(Ce,es),e(es,Hs),e(be,Dl),e(be,we),e(we,Mt),e(we,El),e(we,ss),e(ss,Ls),O(o,Bs,f),A&&A.m(o,f),O(o,St,f),O(o,X,f),e(X,Oe),e(X,Vl),e(X,ye),e(ye,Re),e(Re,Ue),e(Re,Il),e(Re,At),e(At,Ts),e(ye,kl),e(ye,Je),e(Je,Qe),e(Je,Pl),e(Je,Nt),e(Nt,zs)},p(o,f){var L,T,De,Ee,z,Ve,Ie,q,ns,Y,is,os,K,We,Xe,Ye,ds,Ze,$e,vs,et,cs,tt,st,lt,us,at,rt,fs,nt,hs,it,ot,dt,_s,vt,ct,ps,ut,ms,ft,ht,_t;f&2&&p!==(p=Pe((L=o[1])==null?void 0:L.overall)+"")&&y(D,p),f&2&&m!==(m="text-2xl font-bold "+ke((T=o[1])==null?void 0:T.overall)+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2")&&l(_,"class",m),f&2&&H!==(H=(((De=o[1])==null?void 0:De.overall)||"unknown")+"")&&y(F,H),f&2&&S!==(S=Pe((Ve=(z=(Ee=o[1])==null?void 0:Ee.services)==null?void 0:z.database)==null?void 0:Ve.status)+"")&&y(M,S),f&2&&W!==(W="text-2xl font-bold "+ke((ns=(q=(Ie=o[1])==null?void 0:Ie.services)==null?void 0:q.database)==null?void 0:ns.status)+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2")&&l(G,"class",W),f&2&&Ht!==(Ht=(os=(is=(Y=o[1])==null?void 0:Y.services)==null?void 0:is.database)!=null&&os.response_time_ms?`${o[1].services.database.response_time_ms}ms`:"N/A")&&y(xs,Ht),f&2&&Lt!==(Lt=Pe((Xe=(We=(K=o[1])==null?void 0:K.services)==null?void 0:We.minio)!=null&&Xe.healthy?"healthy":"unhealthy")+"")&&y(gs,Lt),f&2&&bs!==(bs="text-2xl font-bold "+ke((Ze=(ds=(Ye=o[1])==null?void 0:Ye.services)==null?void 0:ds.minio)!=null&&Ze.healthy?"healthy":"unhealthy")+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2")&&l(Me,"class",bs),f&2&&Bt!==(Bt=Pe((et=(vs=($e=o[1])==null?void 0:$e.services)==null?void 0:vs.disk)==null?void 0:et.status)+"")&&y(Cs,Bt),f&2&&ws!==(ws="text-2xl font-bold "+ke((st=(tt=(cs=o[1])==null?void 0:cs.services)==null?void 0:tt.disk)==null?void 0:st.status)+" rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2")&&l(Ne,"class",ws),f&2&&Tt!==(Tt=(at=(us=(lt=o[1])==null?void 0:lt.services)==null?void 0:us.disk)!=null&&at.free_percentage?`${o[1].services.disk.free_percentage}%`:"N/A")&&y(ys,Tt),f&1&&zt!==(zt=k(((rt=o[0].users)==null?void 0:rt.total)||0)+"")&&y(Es,zt),f&1&&Ft!==(Ft=k(((fs=o[0].users)==null?void 0:fs.active)||0)+"")&&y(Vs,Ft),f&1&&Kt!==(Kt=k(((nt=o[0].users)==null?void 0:nt.verified)||0)+"")&&y(Is,Kt),f&1&&Ot!==(Ot=k(((hs=o[0].repositories)==null?void 0:hs.total)||0)+"")&&y(ks,Ot),f&1&&Ut!==(Ut=k(((it=o[0].repositories)==null?void 0:it.public)||0)+"")&&y(Ps,Ut),f&1&&Qt!==(Qt=k(((ot=o[0].repositories)==null?void 0:ot.private)||0)+"")&&y(js,Qt),f&1&&Wt!==(Wt=Ga(((dt=o[0].storage)==null?void 0:dt.total_size_bytes)||0)+"")&&y(Ms,Wt),f&1&&Yt!==(Yt=k(((_s=o[0].storage)==null?void 0:_s.active_files)||0)+"")&&y(Ss,Yt),f&1&&Zt!==(Zt=(((vt=o[0].storage)==null?void 0:vt.bucket_status)||"unknown")+"")&&y(As,Zt),f&1&&$t!==($t=k((((ct=o[0].activity_7d)==null?void 0:ct.uploads)||0)+(((ps=o[0].activity_7d)==null?void 0:ps.downloads)||0)+(((ut=o[0].activity_7d)==null?void 0:ut.views)||0))+"")&&y(Ns,$t),f&1&&ts!==(ts=k(((ms=o[0].activity_7d)==null?void 0:ms.uploads)||0)+"")&&y(Hs,ts),f&1&&ls!==(ls=k(((ft=o[0].activity_7d)==null?void 0:ft.downloads)||0)+"")&&y(Ls,ls),o[0].recent_activities?A?A.p(o,f):(A=qa(o),A.c(),A.m(St.parentNode,St)):A&&(A.d(1),A=null),f&2&&as!==(as=(((ht=o[1])==null?void 0:ht.uptime)||"N/A")+"")&&y(Ts,as),f&2&&rs!==(rs=new Date(((_t=o[1])==null?void 0:_t.timestamp)||Date.now()).toLocaleString()+"")&&y(zs,rs)},d(o){o&&(a(n),a(Ds),a(B),a(Bs),a(St),a(X)),A&&A.d(o)}}}function Xa(i){let n,c,h;return{c(){n=t("div"),c=b("错误: "),h=b(i[3]),this.h()},l(w){n=s(w,"DIV",{class:!0});var u=r(n);c=C(u,"错误: "),h=C(u,i[3]),u.forEach(a),this.h()},h(){l(n,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded")},m(w,u){O(w,n,u),e(n,c),e(n,h)},p(w,u){u&8&&y(h,w[3])},d(w){w&&a(n)}}}function Ya(i){let n,c='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>';return{c(){n=t("div"),n.innerHTML=c,this.h()},l(h){n=s(h,"DIV",{class:!0,"data-svelte-h":!0}),g(n)!=="svelte-2x2oyq"&&(n.innerHTML=c),this.h()},h(){l(n,"class","flex justify-center items-center h-64")},m(h,w){O(h,n,w)},p:jl,d(h){h&&a(n)}}}function qa(i){let n,c,h="最近活动",w,u,x=Ba(i[0].recent_activities),_=[];for(let p=0;p<x.length;p+=1)_[p]=Fa(za(i,x,p));return{c(){n=t("div"),c=t("h2"),c.textContent=h,w=d(),u=t("div");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){n=s(p,"DIV",{class:!0});var D=r(n);c=s(D,"H2",{class:!0,"data-svelte-h":!0}),g(c)!=="svelte-1oudaj4"&&(c.textContent=h),w=v(D),u=s(D,"DIV",{class:!0});var m=r(u);for(let P=0;P<_.length;P+=1)_[P].l(m);m.forEach(a),D.forEach(a),this.h()},h(){l(c,"class","text-xl font-semibold mb-4"),l(u,"class","space-y-4"),l(n,"class","bg-white rounded-lg shadow p-6")},m(p,D){O(p,n,D),e(n,c),e(n,w),e(n,u);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(u,null)},p(p,D){if(D&1){x=Ba(p[0].recent_activities);let m;for(m=0;m<x.length;m+=1){const P=za(p,x,m);_[m]?_[m].p(P,D):(_[m]=Fa(P),_[m].c(),_[m].m(u,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=x.length}},d(p){p&&a(n),Ua(_,p)}}}function Fa(i){let n,c,h,w,u,x,_=i[5].action+"",p,D,m,P=i[5].user+"",j,E,V=i[5].repository+"",I,H,F,Q=new Date(i[5].timestamp).toLocaleString()+"",N,G;return{c(){n=t("div"),c=t("div"),h=t("div"),w=d(),u=t("div"),x=t("p"),p=b(_),D=d(),m=t("p"),j=b(P),E=b(" • "),I=b(V),H=d(),F=t("div"),N=b(Q),G=d(),this.h()},l(S){n=s(S,"DIV",{class:!0});var M=r(n);c=s(M,"DIV",{class:!0});var W=r(c);h=s(W,"DIV",{class:!0}),r(h).forEach(a),w=v(W),u=s(W,"DIV",{});var Z=r(u);x=s(Z,"P",{class:!0});var R=r(x);p=C(R,_),R.forEach(a),D=v(Z),m=s(Z,"P",{class:!0});var je=r(m);j=C(je,P),E=C(je," • "),I=C(je,V),je.forEach(a),Z.forEach(a),W.forEach(a),H=v(M),F=s(M,"DIV",{class:!0});var pt=r(F);N=C(pt,Q),pt.forEach(a),G=v(M),M.forEach(a),this.h()},h(){l(h,"class","w-2 h-2 bg-blue-500 rounded-full mr-3"),l(x,"class","text-sm font-medium text-gray-900"),l(m,"class","text-sm text-gray-500"),l(c,"class","flex items-center"),l(F,"class","text-sm text-gray-500"),l(n,"class","flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0")},m(S,M){O(S,n,M),e(n,c),e(c,h),e(c,w),e(c,u),e(u,x),e(x,p),e(u,D),e(u,m),e(m,j),e(m,E),e(m,I),e(n,H),e(n,F),e(F,N),e(n,G)},p(S,M){M&1&&_!==(_=S[5].action+"")&&y(p,_),M&1&&P!==(P=S[5].user+"")&&y(j,P),M&1&&V!==(V=S[5].repository+"")&&y(I,V),M&1&&Q!==(Q=new Date(S[5].timestamp).toLocaleString()+"")&&y(N,Q)},d(S){S&&a(n)}}}function Za(i){let n,c,h,w="管理员仪表板",u,x,_="刷新数据",p,D,m;function P(V,I){if(V[2])return Ya;if(V[3])return Xa;if(V[0])return Wa}let j=P(i),E=j&&j(i);return{c(){n=t("div"),c=t("div"),h=t("h1"),h.textContent=w,u=d(),x=t("button"),x.textContent=_,p=d(),E&&E.c(),this.h()},l(V){n=s(V,"DIV",{class:!0});var I=r(n);c=s(I,"DIV",{class:!0});var H=r(c);h=s(H,"H1",{class:!0,"data-svelte-h":!0}),g(h)!=="svelte-1mavym4"&&(h.textContent=w),u=v(H),x=s(H,"BUTTON",{class:!0,"data-svelte-h":!0}),g(x)!=="svelte-wbogh0"&&(x.textContent=_),H.forEach(a),p=v(I),E&&E.l(I),I.forEach(a),this.h()},h(){l(h,"class","text-3xl font-bold text-gray-900"),l(x,"class","bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"),l(c,"class","flex justify-between items-center"),l(n,"class","space-y-6")},m(V,I){O(V,n,I),e(n,c),e(c,h),e(c,u),e(c,x),e(n,p),E&&E.m(n,null),D||(m=Oa(x,"click",i[4]),D=!0)},p(V,[I]){j===(j=P(V))&&E?E.p(V,I):(E&&E.d(1),E=j&&j(V),E&&(E.c(),E.m(n,null)))},i:jl,o:jl,d(V){V&&a(n),E&&E.d(),D=!1,m()}}}function k(i){return i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toString()}function Ga(i){if(i===0)return"0 Bytes";const n=1024,c=["Bytes","KB","MB","GB","TB"],h=Math.floor(Math.log(i)/Math.log(n));return parseFloat((i/Math.pow(n,h)).toFixed(2))+" "+c[h]}function ke(i){switch(i){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";case"degraded":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}}function Pe(i){switch(i){case"healthy":return"✓";case"warning":return"⚠";case"critical":return"✗";case"degraded":return"⚠";default:return"?"}}function $a(i,n,c){let h=null,w=null,u=!0,x=null;Ra(async()=>{await _()});async function _(){try{c(2,u=!0);const[p,D]=await Promise.all([Ta.getAdminDashboard(),Ta.getAdminSystemHealth()]);c(0,h=p),c(1,w=D)}catch(p){c(3,x=p.message)}finally{c(2,u=!1)}}return[h,w,u,x,_]}class ar extends Ja{constructor(n){super(),Qa(this,n,$a,Za,Ka,{})}}export{ar as component};
