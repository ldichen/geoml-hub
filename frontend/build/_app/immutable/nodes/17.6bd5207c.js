import{s as El,f as t,a as d,l as E,g as s,h as i,F as x,c as v,m as w,d as o,j as a,i as le,A as e,B as rs,n as N,G as Cs,C as Il,o as wl,U as Dl,T as cl,K as ht,Q as _l,R as Ss,k as js,E as Vl}from"../chunks/scheduler.cc6cbc02.js";import{e as hl}from"../chunks/each.61c71743.js";import{S as Nl,i as Pl}from"../chunks/index.cf161fb4.js";import{a as Rs}from"../chunks/api.ecdb55f2.js";function ml(n,l,r){const u=n.slice();return u[16]=l[r],u}function kl(n){var Le,Je,Xe,is,es;let l,r,u="系统健康状态",c,f,m,_,b=Nt(n[0].status)+"",j,O,A,y,L="系统总体状态",H,T,z=n[0].status+"",B,k,p,D,C=Nt((Le=n[0].database)==null?void 0:Le.status)+"",V,F,Y,Z,ie="数据库",ue,be,lt=(Je=n[0].database)!=null&&Je.response_time?`${n[0].database.response_time}ms`:"N/A",Ve,at,ae,Ne,de=Nt((Xe=n[0].storage)==null?void 0:Xe.status)+"",ye,Pt,kt,ve,mt="存储服务",pt,Pe,ke="MinIO",Ae,he,Se,Ce=Nt((is=n[0].filesystem)==null?void 0:is.status)+"",Be,nt,At,$,qe="文件系统",Qt,ze,q=(es=n[0].filesystem)!=null&&es.disk_usage?`${n[0].filesystem.disk_usage}%`:"N/A",me,je,pe,St,Ie=new Date(n[0].timestamp).toLocaleString()+"",Ue,gt,xt,ne,G,Oe,Te,ot="系统日志",rt,ge,U,K,Fe="调试",Ee,Jt="信息",ee,bt="警告",fe,Xt="错误",W,Ge="严重",Yt,Q,te,yt="50条",ce,Zt="100条",J,Ke="200条",we,$t="500条",We,it,jt,M=n[0].uptime&&pl(n),S=n[1]&&gl(n);function Qe(h,g){return h[5]?Tl:h[2].length>0?Ol:jl}let Ot=Qe(n),oe=Ot(n);return{c(){l=t("div"),r=t("h2"),r.textContent=u,c=d(),f=t("div"),m=t("div"),_=t("div"),j=E(b),A=d(),y=t("div"),y.textContent=L,H=d(),T=t("div"),B=E(z),k=d(),p=t("div"),D=t("div"),V=E(C),Y=d(),Z=t("div"),Z.textContent=ie,ue=d(),be=t("div"),Ve=E(lt),at=d(),ae=t("div"),Ne=t("div"),ye=E(de),kt=d(),ve=t("div"),ve.textContent=mt,pt=d(),Pe=t("div"),Pe.textContent=ke,Ae=d(),he=t("div"),Se=t("div"),Be=E(Ce),At=d(),$=t("div"),$.textContent=qe,Qt=d(),ze=t("div"),me=E(q),je=d(),pe=t("div"),St=E("上次检查: "),Ue=E(Ie),gt=d(),M&&M.c(),xt=d(),S&&S.c(),ne=d(),G=t("div"),Oe=t("div"),Te=t("h3"),Te.textContent=ot,rt=d(),ge=t("div"),U=t("select"),K=t("option"),K.textContent=Fe,Ee=t("option"),Ee.textContent=Jt,ee=t("option"),ee.textContent=bt,fe=t("option"),fe.textContent=Xt,W=t("option"),W.textContent=Ge,Yt=d(),Q=t("select"),te=t("option"),te.textContent=yt,ce=t("option"),ce.textContent=Zt,J=t("option"),J.textContent=Ke,we=t("option"),we.textContent=$t,We=d(),oe.c(),this.h()},l(h){l=s(h,"DIV",{class:!0});var g=i(l);r=s(g,"H2",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1d06635"&&(r.textContent=u),c=v(g),f=s(g,"DIV",{class:!0});var R=i(f);m=s(R,"DIV",{class:!0});var De=i(m);_=s(De,"DIV",{class:!0});var ut=i(_);j=w(ut,b),ut.forEach(o),A=v(De),y=s(De,"DIV",{class:!0,"data-svelte-h":!0}),x(y)!=="svelte-2xxxbi"&&(y.textContent=L),H=v(De),T=s(De,"DIV",{class:!0});var He=i(T);B=w(He,z),He.forEach(o),De.forEach(o),k=v(R),p=s(R,"DIV",{class:!0});var re=i(p);D=s(re,"DIV",{class:!0});var Ye=i(D);V=w(Ye,C),Ye.forEach(o),Y=v(re),Z=s(re,"DIV",{class:!0,"data-svelte-h":!0}),x(Z)!=="svelte-1oxb9g0"&&(Z.textContent=ie),ue=v(re),be=s(re,"DIV",{class:!0});var dt=i(be);Ve=w(dt,lt),dt.forEach(o),re.forEach(o),at=v(R),ae=s(R,"DIV",{class:!0});var X=i(ae);Ne=s(X,"DIV",{class:!0});var vt=i(Ne);ye=w(vt,de),vt.forEach(o),kt=v(X),ve=s(X,"DIV",{class:!0,"data-svelte-h":!0}),x(ve)!=="svelte-1vzi9f3"&&(ve.textContent=mt),pt=v(X),Pe=s(X,"DIV",{class:!0,"data-svelte-h":!0}),x(Pe)!=="svelte-115txm0"&&(Pe.textContent=ke),X.forEach(o),Ae=v(R),he=s(R,"DIV",{class:!0});var ft=i(he);Se=s(ft,"DIV",{class:!0});var ts=i(Se);Be=w(ts,Ce),ts.forEach(o),At=v(ft),$=s(ft,"DIV",{class:!0,"data-svelte-h":!0}),x($)!=="svelte-ww1qls"&&($.textContent=qe),Qt=v(ft),ze=s(ft,"DIV",{class:!0});var Ct=i(ze);me=w(Ct,q),Ct.forEach(o),ft.forEach(o),R.forEach(o),je=v(g),pe=s(g,"DIV",{class:!0});var Me=i(pe);St=w(Me,"上次检查: "),Ue=w(Me,Ie),gt=v(Me),M&&M.l(Me),Me.forEach(o),g.forEach(o),xt=v(h),S&&S.l(h),ne=v(h),G=s(h,"DIV",{class:!0});var ct=i(G);Oe=s(ct,"DIV",{class:!0});var It=i(Oe);Te=s(It,"H3",{class:!0,"data-svelte-h":!0}),x(Te)!=="svelte-1giqtp7"&&(Te.textContent=ot),rt=v(It),ge=s(It,"DIV",{class:!0});var Re=i(ge);U=s(Re,"SELECT",{class:!0});var _e=i(U);K=s(_e,"OPTION",{"data-svelte-h":!0}),x(K)!=="svelte-uamn47"&&(K.textContent=Fe),Ee=s(_e,"OPTION",{"data-svelte-h":!0}),x(Ee)!=="svelte-5r3fpu"&&(Ee.textContent=Jt),ee=s(_e,"OPTION",{"data-svelte-h":!0}),x(ee)!=="svelte-4lnc0g"&&(ee.textContent=bt),fe=s(_e,"OPTION",{"data-svelte-h":!0}),x(fe)!=="svelte-1rrgh6q"&&(fe.textContent=Xt),W=s(_e,"OPTION",{"data-svelte-h":!0}),x(W)!=="svelte-1ga764j"&&(W.textContent=Ge),_e.forEach(o),Yt=v(Re),Q=s(Re,"SELECT",{class:!0});var _t=i(Q);te=s(_t,"OPTION",{"data-svelte-h":!0}),x(te)!=="svelte-39o69z"&&(te.textContent=yt),ce=s(_t,"OPTION",{"data-svelte-h":!0}),x(ce)!=="svelte-1cdollp"&&(ce.textContent=Zt),J=s(_t,"OPTION",{"data-svelte-h":!0}),x(J)!=="svelte-igaf7r"&&(J.textContent=Ke),we=s(_t,"OPTION",{"data-svelte-h":!0}),x(we)!=="svelte-1ipqrj1"&&(we.textContent=$t),_t.forEach(o),Re.forEach(o),It.forEach(o),We=v(ct),oe.l(ct),ct.forEach(o),this.h()},h(){var h,g,R;a(r,"class","text-xl font-semibold mb-4"),a(_,"class",O="text-3xl font-bold "+Vt(n[0].status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2"),a(y,"class","text-sm text-gray-600"),a(T,"class","font-semibold capitalize"),a(m,"class","text-center"),a(D,"class",F="text-3xl font-bold "+Vt((h=n[0].database)==null?void 0:h.status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2"),a(Z,"class","text-sm text-gray-600"),a(be,"class","font-semibold"),a(p,"class","text-center"),a(Ne,"class",Pt="text-3xl font-bold "+Vt((g=n[0].storage)==null?void 0:g.status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2"),a(ve,"class","text-sm text-gray-600"),a(Pe,"class","font-semibold"),a(ae,"class","text-center"),a(Se,"class",nt="text-3xl font-bold "+Vt((R=n[0].filesystem)==null?void 0:R.status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2"),a($,"class","text-sm text-gray-600"),a(ze,"class","font-semibold"),a(he,"class","text-center"),a(f,"class","grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"),a(pe,"class","text-sm text-gray-600 text-center"),a(l,"class","bg-white rounded-lg shadow p-6"),a(Te,"class","text-lg font-semibold"),K.__value="DEBUG",ht(K,K.__value),Ee.__value="INFO",ht(Ee,Ee.__value),ee.__value="WARNING",ht(ee,ee.__value),fe.__value="ERROR",ht(fe,fe.__value),W.__value="CRITICAL",ht(W,W.__value),a(U,"class","border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"),n[6]===void 0&&_l(()=>n[13].call(U)),te.__value="50",ht(te,te.__value),ce.__value="100",ht(ce,ce.__value),J.__value="200",ht(J,J.__value),we.__value="500",ht(we,we.__value),a(Q,"class","border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"),n[7]===void 0&&_l(()=>n[14].call(Q)),a(ge,"class","flex space-x-2"),a(Oe,"class","flex justify-between items-center mb-4"),a(G,"class","bg-white rounded-lg shadow p-6")},m(h,g){le(h,l,g),e(l,r),e(l,c),e(l,f),e(f,m),e(m,_),e(_,j),e(m,A),e(m,y),e(m,H),e(m,T),e(T,B),e(f,k),e(f,p),e(p,D),e(D,V),e(p,Y),e(p,Z),e(p,ue),e(p,be),e(be,Ve),e(f,at),e(f,ae),e(ae,Ne),e(Ne,ye),e(ae,kt),e(ae,ve),e(ae,pt),e(ae,Pe),e(f,Ae),e(f,he),e(he,Se),e(Se,Be),e(he,At),e(he,$),e(he,Qt),e(he,ze),e(ze,me),e(l,je),e(l,pe),e(pe,St),e(pe,Ue),e(pe,gt),M&&M.m(pe,null),le(h,xt,g),S&&S.m(h,g),le(h,ne,g),le(h,G,g),e(G,Oe),e(Oe,Te),e(Oe,rt),e(Oe,ge),e(ge,U),e(U,K),e(U,Ee),e(U,ee),e(U,fe),e(U,W),Ss(U,n[6],!0),e(ge,Yt),e(ge,Q),e(Q,te),e(Q,ce),e(Q,J),e(Q,we),Ss(Q,n[7],!0),e(G,We),oe.m(G,null),it||(jt=[rs(U,"change",n[13]),rs(U,"change",n[10]),rs(Q,"change",n[14]),rs(Q,"change",n[10])],it=!0)},p(h,g){var R,De,ut,He,re,Ye,dt,X;g&1&&b!==(b=Nt(h[0].status)+"")&&N(j,b),g&1&&O!==(O="text-3xl font-bold "+Vt(h[0].status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2")&&a(_,"class",O),g&1&&z!==(z=h[0].status+"")&&N(B,z),g&1&&C!==(C=Nt((R=h[0].database)==null?void 0:R.status)+"")&&N(V,C),g&1&&F!==(F="text-3xl font-bold "+Vt((De=h[0].database)==null?void 0:De.status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2")&&a(D,"class",F),g&1&&lt!==(lt=(ut=h[0].database)!=null&&ut.response_time?`${h[0].database.response_time}ms`:"N/A")&&N(Ve,lt),g&1&&de!==(de=Nt((He=h[0].storage)==null?void 0:He.status)+"")&&N(ye,de),g&1&&Pt!==(Pt="text-3xl font-bold "+Vt((re=h[0].storage)==null?void 0:re.status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2")&&a(Ne,"class",Pt),g&1&&Ce!==(Ce=Nt((Ye=h[0].filesystem)==null?void 0:Ye.status)+"")&&N(Be,Ce),g&1&&nt!==(nt="text-3xl font-bold "+Vt((dt=h[0].filesystem)==null?void 0:dt.status)+" rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2")&&a(Se,"class",nt),g&1&&q!==(q=(X=h[0].filesystem)!=null&&X.disk_usage?`${h[0].filesystem.disk_usage}%`:"N/A")&&N(me,q),g&1&&Ie!==(Ie=new Date(h[0].timestamp).toLocaleString()+"")&&N(Ue,Ie),h[0].uptime?M?M.p(h,g):(M=pl(h),M.c(),M.m(pe,null)):M&&(M.d(1),M=null),h[1]?S?S.p(h,g):(S=gl(h),S.c(),S.m(ne.parentNode,ne)):S&&(S.d(1),S=null),g&64&&Ss(U,h[6]),g&128&&Ss(Q,h[7]),Ot===(Ot=Qe(h))&&oe?oe.p(h,g):(oe.d(1),oe=Ot(h),oe&&(oe.c(),oe.m(G,null)))},d(h){h&&(o(l),o(xt),o(ne),o(G)),M&&M.d(),S&&S.d(h),oe.d(),it=!1,Il(jt)}}}function Al(n){let l,r,u;return{c(){l=t("div"),r=E("错误: "),u=E(n[4]),this.h()},l(c){l=s(c,"DIV",{class:!0});var f=i(l);r=w(f,"错误: "),u=w(f,n[4]),f.forEach(o),this.h()},h(){a(l,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded")},m(c,f){le(c,l,f),e(l,r),e(l,u)},p(c,f){f&16&&N(u,c[4])},d(c){c&&o(l)}}}function Sl(n){let l,r='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>';return{c(){l=t("div"),l.innerHTML=r,this.h()},l(u){l=s(u,"DIV",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-2x2oyq"&&(l.innerHTML=r),this.h()},h(){a(l,"class","flex justify-center items-center h-64")},m(u,c){le(u,l,c)},p:Cs,d(u){u&&o(l)}}}function pl(n){let l,r=bl(n[0].uptime)+"",u;return{c(){l=E("| 运行时间: "),u=E(r)},l(c){l=w(c,"| 运行时间: "),u=w(c,r)},m(c,f){le(c,l,f),le(c,u,f)},p(c,f){f&1&&r!==(r=bl(c[0].uptime)+"")&&N(u,r)},d(c){c&&(o(l),o(u))}}}function gl(n){var Us,Fs,Gs,Ks,Ws,Qs,Js,Xs,Ys,Zs,$s,el,tl,sl,ll,al,nl,ol;let l,r,u,c="系统信息",f,m,_,b,j="操作系统",O,A,y=((Us=n[1].system)==null?void 0:Us.platform)+"",L,H,T=((Fs=n[1].system)==null?void 0:Fs.platform_version)+"",z,B,k,p,D="架构",C,V,F=((Gs=n[1].system)==null?void 0:Gs.architecture)+"",Y,Z,ie,ue,be="主机名",lt,Ve,at=((Ks=n[1].system)==null?void 0:Ks.hostname)+"",ae,Ne,de,ye,Pt="CPU 核心",kt,ve,mt=((Ws=n[1].system)==null?void 0:Ws.cpu_cores)+"",pt,Pe,ke,Ae,he="Python 版本",Se,Ce,Be=((Js=(Qs=n[1].system)==null?void 0:Qs.python_version)==null?void 0:Js.split(" ")[0])+"",nt,At,$,qe,Qt="应用信息",ze,q,me,je,pe="应用名称",St,Ie,Ue=((Xs=n[1].application)==null?void 0:Xs.name)+"",gt,xt,ne,G,Oe="版本",Te,ot,rt=((Ys=n[1].application)==null?void 0:Ys.version)+"",ge,U,K,Fe,Ee="环境",Jt,ee,bt=((Zs=n[1].application)==null?void 0:Zs.environment)+"",fe,Xt,W,Ge,Yt="调试模式",Q,te,yt=($s=n[1].application)!=null&&$s.debug_mode?"开启":"关闭",ce,Zt,J,Ke,we="MinIO 端点",$t,We,it=((el=n[1].application)==null?void 0:el.minio_endpoint)+"",jt,M,S,Qe,Ot="资源使用情况",oe,Le,Je,Xe,is="内存使用",es,h,g,R,De="总内存",ut,He,re=Dt((tl=n[1].system)==null?void 0:tl.memory_total)+"",Ye,dt,X,vt,ft="可用内存",ts,Ct,Me=Dt((sl=n[1].system)==null?void 0:sl.memory_available)+"",ct,It,Re,_e,_t,Tt,Lt,Bs="磁盘使用",Os,Ze,Et,ss,qs="总空间",Ts,us,ds=Dt((al=(ll=n[1].system)==null?void 0:ll.disk_usage)==null?void 0:al.total)+"",Is,Ls,wt,ls,zs="可用空间",Hs,vs,fs=Dt((ol=(nl=n[1].system)==null?void 0:nl.disk_usage)==null?void 0:ol.free)+"",Es,Ms,as,Ht;return{c(){l=t("div"),r=t("div"),u=t("h3"),u.textContent=c,f=d(),m=t("div"),_=t("div"),b=t("span"),b.textContent=j,O=d(),A=t("span"),L=E(y),H=d(),z=E(T),B=d(),k=t("div"),p=t("span"),p.textContent=D,C=d(),V=t("span"),Y=E(F),Z=d(),ie=t("div"),ue=t("span"),ue.textContent=be,lt=d(),Ve=t("span"),ae=E(at),Ne=d(),de=t("div"),ye=t("span"),ye.textContent=Pt,kt=d(),ve=t("span"),pt=E(mt),Pe=d(),ke=t("div"),Ae=t("span"),Ae.textContent=he,Se=d(),Ce=t("span"),nt=E(Be),At=d(),$=t("div"),qe=t("h3"),qe.textContent=Qt,ze=d(),q=t("div"),me=t("div"),je=t("span"),je.textContent=pe,St=d(),Ie=t("span"),gt=E(Ue),xt=d(),ne=t("div"),G=t("span"),G.textContent=Oe,Te=d(),ot=t("span"),ge=E(rt),U=d(),K=t("div"),Fe=t("span"),Fe.textContent=Ee,Jt=d(),ee=t("span"),fe=E(bt),Xt=d(),W=t("div"),Ge=t("span"),Ge.textContent=Yt,Q=d(),te=t("span"),ce=E(yt),Zt=d(),J=t("div"),Ke=t("span"),Ke.textContent=we,$t=d(),We=t("span"),jt=E(it),M=d(),S=t("div"),Qe=t("h3"),Qe.textContent=Ot,oe=d(),Le=t("div"),Je=t("div"),Xe=t("h4"),Xe.textContent=is,es=d(),h=t("div"),g=t("div"),R=t("span"),R.textContent=De,ut=d(),He=t("span"),Ye=E(re),dt=d(),X=t("div"),vt=t("span"),vt.textContent=ft,ts=d(),Ct=t("span"),ct=E(Me),It=d(),Re=t("div"),_e=t("div"),_t=d(),Tt=t("div"),Lt=t("h4"),Lt.textContent=Bs,Os=d(),Ze=t("div"),Et=t("div"),ss=t("span"),ss.textContent=qs,Ts=d(),us=t("span"),Is=E(ds),Ls=d(),wt=t("div"),ls=t("span"),ls.textContent=zs,Hs=d(),vs=t("span"),Es=E(fs),Ms=d(),as=t("div"),Ht=t("div"),this.h()},l(I){l=s(I,"DIV",{class:!0});var P=i(l);r=s(P,"DIV",{class:!0});var $e=i(r);u=s($e,"H3",{class:!0,"data-svelte-h":!0}),x(u)!=="svelte-1379cwz"&&(u.textContent=c),f=v($e),m=s($e,"DIV",{class:!0});var se=i(m);_=s(se,"DIV",{class:!0});var et=i(_);b=s(et,"SPAN",{class:!0,"data-svelte-h":!0}),x(b)!=="svelte-1xdc4cw"&&(b.textContent=j),O=v(et),A=s(et,"SPAN",{class:!0});var tt=i(A);L=w(tt,y),H=v(tt),z=w(tt,T),tt.forEach(o),et.forEach(o),B=v(se),k=s(se,"DIV",{class:!0});var st=i(k);p=s(st,"SPAN",{class:!0,"data-svelte-h":!0}),x(p)!=="svelte-16hg6bx"&&(p.textContent=D),C=v(st),V=s(st,"SPAN",{class:!0});var cs=i(V);Y=w(cs,F),cs.forEach(o),st.forEach(o),Z=v(se),ie=s(se,"DIV",{class:!0});var Mt=i(ie);ue=s(Mt,"SPAN",{class:!0,"data-svelte-h":!0}),x(ue)!=="svelte-1mkviff"&&(ue.textContent=be),lt=v(Mt),Ve=s(Mt,"SPAN",{class:!0});var _s=i(Ve);ae=w(_s,at),_s.forEach(o),Mt.forEach(o),Ne=v(se),de=s(se,"DIV",{class:!0});var Rt=i(de);ye=s(Rt,"SPAN",{class:!0,"data-svelte-h":!0}),x(ye)!=="svelte-hpqh1k"&&(ye.textContent=Pt),kt=v(Rt),ve=s(Rt,"SPAN",{class:!0});var hs=i(ve);pt=w(hs,mt),hs.forEach(o),Rt.forEach(o),Pe=v(se),ke=s(se,"DIV",{class:!0});var Bt=i(ke);Ae=s(Bt,"SPAN",{class:!0,"data-svelte-h":!0}),x(Ae)!=="svelte-p3pn4h"&&(Ae.textContent=he),Se=v(Bt),Ce=s(Bt,"SPAN",{class:!0});var ms=i(Ce);nt=w(ms,Be),ms.forEach(o),Bt.forEach(o),se.forEach(o),$e.forEach(o),At=v(P),$=s(P,"DIV",{class:!0});var qt=i($);qe=s(qt,"H3",{class:!0,"data-svelte-h":!0}),x(qe)!=="svelte-zexch1"&&(qe.textContent=Qt),ze=v(qt),q=s(qt,"DIV",{class:!0});var xe=i(q);me=s(xe,"DIV",{class:!0});var zt=i(me);je=s(zt,"SPAN",{class:!0,"data-svelte-h":!0}),x(je)!=="svelte-szgkn6"&&(je.textContent=pe),St=v(zt),Ie=s(zt,"SPAN",{class:!0});var ps=i(Ie);gt=w(ps,Ue),ps.forEach(o),zt.forEach(o),xt=v(xe),ne=s(xe,"DIV",{class:!0});var Ut=i(ne);G=s(Ut,"SPAN",{class:!0,"data-svelte-h":!0}),x(G)!=="svelte-uir79f"&&(G.textContent=Oe),Te=v(Ut),ot=s(Ut,"SPAN",{class:!0});var gs=i(ot);ge=w(gs,rt),gs.forEach(o),Ut.forEach(o),U=v(xe),K=s(xe,"DIV",{class:!0});var Ft=i(K);Fe=s(Ft,"SPAN",{class:!0,"data-svelte-h":!0}),x(Fe)!=="svelte-ud9qe5"&&(Fe.textContent=Ee),Jt=v(Ft),ee=s(Ft,"SPAN",{class:!0});var xs=i(ee);fe=w(xs,bt),xs.forEach(o),Ft.forEach(o),Xt=v(xe),W=s(xe,"DIV",{class:!0});var Gt=i(W);Ge=s(Gt,"SPAN",{class:!0,"data-svelte-h":!0}),x(Ge)!=="svelte-1710fbr"&&(Ge.textContent=Yt),Q=v(Gt),te=s(Gt,"SPAN",{class:!0});var bs=i(te);ce=w(bs,yt),bs.forEach(o),Gt.forEach(o),Zt=v(xe),J=s(xe,"DIV",{class:!0});var Kt=i(J);Ke=s(Kt,"SPAN",{class:!0,"data-svelte-h":!0}),x(Ke)!=="svelte-1o45gxj"&&(Ke.textContent=we),$t=v(Kt),We=s(Kt,"SPAN",{class:!0});var ys=i(We);jt=w(ys,it),ys.forEach(o),Kt.forEach(o),xe.forEach(o),qt.forEach(o),P.forEach(o),M=v(I),S=s(I,"DIV",{class:!0});var Wt=i(S);Qe=s(Wt,"H3",{class:!0,"data-svelte-h":!0}),x(Qe)!=="svelte-qs54x2"&&(Qe.textContent=Ot),oe=v(Wt),Le=s(Wt,"DIV",{class:!0});var ws=i(Le);Je=s(ws,"DIV",{});var Ds=i(Je);Xe=s(Ds,"H4",{class:!0,"data-svelte-h":!0}),x(Xe)!=="svelte-tyvwj6"&&(Xe.textContent=is),es=v(Ds),h=s(Ds,"DIV",{class:!0});var ns=i(h);g=s(ns,"DIV",{class:!0});var Vs=i(g);R=s(Vs,"SPAN",{"data-svelte-h":!0}),x(R)!=="svelte-66a8bu"&&(R.textContent=De),ut=v(Vs),He=s(Vs,"SPAN",{});var rl=i(He);Ye=w(rl,re),rl.forEach(o),Vs.forEach(o),dt=v(ns),X=s(ns,"DIV",{class:!0});var Ns=i(X);vt=s(Ns,"SPAN",{"data-svelte-h":!0}),x(vt)!=="svelte-1k0hn40"&&(vt.textContent=ft),ts=v(Ns),Ct=s(Ns,"SPAN",{});var il=i(Ct);ct=w(il,Me),il.forEach(o),Ns.forEach(o),It=v(ns),Re=s(ns,"DIV",{class:!0});var ul=i(Re);_e=s(ul,"DIV",{class:!0,style:!0}),i(_e).forEach(o),ul.forEach(o),ns.forEach(o),Ds.forEach(o),_t=v(ws),Tt=s(ws,"DIV",{});var Ps=i(Tt);Lt=s(Ps,"H4",{class:!0,"data-svelte-h":!0}),x(Lt)!=="svelte-1re2ucu"&&(Lt.textContent=Bs),Os=v(Ps),Ze=s(Ps,"DIV",{class:!0});var os=i(Ze);Et=s(os,"DIV",{class:!0});var ks=i(Et);ss=s(ks,"SPAN",{"data-svelte-h":!0}),x(ss)!=="svelte-10abyaj"&&(ss.textContent=qs),Ts=v(ks),us=s(ks,"SPAN",{});var dl=i(us);Is=w(dl,ds),dl.forEach(o),ks.forEach(o),Ls=v(os),wt=s(os,"DIV",{class:!0});var As=i(wt);ls=s(As,"SPAN",{"data-svelte-h":!0}),x(ls)!=="svelte-pq88ez"&&(ls.textContent=zs),Hs=v(As),vs=s(As,"SPAN",{});var vl=i(vs);Es=w(vl,fs),vl.forEach(o),As.forEach(o),Ms=v(os),as=s(os,"DIV",{class:!0});var fl=i(as);Ht=s(fl,"DIV",{class:!0,style:!0}),i(Ht).forEach(o),fl.forEach(o),os.forEach(o),Ps.forEach(o),ws.forEach(o),Wt.forEach(o),this.h()},h(){var I,P,$e,se,et,tt,st;a(u,"class","text-lg font-semibold mb-4"),a(b,"class","text-gray-600"),a(A,"class","font-medium"),a(_,"class","flex justify-between"),a(p,"class","text-gray-600"),a(V,"class","font-medium"),a(k,"class","flex justify-between"),a(ue,"class","text-gray-600"),a(Ve,"class","font-medium"),a(ie,"class","flex justify-between"),a(ye,"class","text-gray-600"),a(ve,"class","font-medium"),a(de,"class","flex justify-between"),a(Ae,"class","text-gray-600"),a(Ce,"class","font-medium"),a(ke,"class","flex justify-between"),a(m,"class","space-y-3"),a(r,"class","bg-white rounded-lg shadow p-6"),a(qe,"class","text-lg font-semibold mb-4"),a(je,"class","text-gray-600"),a(Ie,"class","font-medium"),a(me,"class","flex justify-between"),a(G,"class","text-gray-600"),a(ot,"class","font-medium"),a(ne,"class","flex justify-between"),a(Fe,"class","text-gray-600"),a(ee,"class","font-medium"),a(K,"class","flex justify-between"),a(Ge,"class","text-gray-600"),a(te,"class","font-medium"),a(W,"class","flex justify-between"),a(Ke,"class","text-gray-600"),a(We,"class","font-medium"),a(J,"class","flex justify-between"),a(q,"class","space-y-3"),a($,"class","bg-white rounded-lg shadow p-6"),a(l,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),a(Qe,"class","text-lg font-semibold mb-4"),a(Xe,"class","font-medium text-gray-900 mb-3"),a(g,"class","flex justify-between text-sm"),a(X,"class","flex justify-between text-sm"),a(_e,"class","bg-blue-500 h-2 rounded-full"),js(_e,"width",(((I=n[1].system)==null?void 0:I.memory_total)-((P=n[1].system)==null?void 0:P.memory_available))/(($e=n[1].system)==null?void 0:$e.memory_total)*100+"%"),a(Re,"class","w-full bg-gray-200 rounded-full h-2"),a(h,"class","space-y-2"),a(Lt,"class","font-medium text-gray-900 mb-3"),a(Et,"class","flex justify-between text-sm"),a(wt,"class","flex justify-between text-sm"),a(Ht,"class","bg-green-500 h-2 rounded-full"),js(Ht,"width",((et=(se=n[1].system)==null?void 0:se.disk_usage)==null?void 0:et.used)/((st=(tt=n[1].system)==null?void 0:tt.disk_usage)==null?void 0:st.total)*100+"%"),a(as,"class","w-full bg-gray-200 rounded-full h-2"),a(Ze,"class","space-y-2"),a(Le,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),a(S,"class","bg-white rounded-lg shadow p-6")},m(I,P){le(I,l,P),e(l,r),e(r,u),e(r,f),e(r,m),e(m,_),e(_,b),e(_,O),e(_,A),e(A,L),e(A,H),e(A,z),e(m,B),e(m,k),e(k,p),e(k,C),e(k,V),e(V,Y),e(m,Z),e(m,ie),e(ie,ue),e(ie,lt),e(ie,Ve),e(Ve,ae),e(m,Ne),e(m,de),e(de,ye),e(de,kt),e(de,ve),e(ve,pt),e(m,Pe),e(m,ke),e(ke,Ae),e(ke,Se),e(ke,Ce),e(Ce,nt),e(l,At),e(l,$),e($,qe),e($,ze),e($,q),e(q,me),e(me,je),e(me,St),e(me,Ie),e(Ie,gt),e(q,xt),e(q,ne),e(ne,G),e(ne,Te),e(ne,ot),e(ot,ge),e(q,U),e(q,K),e(K,Fe),e(K,Jt),e(K,ee),e(ee,fe),e(q,Xt),e(q,W),e(W,Ge),e(W,Q),e(W,te),e(te,ce),e(q,Zt),e(q,J),e(J,Ke),e(J,$t),e(J,We),e(We,jt),le(I,M,P),le(I,S,P),e(S,Qe),e(S,oe),e(S,Le),e(Le,Je),e(Je,Xe),e(Je,es),e(Je,h),e(h,g),e(g,R),e(g,ut),e(g,He),e(He,Ye),e(h,dt),e(h,X),e(X,vt),e(X,ts),e(X,Ct),e(Ct,ct),e(h,It),e(h,Re),e(Re,_e),e(Le,_t),e(Le,Tt),e(Tt,Lt),e(Tt,Os),e(Tt,Ze),e(Ze,Et),e(Et,ss),e(Et,Ts),e(Et,us),e(us,Is),e(Ze,Ls),e(Ze,wt),e(wt,ls),e(wt,Hs),e(wt,vs),e(vs,Es),e(Ze,Ms),e(Ze,as),e(as,Ht)},p(I,P){var $e,se,et,tt,st,cs,Mt,_s,Rt,hs,Bt,ms,qt,xe,zt,ps,Ut,gs,Ft,xs,Gt,bs,Kt,ys,Wt;P&2&&y!==(y=(($e=I[1].system)==null?void 0:$e.platform)+"")&&N(L,y),P&2&&T!==(T=((se=I[1].system)==null?void 0:se.platform_version)+"")&&N(z,T),P&2&&F!==(F=((et=I[1].system)==null?void 0:et.architecture)+"")&&N(Y,F),P&2&&at!==(at=((tt=I[1].system)==null?void 0:tt.hostname)+"")&&N(ae,at),P&2&&mt!==(mt=((st=I[1].system)==null?void 0:st.cpu_cores)+"")&&N(pt,mt),P&2&&Be!==(Be=((Mt=(cs=I[1].system)==null?void 0:cs.python_version)==null?void 0:Mt.split(" ")[0])+"")&&N(nt,Be),P&2&&Ue!==(Ue=((_s=I[1].application)==null?void 0:_s.name)+"")&&N(gt,Ue),P&2&&rt!==(rt=((Rt=I[1].application)==null?void 0:Rt.version)+"")&&N(ge,rt),P&2&&bt!==(bt=((hs=I[1].application)==null?void 0:hs.environment)+"")&&N(fe,bt),P&2&&yt!==(yt=(Bt=I[1].application)!=null&&Bt.debug_mode?"开启":"关闭")&&N(ce,yt),P&2&&it!==(it=((ms=I[1].application)==null?void 0:ms.minio_endpoint)+"")&&N(jt,it),P&2&&re!==(re=Dt((qt=I[1].system)==null?void 0:qt.memory_total)+"")&&N(Ye,re),P&2&&Me!==(Me=Dt((xe=I[1].system)==null?void 0:xe.memory_available)+"")&&N(ct,Me),P&2&&js(_e,"width",(((zt=I[1].system)==null?void 0:zt.memory_total)-((ps=I[1].system)==null?void 0:ps.memory_available))/((Ut=I[1].system)==null?void 0:Ut.memory_total)*100+"%"),P&2&&ds!==(ds=Dt((Ft=(gs=I[1].system)==null?void 0:gs.disk_usage)==null?void 0:Ft.total)+"")&&N(Is,ds),P&2&&fs!==(fs=Dt((Gt=(xs=I[1].system)==null?void 0:xs.disk_usage)==null?void 0:Gt.free)+"")&&N(Es,fs),P&2&&js(Ht,"width",((Kt=(bs=I[1].system)==null?void 0:bs.disk_usage)==null?void 0:Kt.used)/((Wt=(ys=I[1].system)==null?void 0:ys.disk_usage)==null?void 0:Wt.total)*100+"%")},d(I){I&&(o(l),o(M),o(S))}}}function jl(n){let l,r="没有找到日志记录";return{c(){l=t("div"),l.textContent=r,this.h()},l(u){l=s(u,"DIV",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1g3g3ki"&&(l.textContent=r),this.h()},h(){a(l,"class","text-center py-8 text-gray-500")},m(u,c){le(u,l,c)},p:Cs,d(u){u&&o(l)}}}function Ol(n){let l,r,u=hl(n[2]),c=[];for(let f=0;f<u.length;f+=1)c[f]=xl(ml(n,u,f));return{c(){l=t("div"),r=t("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){l=s(f,"DIV",{class:!0});var m=i(l);r=s(m,"DIV",{class:!0});var _=i(r);for(let b=0;b<c.length;b+=1)c[b].l(_);_.forEach(o),m.forEach(o),this.h()},h(){a(r,"class","space-y-2"),a(l,"class","max-h-96 overflow-y-auto")},m(f,m){le(f,l,m),e(l,r);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(r,null)},p(f,m){if(m&4){u=hl(f[2]);let _;for(_=0;_<u.length;_+=1){const b=ml(f,u,_);c[_]?c[_].p(b,m):(c[_]=xl(b),c[_].c(),c[_].m(r,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=u.length}},d(f){f&&o(l),Vl(c,f)}}}function Tl(n){let l,r='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>';return{c(){l=t("div"),l.innerHTML=r,this.h()},l(u){l=s(u,"DIV",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-t7gkd9"&&(l.innerHTML=r),this.h()},h(){a(l,"class","flex justify-center items-center h-32")},m(u,c){le(u,l,c)},p:Cs,d(u){u&&o(l)}}}function xl(n){let l,r,u=n[16].level+"",c,f,m,_,b,j,O=n[16].module+"",A,y,L,H=Cl(n[16].timestamp)+"",T,z,B,k=n[16].message+"",p,D;return{c(){l=t("div"),r=t("span"),c=E(u),m=d(),_=t("div"),b=t("div"),j=t("p"),A=E(O),y=d(),L=t("p"),T=E(H),z=d(),B=t("p"),p=E(k),D=d(),this.h()},l(C){l=s(C,"DIV",{class:!0});var V=i(l);r=s(V,"SPAN",{class:!0});var F=i(r);c=w(F,u),F.forEach(o),m=v(V),_=s(V,"DIV",{class:!0});var Y=i(_);b=s(Y,"DIV",{class:!0});var Z=i(b);j=s(Z,"P",{class:!0});var ie=i(j);A=w(ie,O),ie.forEach(o),y=v(Z),L=s(Z,"P",{class:!0});var ue=i(L);T=w(ue,H),ue.forEach(o),Z.forEach(o),z=v(Y),B=s(Y,"P",{class:!0});var be=i(B);p=w(be,k),be.forEach(o),Y.forEach(o),D=v(V),V.forEach(o),this.h()},h(){a(r,"class",f="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+yl(n[16].level)),a(j,"class","text-sm font-medium text-gray-900"),a(L,"class","text-xs text-gray-500"),a(b,"class","flex items-center justify-between"),a(B,"class","text-sm text-gray-700 mt-1"),a(_,"class","flex-1 min-w-0"),a(l,"class","flex items-start space-x-3 p-3 bg-gray-50 rounded-lg")},m(C,V){le(C,l,V),e(l,r),e(r,c),e(l,m),e(l,_),e(_,b),e(b,j),e(j,A),e(b,y),e(b,L),e(L,T),e(_,z),e(_,B),e(B,p),e(l,D)},p(C,V){V&4&&u!==(u=C[16].level+"")&&N(c,u),V&4&&f!==(f="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+yl(C[16].level))&&a(r,"class",f),V&4&&O!==(O=C[16].module+"")&&N(A,O),V&4&&H!==(H=Cl(C[16].timestamp)+"")&&N(T,H),V&4&&k!==(k=C[16].message+"")&&N(p,k)},d(C){C&&o(l)}}}function Ll(n){let l,r,u,c="系统监控",f,m,_,b=n[8]?"停止自动刷新":"开启自动刷新",j,O,A,y,L="立即刷新",H,T,z;function B(D,C){if(D[3])return Sl;if(D[4])return Al;if(D[0])return kl}let k=B(n),p=k&&k(n);return{c(){l=t("div"),r=t("div"),u=t("h1"),u.textContent=c,f=d(),m=t("div"),_=t("button"),j=E(b),A=d(),y=t("button"),y.textContent=L,H=d(),p&&p.c(),this.h()},l(D){l=s(D,"DIV",{class:!0});var C=i(l);r=s(C,"DIV",{class:!0});var V=i(r);u=s(V,"H1",{class:!0,"data-svelte-h":!0}),x(u)!=="svelte-15whpoe"&&(u.textContent=c),f=v(V),m=s(V,"DIV",{class:!0});var F=i(m);_=s(F,"BUTTON",{class:!0});var Y=i(_);j=w(Y,b),Y.forEach(o),A=v(F),y=s(F,"BUTTON",{class:!0,"data-svelte-h":!0}),x(y)!=="svelte-q94kzf"&&(y.textContent=L),F.forEach(o),V.forEach(o),H=v(C),p&&p.l(C),C.forEach(o),this.h()},h(){a(u,"class","text-3xl font-bold text-gray-900"),a(_,"class",O="px-4 py-2 rounded-lg transition-colors "+(n[8]?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-700 hover:bg-gray-300")),a(y,"class","bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"),a(m,"class","flex space-x-2"),a(r,"class","flex justify-between items-center"),a(l,"class","space-y-6")},m(D,C){le(D,l,C),e(l,r),e(r,u),e(r,f),e(r,m),e(m,_),e(_,j),e(m,A),e(m,y),e(l,H),p&&p.m(l,null),T||(z=[rs(_,"click",n[11]),rs(y,"click",n[12])],T=!0)},p(D,[C]){C&256&&b!==(b=D[8]?"停止自动刷新":"开启自动刷新")&&N(j,b),C&256&&O!==(O="px-4 py-2 rounded-lg transition-colors "+(D[8]?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"))&&a(_,"class",O),k===(k=B(D))&&p?p.p(D,C):(p&&p.d(1),p=k&&k(D),p&&(p.c(),p.m(l,null)))},i:Cs,o:Cs,d(D){D&&o(l),p&&p.d(),T=!1,Il(z)}}}function Dt(n){if(n===0)return"0 Bytes";const l=1024,r=["Bytes","KB","MB","GB","TB"],u=Math.floor(Math.log(n)/Math.log(l));return parseFloat((n/Math.pow(l,u)).toFixed(2))+" "+r[u]}function bl(n){const l=Math.floor(n/86400),r=Math.floor(n%86400/3600),u=Math.floor(n%3600/60);return l>0?`${l}天 ${r}小时 ${u}分钟`:r>0?`${r}小时 ${u}分钟`:`${u}分钟`}function Vt(n){switch(n){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";case"degraded":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}}function Nt(n){switch(n){case"healthy":return"✓";case"warning":return"⚠";case"critical":return"✗";case"degraded":return"⚠";default:return"?"}}function yl(n){switch(n){case"DEBUG":return"text-gray-600 bg-gray-100";case"INFO":return"text-blue-600 bg-blue-100";case"WARNING":return"text-yellow-600 bg-yellow-100";case"ERROR":return"text-red-600 bg-red-100";case"CRITICAL":return"text-red-700 bg-red-200";default:return"text-gray-600 bg-gray-100"}}function Cl(n){return new Date(n).toLocaleString()}function Hl(n,l,r){let u=null,c=null,f=[],m=!0,_=null,b=!1,j="INFO",O=100,A=!1,y=null;wl(async()=>{await L(),await H()});async function L(){try{r(3,m=!0);const[p,D]=await Promise.all([Rs.getAdminSystemHealth(),Rs.getAdminSystemInfo()]);r(0,u=p),r(1,c=D)}catch(p){r(4,_=p.message)}finally{r(3,m=!1)}}async function H(){try{r(5,b=!0);const p=await Rs.getAdminSystemLogs({level:j,limit:O});r(2,f=p.logs||[])}catch(p){r(4,_=p.message)}finally{r(5,b=!1)}}function T(){r(8,A=!A),A?y=setInterval(async()=>{await L(),await H()},3e4):y&&(clearInterval(y),y=null)}Dl(()=>{y&&clearInterval(y)});const z=()=>Promise.all([L(),H()]);function B(){j=cl(this),r(6,j)}function k(){O=cl(this),r(7,O)}return[u,c,f,m,_,b,j,O,A,L,H,T,z,B,k]}class zl extends Nl{constructor(l){super(),Pl(this,l,Hl,Ll,El,{})}}export{zl as component};
