import{s as Zt,f as n,a as f,e as Vt,g as r,h as c,F as S,c as v,d,j as a,K as Ye,Q as pt,i as Re,A as e,R as lt,B as pe,G as mt,C as at,o as $t,l as w,m as k,n as ve,T as _t,E as Nt,z as Pt}from"../chunks/scheduler.cc6cbc02.js";import{e as it}from"../chunks/each.61c71743.js";import{S as el,i as tl}from"../chunks/index.cf161fb4.js";import{e as Mt}from"../chunks/singletons.434e14c9.js";import{a as st}from"../chunks/api.ecdb55f2.js";function Ot(t,l,s){const o=t.slice();return o[55]=l[s],o}function Bt(t,l,s){const o=t.slice();return o[58]=l[s],o}function Lt(t){var Ae,fe,Se,Pe;let l,s,o,i,u='<svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>',I,z,V,m="总仓库数",g,x,j=(((Ae=t[4].overview)==null?void 0:Ae.total)||0)+"",Y,J,T,R,h,le='<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',q,N,O,P="活跃仓库",C,ee,ne=(((fe=t[4].overview)==null?void 0:fe.active)||0)+"",D,M,G,B,se,_e='<svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg>',L,E,be,re="推荐仓库",W,X,K=(((Se=t[4].overview)==null?void 0:Se.featured)||0)+"",me,H,he,U,A,we='<svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',ce,ke,oe,ge="已删除",Ne,F,Ee=(((Pe=t[4].overview)==null?void 0:Pe.deleted)||0)+"",ye;return{c(){l=n("div"),s=n("div"),o=n("div"),i=n("div"),i.innerHTML=u,I=f(),z=n("div"),V=n("p"),V.textContent=m,g=f(),x=n("p"),Y=w(j),J=f(),T=n("div"),R=n("div"),h=n("div"),h.innerHTML=le,q=f(),N=n("div"),O=n("p"),O.textContent=P,C=f(),ee=n("p"),D=w(ne),M=f(),G=n("div"),B=n("div"),se=n("div"),se.innerHTML=_e,L=f(),E=n("div"),be=n("p"),be.textContent=re,W=f(),X=n("p"),me=w(K),H=f(),he=n("div"),U=n("div"),A=n("div"),A.innerHTML=we,ce=f(),ke=n("div"),oe=n("p"),oe.textContent=ge,Ne=f(),F=n("p"),ye=w(Ee),this.h()},l(Z){l=r(Z,"DIV",{class:!0});var p=c(l);s=r(p,"DIV",{class:!0});var te=c(s);o=r(te,"DIV",{class:!0});var Ce=c(o);i=r(Ce,"DIV",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-4qqeo2"&&(i.innerHTML=u),I=v(Ce),z=r(Ce,"DIV",{class:!0});var De=c(z);V=r(De,"P",{class:!0,"data-svelte-h":!0}),S(V)!=="svelte-kyzv5k"&&(V.textContent=m),g=v(De),x=r(De,"P",{class:!0});var Fe=c(x);Y=k(Fe,j),Fe.forEach(d),De.forEach(d),Ce.forEach(d),te.forEach(d),J=v(p),T=r(p,"DIV",{class:!0});var Qe=c(T);R=r(Qe,"DIV",{class:!0});var ie=c(R);h=r(ie,"DIV",{class:!0,"data-svelte-h":!0}),S(h)!=="svelte-1t58geb"&&(h.innerHTML=le),q=v(ie),N=r(ie,"DIV",{class:!0});var He=c(N);O=r(He,"P",{class:!0,"data-svelte-h":!0}),S(O)!=="svelte-1nu3x6n"&&(O.textContent=P),C=v(He),ee=r(He,"P",{class:!0});var Ge=c(ee);D=k(Ge,ne),Ge.forEach(d),He.forEach(d),ie.forEach(d),Qe.forEach(d),M=v(p),G=r(p,"DIV",{class:!0});var de=c(G);B=r(de,"DIV",{class:!0});var b=c(B);se=r(b,"DIV",{class:!0,"data-svelte-h":!0}),S(se)!=="svelte-vyyxvi"&&(se.innerHTML=_e),L=v(b),E=r(b,"DIV",{class:!0});var ze=c(E);be=r(ze,"P",{class:!0,"data-svelte-h":!0}),S(be)!=="svelte-lzbcfp"&&(be.textContent=re),W=v(ze),X=r(ze,"P",{class:!0});var Te=c(X);me=k(Te,K),Te.forEach(d),ze.forEach(d),b.forEach(d),de.forEach(d),H=v(p),he=r(p,"DIV",{class:!0});var $=c(he);U=r($,"DIV",{class:!0});var ue=c(U);A=r(ue,"DIV",{class:!0,"data-svelte-h":!0}),S(A)!=="svelte-1wywzk"&&(A.innerHTML=we),ce=v(ue),ke=r(ue,"DIV",{class:!0});var y=c(ke);oe=r(y,"P",{class:!0,"data-svelte-h":!0}),S(oe)!=="svelte-al42ed"&&(oe.textContent=ge),Ne=v(y),F=r(y,"P",{class:!0});var ae=c(F);ye=k(ae,Ee),ae.forEach(d),y.forEach(d),ue.forEach(d),$.forEach(d),p.forEach(d),this.h()},h(){a(i,"class","p-2 bg-blue-100 rounded-lg"),a(V,"class","text-sm font-medium text-gray-500"),a(x,"class","text-2xl font-semibold text-gray-900"),a(z,"class","ml-3"),a(o,"class","flex items-center"),a(s,"class","bg-white rounded-lg shadow p-4"),a(h,"class","p-2 bg-green-100 rounded-lg"),a(O,"class","text-sm font-medium text-gray-500"),a(ee,"class","text-2xl font-semibold text-gray-900"),a(N,"class","ml-3"),a(R,"class","flex items-center"),a(T,"class","bg-white rounded-lg shadow p-4"),a(se,"class","p-2 bg-purple-100 rounded-lg"),a(be,"class","text-sm font-medium text-gray-500"),a(X,"class","text-2xl font-semibold text-gray-900"),a(E,"class","ml-3"),a(B,"class","flex items-center"),a(G,"class","bg-white rounded-lg shadow p-4"),a(A,"class","p-2 bg-red-100 rounded-lg"),a(oe,"class","text-sm font-medium text-gray-500"),a(F,"class","text-2xl font-semibold text-gray-900"),a(ke,"class","ml-3"),a(U,"class","flex items-center"),a(he,"class","bg-white rounded-lg shadow p-4"),a(l,"class","grid grid-cols-1 md:grid-cols-4 gap-4")},m(Z,p){Re(Z,l,p),e(l,s),e(s,o),e(o,i),e(o,I),e(o,z),e(z,V),e(z,g),e(z,x),e(x,Y),e(l,J),e(l,T),e(T,R),e(R,h),e(R,q),e(R,N),e(N,O),e(N,C),e(N,ee),e(ee,D),e(l,M),e(l,G),e(G,B),e(B,se),e(B,L),e(B,E),e(E,be),e(E,W),e(E,X),e(X,me),e(l,H),e(l,he),e(he,U),e(U,A),e(U,ce),e(U,ke),e(ke,oe),e(ke,Ne),e(ke,F),e(F,ye)},p(Z,p){var te,Ce,De,Fe;p[0]&16&&j!==(j=(((te=Z[4].overview)==null?void 0:te.total)||0)+"")&&ve(Y,j),p[0]&16&&ne!==(ne=(((Ce=Z[4].overview)==null?void 0:Ce.active)||0)+"")&&ve(D,ne),p[0]&16&&K!==(K=(((De=Z[4].overview)==null?void 0:De.featured)||0)+"")&&ve(me,K),p[0]&16&&Ee!==(Ee=(((Fe=Z[4].overview)==null?void 0:Fe.deleted)||0)+"")&&ve(ye,Ee)},d(Z){Z&&d(l)}}}function ll(t){let l,s,o,i,u,I,z,V,m,g="类型",x,j,Y="状态",J,T,R="所有者",h,le,q,N,O,P,C,ee,ne,D,M,G,B,se,_e,L,E,be="操作",re,W,X,K,me,H,he,U,A,we,ce,ke,oe,ge,Ne,F,Ee,ye,Ae=(t[13]-1)*et+1+"",fe,Se,Pe,Z=Math.min(t[13]*et,t[0])+"",p,te,Ce,De,Fe,Qe,ie,He,Ge,de,b,ze,Te,$,ue,y,ae,We,je=t[11]==="name"&&At(t),xe=t[11]==="stars_count"&&Ht(t),Me=t[11]==="views_count"&&St(t),Oe=t[11]==="downloads_count"&&zt(t),Be=t[11]==="total_size"&&jt(t),Ve=t[11]==="updated_at"&&Ut(t),Je=it(t[3]),Ie=[];for(let _=0;_<Je.length;_+=1)Ie[_]=qt(Bt(t,Je,_));let Ke=it(Array.from({length:Math.min(10,t[18])},Xt)),Ue=[];for(let _=0;_<Ke.length;_+=1)Ue[_]=Ft(Ot(t,Ke,_));return{c(){l=n("div"),s=n("div"),o=n("table"),i=n("thead"),u=n("tr"),I=n("th"),z=w(`仓库名称
                                `),je&&je.c(),V=f(),m=n("th"),m.textContent=g,x=f(),j=n("th"),j.textContent=Y,J=f(),T=n("th"),T.textContent=R,h=f(),le=n("th"),q=w(`星标数
                                `),xe&&xe.c(),N=f(),O=n("th"),P=w(`浏览量
                                `),Me&&Me.c(),C=f(),ee=n("th"),ne=w(`下载量
                                `),Oe&&Oe.c(),D=f(),M=n("th"),G=w(`大小
                                `),Be&&Be.c(),B=f(),se=n("th"),_e=w(`更新时间
                                `),Ve&&Ve.c(),L=f(),E=n("th"),E.textContent=be,re=f(),W=n("tbody");for(let _=0;_<Ie.length;_+=1)Ie[_].c();X=f(),K=n("div"),me=n("div"),H=n("button"),he=w("上一页"),A=f(),we=n("button"),ce=w("下一页"),oe=f(),ge=n("div"),Ne=n("div"),F=n("p"),Ee=w("显示 "),ye=n("span"),fe=w(Ae),Se=w(` 到 
                            `),Pe=n("span"),p=w(Z),te=w(` 项，
                            共 `),Ce=n("span"),De=w(t[0]),Fe=w(" 项"),Qe=f(),ie=n("div"),He=n("nav"),Ge=n("button"),de=w("上一页"),ze=f();for(let _=0;_<Ue.length;_+=1)Ue[_].c();Te=f(),$=n("button"),ue=w("下一页"),this.h()},l(_){l=r(_,"DIV",{class:!0});var Le=c(l);s=r(Le,"DIV",{class:!0});var Q=c(s);o=r(Q,"TABLE",{class:!0});var Xe=c(o);i=r(Xe,"THEAD",{class:!0});var bt=c(i);u=r(bt,"TR",{});var qe=c(u);I=r(qe,"TH",{class:!0});var dt=c(I);z=k(dt,`仓库名称
                                `),je&&je.l(dt),dt.forEach(d),V=v(qe),m=r(qe,"TH",{class:!0,"data-svelte-h":!0}),S(m)!=="svelte-g9zgek"&&(m.textContent=g),x=v(qe),j=r(qe,"TH",{class:!0,"data-svelte-h":!0}),S(j)!=="svelte-mket67"&&(j.textContent=Y),J=v(qe),T=r(qe,"TH",{class:!0,"data-svelte-h":!0}),S(T)!=="svelte-1a83ytk"&&(T.textContent=R),h=v(qe),le=r(qe,"TH",{class:!0});var ut=c(le);q=k(ut,`星标数
                                `),xe&&xe.l(ut),ut.forEach(d),N=v(qe),O=r(qe,"TH",{class:!0});var ct=c(O);P=k(ct,`浏览量
                                `),Me&&Me.l(ct),ct.forEach(d),C=v(qe),ee=r(qe,"TH",{class:!0});var ft=c(ee);ne=k(ft,`下载量
                                `),Oe&&Oe.l(ft),ft.forEach(d),D=v(qe),M=r(qe,"TH",{class:!0});var vt=c(M);G=k(vt,`大小
                                `),Be&&Be.l(vt),vt.forEach(d),B=v(qe),se=r(qe,"TH",{class:!0});var ht=c(se);_e=k(ht,`更新时间
                                `),Ve&&Ve.l(ht),ht.forEach(d),L=v(qe),E=r(qe,"TH",{class:!0,"data-svelte-h":!0}),S(E)!=="svelte-8atyrf"&&(E.textContent=be),qe.forEach(d),bt.forEach(d),re=v(Xe),W=r(Xe,"TBODY",{class:!0});var gt=c(W);for(let $e=0;$e<Ie.length;$e+=1)Ie[$e].l(gt);gt.forEach(d),Xe.forEach(d),Q.forEach(d),X=v(Le),K=r(Le,"DIV",{class:!0});var nt=c(K);me=r(nt,"DIV",{class:!0});var rt=c(me);H=r(rt,"BUTTON",{class:!0});var yt=c(H);he=k(yt,"上一页"),yt.forEach(d),A=v(rt),we=r(rt,"BUTTON",{class:!0});var xt=c(we);ce=k(xt,"下一页"),xt.forEach(d),rt.forEach(d),oe=v(nt),ge=r(nt,"DIV",{class:!0});var ot=c(ge);Ne=r(ot,"DIV",{});var wt=c(Ne);F=r(wt,"P",{class:!0});var Ze=c(F);Ee=k(Ze,"显示 "),ye=r(Ze,"SPAN",{class:!0});var kt=c(ye);fe=k(kt,Ae),kt.forEach(d),Se=k(Ze,` 到 
                            `),Pe=r(Ze,"SPAN",{class:!0});var Et=c(Pe);p=k(Et,Z),Et.forEach(d),te=k(Ze,` 项，
                            共 `),Ce=r(Ze,"SPAN",{class:!0});var Ct=c(Ce);De=k(Ct,t[0]),Ct.forEach(d),Fe=k(Ze," 项"),Ze.forEach(d),wt.forEach(d),Qe=v(ot),ie=r(ot,"DIV",{});var Tt=c(ie);He=r(Tt,"NAV",{class:!0});var tt=c(He);Ge=r(tt,"BUTTON",{class:!0});var Dt=c(Ge);de=k(Dt,"上一页"),Dt.forEach(d),ze=v(tt);for(let $e=0;$e<Ue.length;$e+=1)Ue[$e].l(tt);Te=v(tt),$=r(tt,"BUTTON",{class:!0});var It=c($);ue=k(It,"下一页"),It.forEach(d),tt.forEach(d),Tt.forEach(d),ot.forEach(d),nt.forEach(d),Le.forEach(d),this.h()},h(){a(I,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"),a(m,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),a(j,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),a(T,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),a(le,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"),a(O,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"),a(ee,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"),a(M,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"),a(se,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"),a(E,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),a(i,"class","bg-gray-50"),a(W,"class","bg-white divide-y divide-gray-200"),a(o,"class","min-w-full divide-y divide-gray-200"),a(s,"class","overflow-x-auto"),H.disabled=U=t[13]===1,a(H,"class","relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"),we.disabled=ke=t[13]===t[18],a(we,"class","ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"),a(me,"class","flex-1 flex justify-between sm:hidden"),a(ye,"class","font-medium"),a(Pe,"class","font-medium"),a(Ce,"class","font-medium"),a(F,"class","text-sm text-gray-700"),Ge.disabled=b=t[13]===1,a(Ge,"class","relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"),$.disabled=y=t[13]===t[18],a($,"class","relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"),a(He,"class","relative z-0 inline-flex rounded-md shadow-sm -space-x-px"),a(ge,"class","hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"),a(K,"class","bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200"),a(l,"class","bg-white rounded-lg shadow overflow-hidden")},m(_,Le){Re(_,l,Le),e(l,s),e(s,o),e(o,i),e(i,u),e(u,I),e(I,z),je&&je.m(I,null),e(u,V),e(u,m),e(u,x),e(u,j),e(u,J),e(u,T),e(u,h),e(u,le),e(le,q),xe&&xe.m(le,null),e(u,N),e(u,O),e(O,P),Me&&Me.m(O,null),e(u,C),e(u,ee),e(ee,ne),Oe&&Oe.m(ee,null),e(u,D),e(u,M),e(M,G),Be&&Be.m(M,null),e(u,B),e(u,se),e(se,_e),Ve&&Ve.m(se,null),e(u,L),e(u,E),e(o,re),e(o,W);for(let Q=0;Q<Ie.length;Q+=1)Ie[Q]&&Ie[Q].m(W,null);e(l,X),e(l,K),e(K,me),e(me,H),e(H,he),e(me,A),e(me,we),e(we,ce),e(K,oe),e(K,ge),e(ge,Ne),e(Ne,F),e(F,Ee),e(F,ye),e(ye,fe),e(F,Se),e(F,Pe),e(Pe,p),e(F,te),e(F,Ce),e(Ce,De),e(F,Fe),e(ge,Qe),e(ge,ie),e(ie,He),e(He,Ge),e(Ge,de),e(He,ze);for(let Q=0;Q<Ue.length;Q+=1)Ue[Q]&&Ue[Q].m(He,null);e(He,Te),e(He,$),e($,ue),ae||(We=[pe(I,"click",t[35]),pe(le,"click",t[36]),pe(O,"click",t[37]),pe(ee,"click",t[38]),pe(M,"click",t[39]),pe(se,"click",t[40]),pe(H,"click",t[44]),pe(we,"click",t[45]),pe(Ge,"click",t[46]),pe($,"click",t[48])],ae=!0)},p(_,Le){if(_[11]==="name"?je?je.p(_,Le):(je=At(_),je.c(),je.m(I,null)):je&&(je.d(1),je=null),_[11]==="stars_count"?xe?xe.p(_,Le):(xe=Ht(_),xe.c(),xe.m(le,null)):xe&&(xe.d(1),xe=null),_[11]==="views_count"?Me?Me.p(_,Le):(Me=St(_),Me.c(),Me.m(O,null)):Me&&(Me.d(1),Me=null),_[11]==="downloads_count"?Oe?Oe.p(_,Le):(Oe=zt(_),Oe.c(),Oe.m(ee,null)):Oe&&(Oe.d(1),Oe=null),_[11]==="total_size"?Be?Be.p(_,Le):(Be=jt(_),Be.c(),Be.m(M,null)):Be&&(Be.d(1),Be=null),_[11]==="updated_at"?Ve?Ve.p(_,Le):(Ve=Ut(_),Ve.c(),Ve.m(se,null)):Ve&&(Ve.d(1),Ve=null),Le[0]&218103816){Je=it(_[3]);let Q;for(Q=0;Q<Je.length;Q+=1){const Xe=Bt(_,Je,Q);Ie[Q]?Ie[Q].p(Xe,Le):(Ie[Q]=qt(Xe),Ie[Q].c(),Ie[Q].m(W,null))}for(;Q<Ie.length;Q+=1)Ie[Q].d(1);Ie.length=Je.length}if(Le[0]&8192&&U!==(U=_[13]===1)&&(H.disabled=U),Le[0]&270336&&ke!==(ke=_[13]===_[18])&&(we.disabled=ke),Le[0]&8192&&Ae!==(Ae=(_[13]-1)*et+1+"")&&ve(fe,Ae),Le[0]&8193&&Z!==(Z=Math.min(_[13]*et,_[0])+"")&&ve(p,Z),Le[0]&1&&ve(De,_[0]),Le[0]&8192&&b!==(b=_[13]===1)&&(Ge.disabled=b),Le[0]&794624){Ke=it(Array.from({length:Math.min(10,_[18])},Xt));let Q;for(Q=0;Q<Ke.length;Q+=1){const Xe=Ot(_,Ke,Q);Ue[Q]?Ue[Q].p(Xe,Le):(Ue[Q]=Ft(Xe),Ue[Q].c(),Ue[Q].m(He,Te))}for(;Q<Ue.length;Q+=1)Ue[Q].d(1);Ue.length=Ke.length}Le[0]&270336&&y!==(y=_[13]===_[18])&&($.disabled=y)},d(_){_&&d(l),je&&je.d(),xe&&xe.d(),Me&&Me.d(),Oe&&Oe.d(),Be&&Be.d(),Ve&&Ve.d(),Nt(Ie,_),Nt(Ue,_),ae=!1,at(We)}}}function sl(t){let l,s,o;return{c(){l=n("div"),s=w("错误: "),o=w(t[6]),this.h()},l(i){l=r(i,"DIV",{class:!0});var u=c(l);s=k(u,"错误: "),o=k(u,t[6]),u.forEach(d),this.h()},h(){a(l,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded")},m(i,u){Re(i,l,u),e(l,s),e(l,o)},p(i,u){u[0]&64&&ve(o,i[6])},d(i){i&&d(l)}}}function al(t){let l,s='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>';return{c(){l=n("div"),l.innerHTML=s,this.h()},l(o){l=r(o,"DIV",{class:!0,"data-svelte-h":!0}),S(l)!=="svelte-2x2oyq"&&(l.innerHTML=s),this.h()},h(){a(l,"class","flex justify-center items-center h-64")},m(o,i){Re(o,l,i)},p:mt,d(o){o&&d(l)}}}function At(t){let l,s=t[12]==="asc"?"↑":"↓",o;return{c(){l=n("span"),o=w(s),this.h()},l(i){l=r(i,"SPAN",{class:!0});var u=c(l);o=k(u,s),u.forEach(d),this.h()},h(){a(l,"class","ml-1")},m(i,u){Re(i,l,u),e(l,o)},p(i,u){u[0]&4096&&s!==(s=i[12]==="asc"?"↑":"↓")&&ve(o,s)},d(i){i&&d(l)}}}function Ht(t){let l,s=t[12]==="asc"?"↑":"↓",o;return{c(){l=n("span"),o=w(s),this.h()},l(i){l=r(i,"SPAN",{class:!0});var u=c(l);o=k(u,s),u.forEach(d),this.h()},h(){a(l,"class","ml-1")},m(i,u){Re(i,l,u),e(l,o)},p(i,u){u[0]&4096&&s!==(s=i[12]==="asc"?"↑":"↓")&&ve(o,s)},d(i){i&&d(l)}}}function St(t){let l,s=t[12]==="asc"?"↑":"↓",o;return{c(){l=n("span"),o=w(s),this.h()},l(i){l=r(i,"SPAN",{class:!0});var u=c(l);o=k(u,s),u.forEach(d),this.h()},h(){a(l,"class","ml-1")},m(i,u){Re(i,l,u),e(l,o)},p(i,u){u[0]&4096&&s!==(s=i[12]==="asc"?"↑":"↓")&&ve(o,s)},d(i){i&&d(l)}}}function zt(t){let l,s=t[12]==="asc"?"↑":"↓",o;return{c(){l=n("span"),o=w(s),this.h()},l(i){l=r(i,"SPAN",{class:!0});var u=c(l);o=k(u,s),u.forEach(d),this.h()},h(){a(l,"class","ml-1")},m(i,u){Re(i,l,u),e(l,o)},p(i,u){u[0]&4096&&s!==(s=i[12]==="asc"?"↑":"↓")&&ve(o,s)},d(i){i&&d(l)}}}function jt(t){let l,s=t[12]==="asc"?"↑":"↓",o;return{c(){l=n("span"),o=w(s),this.h()},l(i){l=r(i,"SPAN",{class:!0});var u=c(l);o=k(u,s),u.forEach(d),this.h()},h(){a(l,"class","ml-1")},m(i,u){Re(i,l,u),e(l,o)},p(i,u){u[0]&4096&&s!==(s=i[12]==="asc"?"↑":"↓")&&ve(o,s)},d(i){i&&d(l)}}}function Ut(t){let l,s=t[12]==="asc"?"↑":"↓",o;return{c(){l=n("span"),o=w(s),this.h()},l(i){l=r(i,"SPAN",{class:!0});var u=c(l);o=k(u,s),u.forEach(d),this.h()},h(){a(l,"class","ml-1")},m(i,u){Re(i,l,u),e(l,o)},p(i,u){u[0]&4096&&s!==(s=i[12]==="asc"?"↑":"↓")&&ve(o,s)},d(i){i&&d(l)}}}function Rt(t){let l,s="恢复",o,i,u="永久删除",I,z;function V(){return t[42](t[58])}function m(){return t[43](t[58])}return{c(){l=n("button"),l.textContent=s,o=f(),i=n("button"),i.textContent=u,this.h()},l(g){l=r(g,"BUTTON",{class:!0,"data-svelte-h":!0}),S(l)!=="svelte-7phn3z"&&(l.textContent=s),o=v(g),i=r(g,"BUTTON",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-1hs0bac"&&(i.textContent=u),this.h()},h(){a(l,"class","text-green-600 hover:text-green-900"),a(i,"class","text-red-600 hover:text-red-900")},m(g,x){Re(g,l,x),Re(g,o,x),Re(g,i,x),I||(z=[pe(l,"click",V),pe(i,"click",m)],I=!0)},p(g,x){t=g},d(g){g&&(d(l),d(o),d(i)),I=!1,at(z)}}}function qt(t){var He,Ge;let l,s,o,i,u,I,z,V,m,g=(((He=t[58].owner)==null?void 0:He.username)||"unknown")+"",x,j,Y=t[58].name+"",J,T,R,h,le=(t[58].description||"No description")+"",q,N,O,P,C=t[58].repo_type+"",ee,ne,D,M,G=Wt(t[58])+"",B,se,_e,L,E=(((Ge=t[58].owner)==null?void 0:Ge.username)||"Unknown")+"",be,re,W,X=(t[58].stars_count||0)+"",K,me,H,he=(t[58].views_count||0)+"",U,A,we,ce=(t[58].downloads_count||0)+"",ke,oe,ge,Ne=Yt(t[58].total_size||0)+"",F,Ee,ye,Ae=Qt(t[58].updated_at)+"",fe,Se,Pe,Z,p="管理",te,Ce,De,Fe;function Qe(){return t[41](t[58])}let ie=!t[58].is_active&&Rt(t);return{c(){l=n("tr"),s=n("td"),o=n("div"),i=n("img"),z=f(),V=n("div"),m=n("a"),x=w(g),j=w("/"),J=w(Y),R=f(),h=n("div"),q=w(le),N=f(),O=n("td"),P=n("span"),ee=w(C),ne=f(),D=n("td"),M=n("span"),B=w(G),_e=f(),L=n("td"),be=w(E),re=f(),W=n("td"),K=w(X),me=f(),H=n("td"),U=w(he),A=f(),we=n("td"),ke=w(ce),oe=f(),ge=n("td"),F=w(Ne),Ee=f(),ye=n("td"),fe=w(Ae),Se=f(),Pe=n("td"),Z=n("button"),Z.textContent=p,te=f(),ie&&ie.c(),Ce=f(),this.h()},l(de){l=r(de,"TR",{class:!0});var b=c(l);s=r(b,"TD",{class:!0});var ze=c(s);o=r(ze,"DIV",{class:!0});var Te=c(o);i=r(Te,"IMG",{src:!0,alt:!0,class:!0}),z=v(Te),V=r(Te,"DIV",{});var $=c(V);m=r($,"A",{href:!0,class:!0});var ue=c(m);x=k(ue,g),j=k(ue,"/"),J=k(ue,Y),ue.forEach(d),R=v($),h=r($,"DIV",{class:!0});var y=c(h);q=k(y,le),y.forEach(d),$.forEach(d),Te.forEach(d),ze.forEach(d),N=v(b),O=r(b,"TD",{class:!0});var ae=c(O);P=r(ae,"SPAN",{class:!0});var We=c(P);ee=k(We,C),We.forEach(d),ae.forEach(d),ne=v(b),D=r(b,"TD",{class:!0});var je=c(D);M=r(je,"SPAN",{class:!0});var xe=c(M);B=k(xe,G),xe.forEach(d),je.forEach(d),_e=v(b),L=r(b,"TD",{class:!0});var Me=c(L);be=k(Me,E),Me.forEach(d),re=v(b),W=r(b,"TD",{class:!0});var Oe=c(W);K=k(Oe,X),Oe.forEach(d),me=v(b),H=r(b,"TD",{class:!0});var Be=c(H);U=k(Be,he),Be.forEach(d),A=v(b),we=r(b,"TD",{class:!0});var Ve=c(we);ke=k(Ve,ce),Ve.forEach(d),oe=v(b),ge=r(b,"TD",{class:!0});var Je=c(ge);F=k(Je,Ne),Je.forEach(d),Ee=v(b),ye=r(b,"TD",{class:!0});var Ie=c(ye);fe=k(Ie,Ae),Ie.forEach(d),Se=v(b),Pe=r(b,"TD",{class:!0});var Ke=c(Pe);Z=r(Ke,"BUTTON",{class:!0,"data-svelte-h":!0}),S(Z)!=="svelte-4e6naj"&&(Z.textContent=p),te=v(Ke),ie&&ie.l(Ke),Ke.forEach(d),Ce=v(b),b.forEach(d),this.h()},h(){var de,b,ze;Pt(i.src,u=((de=t[58].owner)==null?void 0:de.avatar_url)||"/default-avatar.png")||a(i,"src",u),a(i,"alt",I=((b=t[58].owner)==null?void 0:b.username)||"User"),a(i,"class","w-10 h-10 rounded-full mr-3"),a(m,"href",T=Mt+"/"+(((ze=t[58].owner)==null?void 0:ze.username)||"unknown")+"/"+t[58].name),a(m,"class","text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"),a(h,"class","text-sm text-gray-500"),a(o,"class","flex items-center"),a(s,"class","px-6 py-4 whitespace-nowrap"),a(P,"class","capitalize"),a(O,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),a(M,"class",se="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+Jt(t[58])),a(D,"class","px-6 py-4 whitespace-nowrap"),a(L,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),a(W,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),a(H,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),a(we,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),a(ge,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),a(ye,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),a(Z,"class","text-blue-600 hover:text-blue-900"),a(Pe,"class","px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"),a(l,"class","hover:bg-gray-50")},m(de,b){Re(de,l,b),e(l,s),e(s,o),e(o,i),e(o,z),e(o,V),e(V,m),e(m,x),e(m,j),e(m,J),e(V,R),e(V,h),e(h,q),e(l,N),e(l,O),e(O,P),e(P,ee),e(l,ne),e(l,D),e(D,M),e(M,B),e(l,_e),e(l,L),e(L,be),e(l,re),e(l,W),e(W,K),e(l,me),e(l,H),e(H,U),e(l,A),e(l,we),e(we,ke),e(l,oe),e(l,ge),e(ge,F),e(l,Ee),e(l,ye),e(ye,fe),e(l,Se),e(l,Pe),e(Pe,Z),e(Pe,te),ie&&ie.m(Pe,null),e(l,Ce),De||(Fe=pe(Z,"click",Qe),De=!0)},p(de,b){var ze,Te,$,ue,y;t=de,b[0]&8&&!Pt(i.src,u=((ze=t[58].owner)==null?void 0:ze.avatar_url)||"/default-avatar.png")&&a(i,"src",u),b[0]&8&&I!==(I=((Te=t[58].owner)==null?void 0:Te.username)||"User")&&a(i,"alt",I),b[0]&8&&g!==(g=((($=t[58].owner)==null?void 0:$.username)||"unknown")+"")&&ve(x,g),b[0]&8&&Y!==(Y=t[58].name+"")&&ve(J,Y),b[0]&8&&T!==(T=Mt+"/"+(((ue=t[58].owner)==null?void 0:ue.username)||"unknown")+"/"+t[58].name)&&a(m,"href",T),b[0]&8&&le!==(le=(t[58].description||"No description")+"")&&ve(q,le),b[0]&8&&C!==(C=t[58].repo_type+"")&&ve(ee,C),b[0]&8&&G!==(G=Wt(t[58])+"")&&ve(B,G),b[0]&8&&se!==(se="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+Jt(t[58]))&&a(M,"class",se),b[0]&8&&E!==(E=(((y=t[58].owner)==null?void 0:y.username)||"Unknown")+"")&&ve(be,E),b[0]&8&&X!==(X=(t[58].stars_count||0)+"")&&ve(K,X),b[0]&8&&he!==(he=(t[58].views_count||0)+"")&&ve(U,he),b[0]&8&&ce!==(ce=(t[58].downloads_count||0)+"")&&ve(ke,ce),b[0]&8&&Ne!==(Ne=Yt(t[58].total_size||0)+"")&&ve(F,Ne),b[0]&8&&Ae!==(Ae=Qt(t[58].updated_at)+"")&&ve(fe,Ae),t[58].is_active?ie&&(ie.d(1),ie=null):ie?ie.p(t,b):(ie=Rt(t),ie.c(),ie.m(Pe,null))},d(de){de&&d(l),ie&&ie.d(),De=!1,Fe()}}}function Ft(t){let l,s=t[55]+"",o,i,u,I;function z(){return t[47](t[55])}return{c(){l=n("button"),o=w(s),this.h()},l(V){l=r(V,"BUTTON",{class:!0});var m=c(l);o=k(m,s),m.forEach(d),this.h()},h(){a(l,"class",i="relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(t[13]===t[55]?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"))},m(V,m){Re(V,l,m),e(l,o),u||(I=pe(l,"click",z),u=!0)},p(V,m){t=V,m[0]&262144&&s!==(s=t[55]+"")&&ve(o,s),m[0]&270336&&i!==(i="relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(t[13]===t[55]?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"))&&a(l,"class",i)},d(V){V&&d(l),u=!1,I()}}}function Gt(t){let l,s,o,i,u,I=t[1].name+"",z,V,m,g,x,j="仓库状态",Y,J,T=t[1].is_active?"软删除":"恢复",R,h,le,q,N,O="推荐状态",P,C,ee=t[1].is_featured?"取消推荐":"设为推荐",ne,D,M,G,B,se="可见性",_e,L,E=t[1].visibility==="public"?"设为私有":"设为公开",be,re,W,X,K,me="关闭",H,he;return{c(){l=n("div"),s=n("div"),o=n("div"),i=n("h3"),u=w("管理仓库: "),z=w(I),V=f(),m=n("div"),g=n("div"),x=n("span"),x.textContent=j,Y=f(),J=n("button"),R=w(T),le=f(),q=n("div"),N=n("span"),N.textContent=O,P=f(),C=n("button"),ne=w(ee),M=f(),G=n("div"),B=n("span"),B.textContent=se,_e=f(),L=n("button"),be=w(E),W=f(),X=n("div"),K=n("button"),K.textContent=me,this.h()},l(U){l=r(U,"DIV",{class:!0});var A=c(l);s=r(A,"DIV",{class:!0});var we=c(s);o=r(we,"DIV",{class:!0});var ce=c(o);i=r(ce,"H3",{class:!0});var ke=c(i);u=k(ke,"管理仓库: "),z=k(ke,I),ke.forEach(d),V=v(ce),m=r(ce,"DIV",{class:!0});var oe=c(m);g=r(oe,"DIV",{class:!0});var ge=c(g);x=r(ge,"SPAN",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-18471k2"&&(x.textContent=j),Y=v(ge),J=r(ge,"BUTTON",{class:!0});var Ne=c(J);R=k(Ne,T),Ne.forEach(d),ge.forEach(d),le=v(oe),q=r(oe,"DIV",{class:!0});var F=c(q);N=r(F,"SPAN",{class:!0,"data-svelte-h":!0}),S(N)!=="svelte-jixk68"&&(N.textContent=O),P=v(F),C=r(F,"BUTTON",{class:!0});var Ee=c(C);ne=k(Ee,ee),Ee.forEach(d),F.forEach(d),M=v(oe),G=r(oe,"DIV",{class:!0});var ye=c(G);B=r(ye,"SPAN",{class:!0,"data-svelte-h":!0}),S(B)!=="svelte-15kfpbu"&&(B.textContent=se),_e=v(ye),L=r(ye,"BUTTON",{class:!0});var Ae=c(L);be=k(Ae,E),Ae.forEach(d),ye.forEach(d),oe.forEach(d),W=v(ce),X=r(ce,"DIV",{class:!0});var fe=c(X);K=r(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),S(K)!=="svelte-bwzpk4"&&(K.textContent=me),fe.forEach(d),ce.forEach(d),we.forEach(d),A.forEach(d),this.h()},h(){a(i,"class","text-lg font-medium text-gray-900 mb-4"),a(x,"class","text-sm font-medium text-gray-700"),J.disabled=t[16],a(J,"class",h="px-3 py-1 rounded text-sm font-medium "+(t[1].is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200")+" disabled:opacity-50"),a(g,"class","flex items-center justify-between"),a(N,"class","text-sm font-medium text-gray-700"),C.disabled=t[16],a(C,"class",D="px-3 py-1 rounded text-sm font-medium "+(t[1].is_featured?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-700 hover:bg-gray-200")+" disabled:opacity-50"),a(q,"class","flex items-center justify-between"),a(B,"class","text-sm font-medium text-gray-700"),L.disabled=t[16],a(L,"class",re="px-3 py-1 rounded text-sm font-medium "+(t[1].visibility==="public"?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200")+" disabled:opacity-50"),a(G,"class","flex items-center justify-between"),a(m,"class","space-y-4"),a(K,"class","px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors"),a(X,"class","mt-6 flex justify-center"),a(o,"class","mt-3 text-center"),a(s,"class","relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"),a(l,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50")},m(U,A){Re(U,l,A),e(l,s),e(s,o),e(o,i),e(i,u),e(i,z),e(o,V),e(o,m),e(m,g),e(g,x),e(g,Y),e(g,J),e(J,R),e(m,le),e(m,q),e(q,N),e(q,P),e(q,C),e(C,ne),e(m,M),e(m,G),e(G,B),e(G,_e),e(G,L),e(L,be),e(o,W),e(o,X),e(X,K),H||(he=[pe(J,"click",t[49]),pe(C,"click",t[50]),pe(L,"click",t[51]),pe(K,"click",t[52])],H=!0)},p(U,A){A[0]&2&&I!==(I=U[1].name+"")&&ve(z,I),A[0]&2&&T!==(T=U[1].is_active?"软删除":"恢复")&&ve(R,T),A[0]&65536&&(J.disabled=U[16]),A[0]&2&&h!==(h="px-3 py-1 rounded text-sm font-medium "+(U[1].is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200")+" disabled:opacity-50")&&a(J,"class",h),A[0]&2&&ee!==(ee=U[1].is_featured?"取消推荐":"设为推荐")&&ve(ne,ee),A[0]&65536&&(C.disabled=U[16]),A[0]&2&&D!==(D="px-3 py-1 rounded text-sm font-medium "+(U[1].is_featured?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-700 hover:bg-gray-200")+" disabled:opacity-50")&&a(C,"class",D),A[0]&2&&E!==(E=U[1].visibility==="public"?"设为私有":"设为公开")&&ve(be,E),A[0]&65536&&(L.disabled=U[16]),A[0]&2&&re!==(re="px-3 py-1 rounded text-sm font-medium "+(U[1].visibility==="public"?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200")+" disabled:opacity-50")&&a(L,"class",re)},d(U){U&&d(l),H=!1,at(he)}}}function Kt(t){let l,s,o,i,u='<svg class="h-6 w-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L3.318 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>',I,z,V="永久删除仓库",m,g,x,j,Y=t[1].name+"",J,T,R,h,le="请输入 <strong>DELETE</strong> 确认删除：",q,N,O,P,C,ee="取消",ne,D,M=t[16]?"删除中...":"永久删除",G,B,se,_e;return{c(){l=n("div"),s=n("div"),o=n("div"),i=n("div"),i.innerHTML=u,I=f(),z=n("h3"),z.textContent=V,m=f(),g=n("p"),x=w("这将永久删除仓库 "),j=n("strong"),J=w(Y),T=w(" 及其所有文件。此操作不可恢复。"),R=f(),h=n("p"),h.innerHTML=le,q=f(),N=n("input"),O=f(),P=n("div"),C=n("button"),C.textContent=ee,ne=f(),D=n("button"),G=w(M),this.h()},l(L){l=r(L,"DIV",{class:!0});var E=c(l);s=r(E,"DIV",{class:!0});var be=c(s);o=r(be,"DIV",{class:!0});var re=c(o);i=r(re,"DIV",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-q6s0sc"&&(i.innerHTML=u),I=v(re),z=r(re,"H3",{class:!0,"data-svelte-h":!0}),S(z)!=="svelte-1t8eqnn"&&(z.textContent=V),m=v(re),g=r(re,"P",{class:!0});var W=c(g);x=k(W,"这将永久删除仓库 "),j=r(W,"STRONG",{});var X=c(j);J=k(X,Y),X.forEach(d),T=k(W," 及其所有文件。此操作不可恢复。"),W.forEach(d),R=v(re),h=r(re,"P",{class:!0,"data-svelte-h":!0}),S(h)!=="svelte-147n1nk"&&(h.innerHTML=le),q=v(re),N=r(re,"INPUT",{type:!0,placeholder:!0,class:!0}),O=v(re),P=r(re,"DIV",{class:!0});var K=c(P);C=r(K,"BUTTON",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-sz3azn"&&(C.textContent=ee),ne=v(K),D=r(K,"BUTTON",{class:!0});var me=c(D);G=k(me,M),me.forEach(d),K.forEach(d),re.forEach(d),be.forEach(d),E.forEach(d),this.h()},h(){a(i,"class","mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"),a(z,"class","text-lg font-medium text-gray-900 mb-4"),a(g,"class","text-sm text-gray-500 mb-4"),a(h,"class","text-sm text-red-600 mb-4"),a(N,"type","text"),a(N,"placeholder","输入 DELETE"),a(N,"class","w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 mb-4"),a(C,"class","px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors"),D.disabled=B=!t[17]||t[16],a(D,"class","px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50"),a(P,"class","flex justify-center space-x-4"),a(o,"class","mt-3 text-center"),a(s,"class","relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"),a(l,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50")},m(L,E){Re(L,l,E),e(l,s),e(s,o),e(o,i),e(o,I),e(o,z),e(o,m),e(o,g),e(g,x),e(g,j),e(j,J),e(g,T),e(o,R),e(o,h),e(o,q),e(o,N),Ye(N,t[2]),e(o,O),e(o,P),e(P,C),e(P,ne),e(P,D),e(D,G),se||(_e=[pe(N,"input",t[53]),pe(C,"click",t[54]),pe(D,"click",t[28])],se=!0)},p(L,E){E[0]&2&&Y!==(Y=L[1].name+"")&&ve(J,Y),E[0]&4&&N.value!==L[2]&&Ye(N,L[2]),E[0]&65536&&M!==(M=L[16]?"删除中...":"永久删除")&&ve(G,M),E[0]&196608&&B!==(B=!L[17]||L[16])&&(D.disabled=B)},d(L){L&&d(l),se=!1,at(_e)}}}function nl(t){let l,s,o,i="仓库管理",u,I,z="刷新",V,m,g,x,j,Y,J="搜索仓库",T,R,h,le,q,N="搜索",O,P,C,ee="状态过滤",ne,D,M,G="全部状态",B,se="活跃仓库",_e,L="已删除",E,be="推荐仓库",re,W,X,K="类型过滤",me,H,he,U="全部类型",A,we="模型",ce,ke="数据集",oe,ge="空间",Ne,F,Ee,ye="可见性",Ae,fe,Se,Pe="全部",Z,p="公开",te,Ce="私有",De,Fe,Qe,ie,He,Ge,de=t[4]&&Lt(t);function b(y,ae){return y[5]?al:y[6]?sl:ll}let ze=b(t),Te=ze(t),$=t[14]&&t[1]&&Gt(t),ue=t[15]&&t[1]&&Kt(t);return{c(){l=n("div"),s=n("div"),o=n("h1"),o.textContent=i,u=f(),I=n("button"),I.textContent=z,V=f(),de&&de.c(),m=f(),g=n("div"),x=n("div"),j=n("div"),Y=n("label"),Y.textContent=J,T=f(),R=n("div"),h=n("input"),le=f(),q=n("button"),q.textContent=N,O=f(),P=n("div"),C=n("label"),C.textContent=ee,ne=f(),D=n("select"),M=n("option"),M.textContent=G,B=n("option"),B.textContent=se,_e=n("option"),_e.textContent=L,E=n("option"),E.textContent=be,re=f(),W=n("div"),X=n("label"),X.textContent=K,me=f(),H=n("select"),he=n("option"),he.textContent=U,A=n("option"),A.textContent=we,ce=n("option"),ce.textContent=ke,oe=n("option"),oe.textContent=ge,Ne=f(),F=n("div"),Ee=n("label"),Ee.textContent=ye,Ae=f(),fe=n("select"),Se=n("option"),Se.textContent=Pe,Z=n("option"),Z.textContent=p,te=n("option"),te.textContent=Ce,De=f(),Te.c(),Fe=f(),$&&$.c(),Qe=f(),ue&&ue.c(),ie=Vt(),this.h()},l(y){l=r(y,"DIV",{class:!0});var ae=c(l);s=r(ae,"DIV",{class:!0});var We=c(s);o=r(We,"H1",{class:!0,"data-svelte-h":!0}),S(o)!=="svelte-3wn323"&&(o.textContent=i),u=v(We),I=r(We,"BUTTON",{class:!0,"data-svelte-h":!0}),S(I)!=="svelte-17hqbga"&&(I.textContent=z),We.forEach(d),V=v(ae),de&&de.l(ae),m=v(ae),g=r(ae,"DIV",{class:!0});var je=c(g);x=r(je,"DIV",{class:!0});var xe=c(x);j=r(xe,"DIV",{class:!0});var Me=c(j);Y=r(Me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Y)!=="svelte-omfw1t"&&(Y.textContent=J),T=v(Me),R=r(Me,"DIV",{class:!0});var Oe=c(R);h=r(Oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),le=v(Oe),q=r(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),S(q)!=="svelte-14q8aja"&&(q.textContent=N),Oe.forEach(d),Me.forEach(d),O=v(xe),P=r(xe,"DIV",{});var Be=c(P);C=r(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(C)!=="svelte-158oxgf"&&(C.textContent=ee),ne=v(Be),D=r(Be,"SELECT",{id:!0,class:!0});var Ve=c(D);M=r(Ve,"OPTION",{"data-svelte-h":!0}),S(M)!=="svelte-sa0fi"&&(M.textContent=G),B=r(Ve,"OPTION",{"data-svelte-h":!0}),S(B)!=="svelte-1sbv43w"&&(B.textContent=se),_e=r(Ve,"OPTION",{"data-svelte-h":!0}),S(_e)!=="svelte-1c27yr1"&&(_e.textContent=L),E=r(Ve,"OPTION",{"data-svelte-h":!0}),S(E)!=="svelte-1d9mwe9"&&(E.textContent=be),Ve.forEach(d),Be.forEach(d),re=v(xe),W=r(xe,"DIV",{});var Je=c(W);X=r(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(X)!=="svelte-ubfq56"&&(X.textContent=K),me=v(Je),H=r(Je,"SELECT",{id:!0,class:!0});var Ie=c(H);he=r(Ie,"OPTION",{"data-svelte-h":!0}),S(he)!=="svelte-1g87h6h"&&(he.textContent=U),A=r(Ie,"OPTION",{"data-svelte-h":!0}),S(A)!=="svelte-s0uthp"&&(A.textContent=we),ce=r(Ie,"OPTION",{"data-svelte-h":!0}),S(ce)!=="svelte-tyvjsm"&&(ce.textContent=ke),oe=r(Ie,"OPTION",{"data-svelte-h":!0}),S(oe)!=="svelte-tw53qg"&&(oe.textContent=ge),Ie.forEach(d),Je.forEach(d),Ne=v(xe),F=r(xe,"DIV",{});var Ke=c(F);Ee=r(Ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ee)!=="svelte-5b6cd4"&&(Ee.textContent=ye),Ae=v(Ke),fe=r(Ke,"SELECT",{id:!0,class:!0});var Ue=c(fe);Se=r(Ue,"OPTION",{"data-svelte-h":!0}),S(Se)!=="svelte-zuxolj"&&(Se.textContent=Pe),Z=r(Ue,"OPTION",{"data-svelte-h":!0}),S(Z)!=="svelte-3upz91"&&(Z.textContent=p),te=r(Ue,"OPTION",{"data-svelte-h":!0}),S(te)!=="svelte-1p0bz45"&&(te.textContent=Ce),Ue.forEach(d),Ke.forEach(d),xe.forEach(d),je.forEach(d),De=v(ae),Te.l(ae),ae.forEach(d),Fe=v(y),$&&$.l(y),Qe=v(y),ue&&ue.l(y),ie=Vt(),this.h()},h(){a(o,"class","text-3xl font-bold text-gray-900"),a(I,"class","bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"),a(s,"class","flex justify-between items-center"),a(Y,"for","search-input"),a(Y,"class","block text-sm font-medium text-gray-700 mb-2"),a(h,"id","search-input"),a(h,"type","text"),a(h,"placeholder","搜索仓库名称、描述或完整名称..."),a(h,"class","flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"),a(q,"class","bg-blue-500 text-white px-4 py-2 rounded-r-md hover:bg-blue-600 transition-colors"),a(R,"class","flex"),a(j,"class","md:col-span-2"),a(C,"for","status-filter"),a(C,"class","block text-sm font-medium text-gray-700 mb-2"),M.__value="all",Ye(M,M.__value),B.__value="active",Ye(B,B.__value),_e.__value="deleted",Ye(_e,_e.__value),E.__value="recommended",Ye(E,E.__value),a(D,"id","status-filter"),a(D,"class","w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"),t[8]===void 0&&pt(()=>t[32].call(D)),a(X,"for","type-filter"),a(X,"class","block text-sm font-medium text-gray-700 mb-2"),he.__value="all",Ye(he,he.__value),A.__value="model",Ye(A,A.__value),ce.__value="dataset",Ye(ce,ce.__value),oe.__value="space",Ye(oe,oe.__value),a(H,"id","type-filter"),a(H,"class","w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"),t[9]===void 0&&pt(()=>t[33].call(H)),a(Ee,"for","visibility-filter"),a(Ee,"class","block text-sm font-medium text-gray-700 mb-2"),Se.__value="all",Ye(Se,Se.__value),Z.__value="public",Ye(Z,Z.__value),te.__value="private",Ye(te,te.__value),a(fe,"id","visibility-filter"),a(fe,"class","w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"),t[10]===void 0&&pt(()=>t[34].call(fe)),a(x,"class","grid grid-cols-1 md:grid-cols-5 gap-4"),a(g,"class","bg-white rounded-lg shadow p-6"),a(l,"class","space-y-6")},m(y,ae){Re(y,l,ae),e(l,s),e(s,o),e(s,u),e(s,I),e(l,V),de&&de.m(l,null),e(l,m),e(l,g),e(g,x),e(x,j),e(j,Y),e(j,T),e(j,R),e(R,h),Ye(h,t[7]),e(R,le),e(R,q),e(x,O),e(x,P),e(P,C),e(P,ne),e(P,D),e(D,M),e(D,B),e(D,_e),e(D,E),lt(D,t[8],!0),e(x,re),e(x,W),e(W,X),e(W,me),e(W,H),e(H,he),e(H,A),e(H,ce),e(H,oe),lt(H,t[9],!0),e(x,Ne),e(x,F),e(F,Ee),e(F,Ae),e(F,fe),e(fe,Se),e(fe,Z),e(fe,te),lt(fe,t[10],!0),e(l,De),Te.m(l,null),Re(y,Fe,ae),$&&$.m(y,ae),Re(y,Qe,ae),ue&&ue.m(y,ae),Re(y,ie,ae),He||(Ge=[pe(I,"click",t[29]),pe(h,"input",t[30]),pe(h,"keydown",t[31]),pe(q,"click",t[21]),pe(D,"change",t[32]),pe(D,"change",t[23]),pe(H,"change",t[33]),pe(H,"change",t[23]),pe(fe,"change",t[34]),pe(fe,"change",t[23])],He=!0)},p(y,ae){y[4]?de?de.p(y,ae):(de=Lt(y),de.c(),de.m(l,m)):de&&(de.d(1),de=null),ae[0]&128&&h.value!==y[7]&&Ye(h,y[7]),ae[0]&256&&lt(D,y[8]),ae[0]&512&&lt(H,y[9]),ae[0]&1024&&lt(fe,y[10]),ze===(ze=b(y))&&Te?Te.p(y,ae):(Te.d(1),Te=ze(y),Te&&(Te.c(),Te.m(l,null))),y[14]&&y[1]?$?$.p(y,ae):($=Gt(y),$.c(),$.m(Qe.parentNode,Qe)):$&&($.d(1),$=null),y[15]&&y[1]?ue?ue.p(y,ae):(ue=Kt(y),ue.c(),ue.m(ie.parentNode,ie)):ue&&(ue.d(1),ue=null)},i:mt,o:mt,d(y){y&&(d(l),d(Fe),d(Qe),d(ie)),de&&de.d(),Te.d(),$&&$.d(y),ue&&ue.d(y),He=!1,at(Ge)}}}let et=20;function Qt(t){return new Date(t).toLocaleString()}function Yt(t){if(t===0)return"0 Bytes";const l=1024,s=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(t)/Math.log(l));return parseFloat((t/Math.pow(l,o)).toFixed(2))+" "+s[o]}function Jt(t){return t.is_active?t.is_featured?"bg-purple-100 text-purple-800":t.visibility==="private"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-red-100 text-red-800"}function Wt(t){return t.is_active?t.is_featured?"推荐":t.visibility==="private"?"私有":"正常":"已删除"}const Xt=(t,l)=>l+1;function rl(t,l,s){let o,i,u=[],I=null,z=!0,V=null,m="",g="all",x="all",j="all",Y="created",J="desc",T=1,R=0,h=null,le=!1,q=!1,N=!1,O="";$t(async()=>{await Promise.all([P(),C()])});async function P(){try{s(5,z=!0);const p={skip:(T-1)*et,limit:et,search:m||void 0,is_active:g!=="all"?g==="active":void 0,repo_type:x!=="all"?x:void 0,visibility:j!=="all"?j:void 0,sort_by:Y,order:J},te=await st.getAdminRepositories(p);s(3,u=te.repositories||[]),s(0,R=te.total||0)}catch(p){s(6,V=p.message)}finally{s(5,z=!1)}}async function C(){try{const p=await st.getAdminRepositoryStats();s(4,I=p)}catch(p){console.error("Failed to load stats:",p)}}async function ee(){s(13,T=1),await P()}async function ne(p){Y===p?s(12,J=J==="asc"?"desc":"asc"):(s(11,Y=p),s(12,J="desc")),s(13,T=1),await P()}async function D(){s(13,T=1),await P()}async function M(p){s(1,h=p),s(14,le=!0)}async function G(p,te,Ce){try{s(16,N=!0),await st.updateAdminRepositoryStatus(p,{[te]:Ce});const De=u.findIndex(Fe=>Fe.id===p);De!==-1&&s(3,u[De]={...u[De],[te]:Ce},u),h&&h.id===p&&s(1,h={...h,[te]:Ce}),s(14,le=!1),await C()}catch(De){s(6,V=De.message)}finally{s(16,N=!1)}}async function B(p){try{s(16,N=!0),await st.restoreAdminRepository(p);const te=u.findIndex(Ce=>Ce.id===p);te!==-1&&s(3,u[te]={...u[te],is_active:!0},u),s(14,le=!1),await C()}catch(te){s(6,V=te.message)}finally{s(16,N=!1)}}async function se(p){s(1,h=p),s(2,O=""),s(15,q=!0)}async function _e(){if(O!=="DELETE"){s(6,V="请输入 DELETE 确认删除");return}try{s(16,N=!0),await st.hardDeleteAdminRepository(h.id,!0),s(3,u=u.filter(p=>p.id!==h.id)),s(0,R--,R),s(15,q=!1),s(1,h=null),await C()}catch(p){s(6,V=p.message)}finally{s(16,N=!1)}}const L=()=>Promise.all([P(),C()]);function E(){m=this.value,s(7,m)}const be=p=>p.key==="Enter"&&ee();function re(){g=_t(this),s(8,g)}function W(){x=_t(this),s(9,x)}function X(){j=_t(this),s(10,j)}const K=()=>ne("name"),me=()=>ne("stars_count"),H=()=>ne("views_count"),he=()=>ne("downloads_count"),U=()=>ne("total_size"),A=()=>ne("updated_at"),we=p=>M(p),ce=p=>B(p.id),ke=p=>se(p),oe=()=>{s(13,T=Math.max(1,T-1)),P()},ge=()=>{s(13,T=Math.min(o,T+1)),P()},Ne=()=>{s(13,T=Math.max(1,T-1)),P()},F=p=>{s(13,T=p),P()},Ee=()=>{s(13,T=Math.min(o,T+1)),P()},ye=()=>G(h.id,"is_active",!h.is_active),Ae=()=>G(h.id,"is_featured",!h.is_featured),fe=()=>G(h.id,"visibility",h.visibility==="public"?"private":"public"),Se=()=>{s(14,le=!1),s(1,h=null)};function Pe(){O=this.value,s(2,O)}const Z=()=>{s(15,q=!1),s(1,h=null),s(2,O="")};return t.$$.update=()=>{t.$$.dirty[0]&1&&s(18,o=Math.ceil(R/et)),t.$$.dirty[0]&6&&s(17,i=h&&O==="DELETE")},[R,h,O,u,I,z,V,m,g,x,j,Y,J,T,le,q,N,i,o,P,C,ee,ne,D,M,G,B,se,_e,L,E,be,re,W,X,K,me,H,he,U,A,we,ce,ke,oe,ge,Ne,F,Ee,ye,Ae,fe,Se,Pe,Z]}class fl extends el{constructor(l){super(),tl(this,l,rl,nl,Zt,{},null,[-1,-1])}}export{fl as component};
