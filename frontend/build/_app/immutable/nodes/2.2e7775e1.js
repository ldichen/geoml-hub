import{s as q,e as $,i as E,d as a,D as F,o as J,v as K,f as y,a as V,g as M,h as f,c as A,j as s,A as _,w as Q,x as R,y as W,E as X,l as T,F as G,m as U,n as Y,G as I,I as m,J as g}from"../chunks/scheduler.cc6cbc02.js";import{S as Z,i as ee,t as D,c as te,a as C,g as re}from"../chunks/index.cf161fb4.js";import{e as L}from"../chunks/each.61c71743.js";import{g as P,P as x}from"../chunks/paths.f059e082.js";import{p as se}from"../chunks/stores.67836202.js";import{a as oe}from"../chunks/api.ecdb55f2.js";const ae=!1,le=!1,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:ae,ssr:le},Symbol.toStringTag,{value:"Module"}));function S(c,e,t){const r=c.slice();return r[8]=e[t],r}function ie(c){let e,t,r,o,u,d,k,l,v=L(c[3]),i=[];for(let n=0;n<v.length;n+=1)i[n]=O(S(c,v,n));const b=c[5].default,h=K(b,c,c[4],null);return{c(){e=y("div"),t=y("div"),r=y("nav"),o=y("div"),u=y("ul");for(let n=0;n<i.length;n+=1)i[n].c();d=V(),k=y("main"),h&&h.c(),this.h()},l(n){e=M(n,"DIV",{class:!0});var w=f(e);t=M(w,"DIV",{class:!0});var p=f(t);r=M(p,"NAV",{class:!0});var j=f(r);o=M(j,"DIV",{class:!0});var N=f(o);u=M(N,"UL",{class:!0});var H=f(u);for(let B=0;B<i.length;B+=1)i[B].l(H);H.forEach(a),N.forEach(a),j.forEach(a),d=A(p),k=M(p,"MAIN",{class:!0});var z=f(k);h&&h.l(z),z.forEach(a),p.forEach(a),w.forEach(a),this.h()},h(){s(u,"class","space-y-2"),s(o,"class","p-4"),s(r,"class","w-48 bg-white shadow-sm h-screen"),s(k,"class","flex-1 overflow-y-auto p-6"),s(t,"class","flex"),s(e,"class","min-h-screen bg-gray-50 container")},m(n,w){E(n,e,w),_(e,t),_(t,r),_(r,o),_(o,u);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(u,null);_(t,d),_(t,k),h&&h.m(k,null),l=!0},p(n,w){if(w&12){v=L(n[3]);let p;for(p=0;p<v.length;p+=1){const j=S(n,v,p);i[p]?i[p].p(j,w):(i[p]=O(j),i[p].c(),i[p].m(u,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=v.length}h&&h.p&&(!l||w&16)&&Q(h,b,n,n[4],l?W(b,n[4],w,null):R(n[4]),null)},i(n){l||(C(h,n),l=!0)},o(n){D(h,n),l=!1},d(n){n&&a(e),X(i,n),h&&h.d(n)}}}function ne(c){let e,t,r,o="访问被拒绝",u,d,k;return{c(){e=y("div"),t=y("div"),r=y("p"),r.textContent=o,u=V(),d=y("p"),k=T(c[1]),this.h()},l(l){e=M(l,"DIV",{class:!0});var v=f(e);t=M(v,"DIV",{class:!0});var i=f(t);r=M(i,"P",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-13c89m4"&&(r.textContent=o),u=A(i),d=M(i,"P",{});var b=f(d);k=U(b,c[1]),b.forEach(a),i.forEach(a),v.forEach(a),this.h()},h(){s(r,"class","text-xl mb-4"),s(t,"class","text-red-500 text-center"),s(e,"class","min-h-screen flex items-center justify-center bg-gray-50")},m(l,v){E(l,e,v),_(e,t),_(t,r),_(t,u),_(t,d),_(d,k)},p(l,v){v&2&&Y(k,l[1])},i:I,o:I,d(l){l&&a(e)}}}function ce(c){let e,t='<div class="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"></div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(r){e=M(r,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1xjl6z4"&&(e.innerHTML=t),this.h()},h(){s(e,"class","min-h-screen flex items-center justify-center bg-gray-50")},m(r,o){E(r,e,o)},p:I,i:I,o:I,d(r){r&&a(e)}}}function ue(c){let e,t,r;return{c(){e=m("svg"),t=m("path"),r=m("path"),this.h()},l(o){e=g(o,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var u=f(e);t=g(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),r=g(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(r).forEach(a),u.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"),s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(r,"stroke-width","2"),s(r,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(o,u){E(o,e,u),_(e,t),_(e,r)},d(o){o&&a(e)}}}function he(c){let e,t;return{c(){e=m("svg"),t=m("path"),this.h()},l(r){e=g(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var o=f(e);t=g(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),o.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(r,o){E(r,e,o),_(e,t)},d(r){r&&a(e)}}}function fe(c){let e,t;return{c(){e=m("svg"),t=m("path"),this.h()},l(r){e=g(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var o=f(e);t=g(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),o.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(r,o){E(r,e,o),_(e,t)},d(r){r&&a(e)}}}function de(c){let e,t;return{c(){e=m("svg"),t=m("path"),this.h()},l(r){e=g(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var o=f(e);t=g(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),o.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(r,o){E(r,e,o),_(e,t)},d(r){r&&a(e)}}}function pe(c){let e,t;return{c(){e=m("svg"),t=m("path"),this.h()},l(r){e=g(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var o=f(e);t=g(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),o.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(r,o){E(r,e,o),_(e,t)},d(r){r&&a(e)}}}function _e(c){let e,t;return{c(){e=m("svg"),t=m("path"),this.h()},l(r){e=g(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var o=f(e);t=g(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),o.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(r,o){E(r,e,o),_(e,t)},d(r){r&&a(e)}}}function ve(c){let e,t,r;return{c(){e=m("svg"),t=m("path"),r=m("path"),this.h()},l(o){e=g(o,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var u=f(e);t=g(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(t).forEach(a),r=g(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),f(r).forEach(a),u.forEach(a),this.h()},h(){s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"stroke-width","2"),s(t,"d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"),s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(r,"stroke-width","2"),s(r,"d","M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"),s(e,"class","w-5 h-5"),s(e,"fill","none"),s(e,"stroke","currentColor"),s(e,"viewBox","0 0 24 24")},m(o,u){E(o,e,u),_(e,t),_(e,r)},d(o){o&&a(e)}}}function O(c){let e,t,r,o,u=c[8].label+"",d,k,l;function v(h,n){if(h[8].icon==="dashboard")return ve;if(h[8].icon==="users")return _e;if(h[8].icon==="repositories")return pe;if(h[8].icon==="classifications")return de;if(h[8].icon==="storage")return fe;if(h[8].icon==="system")return he;if(h[8].icon==="settings")return ue}let i=v(c),b=i&&i(c);return{c(){e=y("li"),t=y("a"),r=y("span"),b&&b.c(),o=V(),d=T(u),l=V(),this.h()},l(h){e=M(h,"LI",{});var n=f(e);t=M(n,"A",{href:!0,class:!0});var w=f(t);r=M(w,"SPAN",{class:!0});var p=f(r);b&&b.l(p),p.forEach(a),o=A(w),d=U(w,u),w.forEach(a),l=A(n),n.forEach(a),this.h()},h(){s(r,"class","mr-3"),s(t,"href",c[8].path),s(t,"class",k="flex items-center px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200 "+(c[2].url.pathname===c[8].path?"bg-blue-50 text-blue-700 border-r-2 border-blue-500":""))},m(h,n){E(h,e,n),_(e,t),_(t,r),b&&b.m(r,null),_(t,o),_(t,d),_(e,l)},p(h,n){n&4&&k!==(k="flex items-center px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200 "+(h[2].url.pathname===h[8].path?"bg-blue-50 text-blue-700 border-r-2 border-blue-500":""))&&s(t,"class",k)},d(h){h&&a(e),b&&b.d()}}}function ke(c){let e,t,r,o;const u=[ce,ne,ie],d=[];function k(l,v){return l[0]?0:l[1]?1:2}return e=k(c),t=d[e]=u[e](c),{c(){t.c(),r=$()},l(l){t.l(l),r=$()},m(l,v){d[e].m(l,v),E(l,r,v),o=!0},p(l,[v]){let i=e;e=k(l),e===i?d[e].p(l,v):(re(),D(d[i],1,1,()=>{d[i]=null}),te(),t=d[e],t?t.p(l,v):(t=d[e]=u[e](l),t.c()),C(t,1),t.m(r.parentNode,r))},i(l){o||(C(t),o=!0)},o(l){D(t),o=!1},d(l){l&&a(r),d[e].d(l)}}}function me(c,e,t){let r;F(c,se,i=>t(2,r=i));let{$$slots:o={},$$scope:u}=e,d=null,k=!0,l=null;J(async()=>{try{if(d=(await oe.getCurrentUser()).data,!d.is_admin){await P(x.LOGIN);return}t(0,k=!1)}catch(i){t(1,l=i.message),await P(x.LOGIN)}});const v=[{path:`${x.ADMIN}/dashboard`,label:"仪表板",icon:"dashboard"},{path:`${x.ADMIN}/users`,label:"用户管理",icon:"users"},{path:`${x.ADMIN}/repositories`,label:"仓库管理",icon:"repositories"},{path:`${x.ADMIN}/classifications`,label:"分类管理",icon:"classifications"},{path:`${x.ADMIN}/storage`,label:"存储管理",icon:"storage"},{path:`${x.ADMIN}/system`,label:"系统监控",icon:"system"},{path:`${x.ADMIN}/settings`,label:"系统设置",icon:"settings"}];return c.$$set=i=>{"$$scope"in i&&t(4,u=i.$$scope)},[k,l,r,v,u,o]}class je extends Z{constructor(e){super(),ee(this,e,me,ke,q,{})}}export{je as component,xe as universal};
