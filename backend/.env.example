# =================================
# 后端应用配置 (用于本地开发)
# =================================

# Database configuration
DATABASE_URL=postgresql://geoml:your_password@localhost:5432/geoml_hub
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# Redis configuration
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password

# MinIO Storage configuration
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=your_minio_secret_key
MINIO_SECURE=false
MINIO_DEFAULT_BUCKET=geoml-hub

# File Storage configuration
MAX_FILE_SIZE_MB=500
MAX_TOTAL_SIZE_GB=5
CHUNK_SIZE_MB=5
UPLOAD_SESSION_EXPIRES_HOURS=24

# Application configuration
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# JWT Authentication (CHANGE IN PRODUCTION)
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
EXTERNAL_AUTH_SECRET_KEY=external-auth-secret-key-change-in-production

# OpenGMS User Server Configuration
# 请联系OpenGMS团队获取以下认证凭证：
# 1. OPENGMS_USER_SERVER_URL: OpenGMS用户服务器地址
# 2. OPENGMS_OAUTH2_CLIENT_ID: OAuth2客户端ID（应用标识符）
# 3. OPENGMS_OAUTH2_CLIENT_SECRET: OAuth2客户端密钥（保密信息）
# 
# 开发环境示例配置：
OPENGMS_USER_SERVER_URL=http://94.191.49.160:8080  # 替换为真实的OpenGMS服务器地址
OPENGMS_OAUTH2_CLIENT_ID=test             # 向OpenGMS团队申请的客户端ID
OPENGMS_OAUTH2_CLIENT_SECRET=zz  # 从OpenGMS团队获取的密钥
OPENGMS_AUTH_TIMEOUT=30  # 认证服务超时时间（秒）

# External Authentication Service (备用配置，保留兼容性)
EXTERNAL_AUTH_URL=http://auth.example.com
EXTERNAL_AUTH_TIMEOUT=30

# Token Configuration
REFRESH_TOKEN_EXPIRE_DAYS=7
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS configuration
# 开发环境 - 允许本地前端开发服务器
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]
# 测试环境 - 允许测试域名
# CORS_ORIGINS=["https://test.geoml-hub.com","https://staging.geoml-hub.com"]
# 生产环境 - 仅允许生产域名
# CORS_ORIGINS=["https://geoml-hub.com","https://www.geoml-hub.com"]

CORS_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_HEADERS=["Content-Type", "Authorization"]

# File upload configuration
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=["jpg", "jpeg", "png", "gif", "pdf", "md"]

# Service monitoring
HEALTH_CHECK_INTERVAL=300  # 5 minutes
HEALTH_CHECK_TIMEOUT=10    # 10 seconds
MAX_RETRY_ATTEMPTS=3

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Pagination configuration
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Cache configuration
CACHE_TTL=3600  # 1 hour
CACHE_PREFIX=geoml_hub: