# Database configuration
DATABASE_URL=postgresql://geoml:ZXCvbnm1@172.21.252.231:5432/geoml_hub
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# Redis configuration
REDIS_URL=redis://172.21.252.231:6379/0
REDIS_PASSWORD=ZXCvbnm1

# Application configuration
SECRET_KEY=bH7X9kLm8nP2qR5tU8vY1aZ4bC7dF0gH3jK6lM9nP2qR5tU8vY1aZ4bC7dF0gH3j
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# JWT Authentication (生产环境必须更改)
JWT_SECRET_KEY=SYwDdpLgnKNPDt_ReEfv5R0OjtWu_EH6qqSN8kEAglo
EXTERNAL_AUTH_SECRET_KEY=uwzXBUC_ZBfwlzmPEk7ZKYibpC6mU4QWBzhJ7aZ54Cs

# OpenGMS User Server Configuration
OPENGMS_USER_SERVER_URL=http://94.191.49.160:8080/userServer  # 替换为真实的OpenGMS服务器地址
OPENGMS_OAUTH2_CLIENT_ID=test             # 向OpenGMS团队申请的客户端ID
OPENGMS_OAUTH2_CLIENT_SECRET=zz  # 从OpenGMS团队获取的密钥
OPENGMS_AUTH_TIMEOUT=30  # 认证服务超时时间（秒）

# External Authentication Service
EXTERNAL_AUTH_URL=http://auth.example.com
EXTERNAL_AUTH_TIMEOUT=30

# CORS configuration (开发环境)
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000","http://10.30.33.5:5173"]
CORS_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_HEADERS=["Content-Type", "Authorization"]

# File upload configuration
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=["jpg", "jpeg", "png", "gif", "pdf", "md"]

# External service configuration
HEALTH_CHECK_INTERVAL=300  # 5 minutes
HEALTH_CHECK_TIMEOUT=10    # 10 seconds
MAX_RETRY_ATTEMPTS=3

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s


# MinIO Storage configuration
MINIO_ENDPOINT=172.21.252.231:9000
MINIO_ACCESS_KEY=geomlminio
MINIO_SECRET_KEY=ZXCvbnm1
MINIO_SECURE=false
MINIO_DEFAULT_BUCKET=geoml-hub

# File Storage configuration
MAX_FILE_SIZE_MB=500
MAX_TOTAL_SIZE_GB=5
CHUNK_SIZE_MB=5
UPLOAD_SESSION_EXPIRES_HOURS=24

# Model Service Management
SERVICE_PORT_START=7001
SERVICE_PORT_END=7999
DOCKER_IMAGE_NAME=geoml-service:latest
DEFAULT_CPU_LIMIT=2
DEFAULT_MEMORY_LIMIT=2Gi
MAX_CPU_LIMIT=8
MAX_MEMORY_LIMIT=8Gi
# mManager Configuration - 分布式Docker控制器
MMANAGER_ENABLED=true
MMANAGER_API_KEY=mmanager-default-key
MMANAGER_CONTROLLERS=[{"id":"mmanager-local-01","url":"http://localhost:8001","server_type":"cpu","enabled":true,"priority":1,"weight":100}]

# Harbor Configuration - 镜像仓库
HARBOR_URL=https://172.21.252.230
HARBOR_USERNAME=admin
HARBOR_PASSWORD=ZXCvbnm1
HARBOR_DEFAULT_PROJECT=geoml-hub

# Skopeo Push Configuration
ENABLE_SKOPEO_PUSH=true

# Service Configuration
SERVICE_DOMAIN=172.21.252.231
SERVICE_IDLE_TIMEOUT=30
SERVICE_STARTUP_TIMEOUT=300
SERVICE_SHUTDOWN_TIMEOUT=30
AUTO_START_ON_VISIT=true
MAX_AUTO_START_RETRIES=3